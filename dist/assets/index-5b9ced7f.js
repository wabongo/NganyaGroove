function fR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function mw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gw={exports:{}},bu={},vw={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),pR=Symbol.for("react.portal"),mR=Symbol.for("react.fragment"),gR=Symbol.for("react.strict_mode"),vR=Symbol.for("react.profiler"),yR=Symbol.for("react.provider"),_R=Symbol.for("react.context"),wR=Symbol.for("react.forward_ref"),ER=Symbol.for("react.suspense"),TR=Symbol.for("react.memo"),xR=Symbol.for("react.lazy"),Qv=Symbol.iterator;function SR(t){return t===null||typeof t!="object"?null:(t=Qv&&t[Qv]||t["@@iterator"],typeof t=="function"?t:null)}var yw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_w=Object.assign,ww={};function cs(t,e,n){this.props=t,this.context=e,this.refs=ww,this.updater=n||yw}cs.prototype.isReactComponent={};cs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ew(){}Ew.prototype=cs.prototype;function zp(t,e,n){this.props=t,this.context=e,this.refs=ww,this.updater=n||yw}var Bp=zp.prototype=new Ew;Bp.constructor=zp;_w(Bp,cs.prototype);Bp.isPureReactComponent=!0;var Yv=Array.isArray,Tw=Object.prototype.hasOwnProperty,$p={current:null},xw={key:!0,ref:!0,__self:!0,__source:!0};function Sw(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Tw.call(e,r)&&!xw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ka,type:t,key:o,ref:s,props:i,_owner:$p.current}}function CR(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function IR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xv=/\/+/g;function Qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IR(""+t.key):e.toString(36)}function oc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ka:case pR:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Qd(s,0):r,Yv(i)?(n="",t!=null&&(n=t.replace(Xv,"$&/")+"/"),oc(i,e,n,"",function(u){return u})):i!=null&&(Hp(i)&&(i=CR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Xv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Yv(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Qd(o,l);s+=oc(o,e,n,a,i)}else if(a=SR(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Qd(o,l++),s+=oc(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Al(t,e,n){if(t==null)return t;var r=[],i=0;return oc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function RR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},sc={transition:null},AR={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:sc,ReactCurrentOwner:$p};function Cw(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Al,forEach:function(t,e,n){Al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Al(t,function(){e++}),e},toArray:function(t){return Al(t,function(e){return e})||[]},only:function(t){if(!Hp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=cs;ue.Fragment=mR;ue.Profiler=vR;ue.PureComponent=zp;ue.StrictMode=gR;ue.Suspense=ER;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;ue.act=Cw;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_w({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=$p.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Tw.call(e,a)&&!xw.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ka,type:t.type,key:i,ref:o,props:r,_owner:s}};ue.createContext=function(t){return t={$$typeof:_R,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yR,_context:t},t.Consumer=t};ue.createElement=Sw;ue.createFactory=function(t){var e=Sw.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:wR,render:t}};ue.isValidElement=Hp;ue.lazy=function(t){return{$$typeof:xR,_payload:{_status:-1,_result:t},_init:RR}};ue.memo=function(t,e){return{$$typeof:TR,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=sc.transition;sc.transition={};try{t()}finally{sc.transition=e}};ue.unstable_act=Cw;ue.useCallback=function(t,e){return Ot.current.useCallback(t,e)};ue.useContext=function(t){return Ot.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Ot.current.useEffect(t,e)};ue.useId=function(){return Ot.current.useId()};ue.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Ot.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};ue.useRef=function(t){return Ot.current.useRef(t)};ue.useState=function(t){return Ot.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Ot.current.useTransition()};ue.version="18.3.1";vw.exports=ue;var x=vw.exports;const Ce=mw(x),Iw=fR({__proto__:null,default:Ce},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR=x,bR=Symbol.for("react.element"),NR=Symbol.for("react.fragment"),kR=Object.prototype.hasOwnProperty,DR=PR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OR={key:!0,ref:!0,__self:!0,__source:!0};function Rw(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)kR.call(e,r)&&!OR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bR,type:t,key:o,ref:s,props:i,_owner:DR.current}}bu.Fragment=NR;bu.jsx=Rw;bu.jsxs=Rw;gw.exports=bu;var f=gw.exports,Xh={},Aw={exports:{}},Jt={},Pw={exports:{}},bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var W=V.length;V.push(B);e:for(;0<W;){var ee=W-1>>>1,ie=V[ee];if(0<i(ie,B))V[ee]=B,V[W]=ie,W=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],W=V.pop();if(W!==B){V[0]=W;e:for(var ee=0,ie=V.length,le=ie>>>1;ee<le;){var Ae=2*(ee+1)-1,Ke=V[Ae],Je=Ae+1,X=V[Je];if(0>i(Ke,W))Je<ie&&0>i(X,Ke)?(V[ee]=X,V[Je]=W,ee=Je):(V[ee]=Ke,V[Ae]=W,ee=Ae);else if(Je<ie&&0>i(X,W))V[ee]=X,V[Je]=W,ee=Je;else break e}}return B}function i(V,B){var W=V.sortIndex-B.sortIndex;return W!==0?W:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],d=1,h=null,m=3,E=!1,T=!1,_=!1,g=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,e(a,B);else break;B=n(u)}}function A(V){if(_=!1,v(V),!T)if(n(a)!==null)T=!0,Y(O);else{var B=n(u);B!==null&&K(A,B.startTime-V)}}function O(V,B){T=!1,_&&(_=!1,S(C),C=-1),E=!0;var W=m;try{for(v(B),h=n(a);h!==null&&(!(h.expirationTime>B)||V&&!k());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,m=h.priorityLevel;var ie=ee(h.expirationTime<=B);B=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(a)&&r(a),v(B)}else r(a);h=n(a)}if(h!==null)var le=!0;else{var Ae=n(u);Ae!==null&&K(A,Ae.startTime-B),le=!1}return le}finally{h=null,m=W,E=!1}}var M=!1,I=null,C=-1,P=5,b=-1;function k(){return!(t.unstable_now()-b<P)}function D(){if(I!==null){var V=t.unstable_now();b=V;var B=!0;try{B=I(!0,V)}finally{B?N():(M=!1,I=null)}}else M=!1}var N;if(typeof y=="function")N=function(){y(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Q=U.port2;U.port1.onmessage=D,N=function(){Q.postMessage(null)}}else N=function(){g(D,0)};function Y(V){I=V,M||(M=!0,N())}function K(V,B){C=g(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,Y(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var W=m;m=B;try{return V()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=m;m=V;try{return B()}finally{m=W}},t.unstable_scheduleCallback=function(V,B,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,V){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,V={id:d++,callback:B,priorityLevel:V,startTime:W,expirationTime:ie,sortIndex:-1},W>ee?(V.sortIndex=W,e(u,V),n(a)===null&&V===n(u)&&(_?(S(C),C=-1):_=!0,K(A,W-ee))):(V.sortIndex=ie,e(a,V),T||E||(T=!0,Y(O))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var B=m;return function(){var W=m;m=B;try{return V.apply(this,arguments)}finally{m=W}}}})(bw);Pw.exports=bw;var MR=Pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR=x,Xt=MR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nw=new Set,va={};function Xi(t,e){Ko(t,e),Ko(t+"Capture",e)}function Ko(t,e){for(va[t]=e,t=0;t<e.length;t++)Nw.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,jR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jv={},Zv={};function VR(t){return Jh.call(Zv,t)?!0:Jh.call(Jv,t)?!1:jR.test(t)?Zv[t]=!0:(Jv[t]=!0,!1)}function FR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UR(t,e,n,r){if(e===null||typeof e>"u"||FR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wp=/[\-:]([a-z])/g;function qp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wp,qp);mt[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wp,qp);mt[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wp,qp);mt[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kp(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UR(e,n,i,r)&&(n=null),r||i===null?VR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yr=LR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),kw=Symbol.for("react.provider"),Dw=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),Ow=Symbol.for("react.offscreen"),ey=Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Yd;function Ks(t){if(Yd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yd=e&&e[1]||""}return`
`+Yd+t}var Xd=!1;function Jd(t,e){if(!t||Xd)return"";Xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Xd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ks(t):""}function zR(t){switch(t.tag){case 5:return Ks(t.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return t=Jd(t.type,!1),t;case 11:return t=Jd(t.type.render,!1),t;case 1:return t=Jd(t.type,!0),t;default:return""}}function nf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yo:return"Fragment";case vo:return"Portal";case Zh:return"Profiler";case Gp:return"StrictMode";case ef:return"Suspense";case tf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dw:return(t.displayName||"Context")+".Consumer";case kw:return(t._context.displayName||"Context")+".Provider";case Qp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yp:return e=t.displayName||null,e!==null?e:nf(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return nf(t(e))}catch{}}return null}function BR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nf(e);case 8:return e===Gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $R(t){var e=Mw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bl(t){t._valueTracker||(t._valueTracker=$R(t))}function Lw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rf(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jw(t,e){e=e.checked,e!=null&&Kp(t,"checked",e,!1)}function of(t,e){jw(t,e);var n=ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sf(t,e.type,n):e.hasOwnProperty("defaultValue")&&sf(t,e.type,ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ny(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sf(t,e,n){(e!=="number"||bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gs=Array.isArray;function No(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ti(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function af(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ry(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Gs(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ti(n)}}function Vw(t,e){var n=ti(e.value),r=ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nl,Uw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HR=["Webkit","ms","Moz","O"];Object.keys(ta).forEach(function(t){HR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ta[e]=ta[t]})});function zw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ta.hasOwnProperty(t)&&ta[t]?(""+e).trim():e+"px"}function Bw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WR=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cf(t,e){if(e){if(WR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function uf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=null;function Xp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hf=null,ko=null,Do=null;function oy(t){if(t=Ya(t)){if(typeof hf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Mu(e),hf(t.stateNode,t.type,e))}}function $w(t){ko?Do?Do.push(t):Do=[t]:ko=t}function Hw(){if(ko){var t=ko,e=Do;if(Do=ko=null,oy(t),e)for(t=0;t<e.length;t++)oy(e[t])}}function Ww(t,e){return t(e)}function qw(){}var Zd=!1;function Kw(t,e,n){if(Zd)return t(e,n);Zd=!0;try{return Ww(t,e,n)}finally{Zd=!1,(ko!==null||Do!==null)&&(qw(),Hw())}}function _a(t,e){var n=t.stateNode;if(n===null)return null;var r=Mu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var ff=!1;if(lr)try{var js={};Object.defineProperty(js,"passive",{get:function(){ff=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{ff=!1}function qR(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var na=!1,Nc=null,kc=!1,pf=null,KR={onError:function(t){na=!0,Nc=t}};function GR(t,e,n,r,i,o,s,l,a){na=!1,Nc=null,qR.apply(KR,arguments)}function QR(t,e,n,r,i,o,s,l,a){if(GR.apply(this,arguments),na){if(na){var u=Nc;na=!1,Nc=null}else throw Error(z(198));kc||(kc=!0,pf=u)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sy(t){if(Ji(t)!==t)throw Error(z(188))}function YR(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sy(i),t;if(o===r)return sy(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Qw(t){return t=YR(t),t!==null?Yw(t):null}function Yw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yw(t);if(e!==null)return e;t=t.sibling}return null}var Xw=Xt.unstable_scheduleCallback,ay=Xt.unstable_cancelCallback,XR=Xt.unstable_shouldYield,JR=Xt.unstable_requestPaint,We=Xt.unstable_now,ZR=Xt.unstable_getCurrentPriorityLevel,Jp=Xt.unstable_ImmediatePriority,Jw=Xt.unstable_UserBlockingPriority,Dc=Xt.unstable_NormalPriority,eA=Xt.unstable_LowPriority,Zw=Xt.unstable_IdlePriority,Nu=null,Nn=null;function tA(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Nu,t,void 0,(t.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:iA,nA=Math.log,rA=Math.LN2;function iA(t){return t>>>=0,t===0?32:31-(nA(t)/rA|0)|0}var kl=64,Dl=4194304;function Qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Qs(l):(o&=s,o!==0&&(r=Qs(o)))}else s=n&~i,s!==0?r=Qs(s):o!==0&&(r=Qs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yn(e),i=1<<n,r|=t[n],e&=~i;return r}function oA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-yn(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=oA(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function mf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eE(){var t=kl;return kl<<=1,!(kl&4194240)&&(kl=64),t}function eh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yn(e),t[e]=n}function aA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Zp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function tE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nE,em,rE,iE,oE,gf=!1,Ol=[],Hr=null,Wr=null,qr=null,wa=new Map,Ea=new Map,kr=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ly(t,e){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(e.pointerId)}}function Vs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ya(e),e!==null&&em(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cA(t,e,n,r,i){switch(e){case"focusin":return Hr=Vs(Hr,t,e,n,r,i),!0;case"dragenter":return Wr=Vs(Wr,t,e,n,r,i),!0;case"mouseover":return qr=Vs(qr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return wa.set(o,Vs(wa.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ea.set(o,Vs(Ea.get(o)||null,t,e,n,r,i)),!0}return!1}function sE(t){var e=Ci(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=Gw(n),e!==null){t.blockedOn=e,oE(t.priority,function(){rE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);df=r,n.target.dispatchEvent(r),df=null}else return e=Ya(n),e!==null&&em(e),t.blockedOn=n,!1;e.shift()}return!0}function cy(t,e,n){ac(t)&&n.delete(e)}function uA(){gf=!1,Hr!==null&&ac(Hr)&&(Hr=null),Wr!==null&&ac(Wr)&&(Wr=null),qr!==null&&ac(qr)&&(qr=null),wa.forEach(cy),Ea.forEach(cy)}function Fs(t,e){t.blockedOn===e&&(t.blockedOn=null,gf||(gf=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,uA)))}function Ta(t){function e(i){return Fs(i,t)}if(0<Ol.length){Fs(Ol[0],t);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hr!==null&&Fs(Hr,t),Wr!==null&&Fs(Wr,t),qr!==null&&Fs(qr,t),wa.forEach(e),Ea.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)sE(n),n.blockedOn===null&&kr.shift()}var Oo=yr.ReactCurrentBatchConfig,Mc=!0;function dA(t,e,n,r){var i=xe,o=Oo.transition;Oo.transition=null;try{xe=1,tm(t,e,n,r)}finally{xe=i,Oo.transition=o}}function hA(t,e,n,r){var i=xe,o=Oo.transition;Oo.transition=null;try{xe=4,tm(t,e,n,r)}finally{xe=i,Oo.transition=o}}function tm(t,e,n,r){if(Mc){var i=vf(t,e,n,r);if(i===null)uh(t,e,r,Lc,n),ly(t,r);else if(cA(i,t,e,n,r))r.stopPropagation();else if(ly(t,r),e&4&&-1<lA.indexOf(t)){for(;i!==null;){var o=Ya(i);if(o!==null&&nE(o),o=vf(t,e,n,r),o===null&&uh(t,e,r,Lc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else uh(t,e,r,null,n)}}var Lc=null;function vf(t,e,n,r){if(Lc=null,t=Xp(r),t=Ci(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lc=t,null}function aE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZR()){case Jp:return 1;case Jw:return 4;case Dc:case eA:return 16;case Zw:return 536870912;default:return 16}default:return 16}}var Vr=null,nm=null,lc=null;function lE(){if(lc)return lc;var t,e=nm,n=e.length,r,i="value"in Vr?Vr.value:Vr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return lc=i.slice(t,1<r?1-r:void 0)}function cc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function uy(){return!1}function Zt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ml:uy,this.isPropagationStopped=uy,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rm=Zt(us),Qa=je({},us,{view:0,detail:0}),fA=Zt(Qa),th,nh,Us,ku=je({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:im,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Us&&(Us&&t.type==="mousemove"?(th=t.screenX-Us.screenX,nh=t.screenY-Us.screenY):nh=th=0,Us=t),th)},movementY:function(t){return"movementY"in t?t.movementY:nh}}),dy=Zt(ku),pA=je({},ku,{dataTransfer:0}),mA=Zt(pA),gA=je({},Qa,{relatedTarget:0}),rh=Zt(gA),vA=je({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),yA=Zt(vA),_A=je({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wA=Zt(_A),EA=je({},us,{data:0}),hy=Zt(EA),TA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SA[t])?!!e[t]:!1}function im(){return CA}var IA=je({},Qa,{key:function(t){if(t.key){var e=TA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:im,charCode:function(t){return t.type==="keypress"?cc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RA=Zt(IA),AA=je({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=Zt(AA),PA=je({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:im}),bA=Zt(PA),NA=je({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),kA=Zt(NA),DA=je({},ku,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OA=Zt(DA),MA=[9,13,27,32],om=lr&&"CompositionEvent"in window,ra=null;lr&&"documentMode"in document&&(ra=document.documentMode);var LA=lr&&"TextEvent"in window&&!ra,cE=lr&&(!om||ra&&8<ra&&11>=ra),py=String.fromCharCode(32),my=!1;function uE(t,e){switch(t){case"keyup":return MA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function jA(t,e){switch(t){case"compositionend":return dE(e);case"keypress":return e.which!==32?null:(my=!0,py);case"textInput":return t=e.data,t===py&&my?null:t;default:return null}}function VA(t,e){if(_o)return t==="compositionend"||!om&&uE(t,e)?(t=lE(),lc=nm=Vr=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cE&&e.locale!=="ko"?null:e.data;default:return null}}var FA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FA[t.type]:e==="textarea"}function hE(t,e,n,r){$w(r),e=jc(e,"onChange"),0<e.length&&(n=new rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ia=null,xa=null;function UA(t){xE(t,0)}function Du(t){var e=To(t);if(Lw(e))return t}function zA(t,e){if(t==="change")return e}var fE=!1;if(lr){var ih;if(lr){var oh="oninput"in document;if(!oh){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),oh=typeof vy.oninput=="function"}ih=oh}else ih=!1;fE=ih&&(!document.documentMode||9<document.documentMode)}function yy(){ia&&(ia.detachEvent("onpropertychange",pE),xa=ia=null)}function pE(t){if(t.propertyName==="value"&&Du(xa)){var e=[];hE(e,xa,t,Xp(t)),Kw(UA,e)}}function BA(t,e,n){t==="focusin"?(yy(),ia=e,xa=n,ia.attachEvent("onpropertychange",pE)):t==="focusout"&&yy()}function $A(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(xa)}function HA(t,e){if(t==="click")return Du(e)}function WA(t,e){if(t==="input"||t==="change")return Du(e)}function qA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:qA;function Sa(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jh.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function _y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wy(t,e){var n=_y(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_y(n)}}function mE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gE(){for(var t=window,e=bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bc(t.document)}return e}function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KA(t){var e=gE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mE(n.ownerDocument.documentElement,n)){if(r!==null&&sm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=wy(n,o);var s=wy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GA=lr&&"documentMode"in document&&11>=document.documentMode,wo=null,yf=null,oa=null,_f=!1;function Ey(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_f||wo==null||wo!==bc(r)||(r=wo,"selectionStart"in r&&sm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&Sa(oa,r)||(oa=r,r=jc(yf,"onSelect"),0<r.length&&(e=new rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function Ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eo={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},sh={},vE={};lr&&(vE=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Ou(t){if(sh[t])return sh[t];if(!Eo[t])return t;var e=Eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vE)return sh[t]=e[n];return t}var yE=Ou("animationend"),_E=Ou("animationiteration"),wE=Ou("animationstart"),EE=Ou("transitionend"),TE=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){TE.set(t,e),Xi(e,[t])}for(var ah=0;ah<Ty.length;ah++){var lh=Ty[ah],QA=lh.toLowerCase(),YA=lh[0].toUpperCase()+lh.slice(1);ui(QA,"on"+YA)}ui(yE,"onAnimationEnd");ui(_E,"onAnimationIteration");ui(wE,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(EE,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ys));function xy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QR(r,e,void 0,t),t.currentTarget=null}function xE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;xy(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;xy(i,l,u),o=a}}}if(kc)throw t=pf,kc=!1,pf=null,t}function ke(t,e){var n=e[Sf];n===void 0&&(n=e[Sf]=new Set);var r=t+"__bubble";n.has(r)||(SE(e,t,2,!1),n.add(r))}function ch(t,e,n){var r=0;e&&(r|=4),SE(n,t,r,e)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Ca(t){if(!t[jl]){t[jl]=!0,Nw.forEach(function(n){n!=="selectionchange"&&(XA.has(n)||ch(n,!1,t),ch(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jl]||(e[jl]=!0,ch("selectionchange",!1,e))}}function SE(t,e,n,r){switch(aE(e)){case 1:var i=dA;break;case 4:i=hA;break;default:i=tm}n=i.bind(null,e,n,t),i=void 0,!ff||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Ci(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Kw(function(){var u=o,d=Xp(n),h=[];e:{var m=TE.get(t);if(m!==void 0){var E=rm,T=t;switch(t){case"keypress":if(cc(n)===0)break e;case"keydown":case"keyup":E=RA;break;case"focusin":T="focus",E=rh;break;case"focusout":T="blur",E=rh;break;case"beforeblur":case"afterblur":E=rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=mA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=bA;break;case yE:case _E:case wE:E=yA;break;case EE:E=kA;break;case"scroll":E=fA;break;case"wheel":E=OA;break;case"copy":case"cut":case"paste":E=wA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=fy}var _=(e&4)!==0,g=!_&&t==="scroll",S=_?m!==null?m+"Capture":null:m;_=[];for(var y=u,v;y!==null;){v=y;var A=v.stateNode;if(v.tag===5&&A!==null&&(v=A,S!==null&&(A=_a(y,S),A!=null&&_.push(Ia(y,A,v)))),g)break;y=y.return}0<_.length&&(m=new E(m,T,null,n,d),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==df&&(T=n.relatedTarget||n.fromElement)&&(Ci(T)||T[cr]))break e;if((E||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=u,T=T?Ci(T):null,T!==null&&(g=Ji(T),T!==g||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=u),E!==T)){if(_=dy,A="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=fy,A="onPointerLeave",S="onPointerEnter",y="pointer"),g=E==null?m:To(E),v=T==null?m:To(T),m=new _(A,y+"leave",E,n,d),m.target=g,m.relatedTarget=v,A=null,Ci(d)===u&&(_=new _(S,y+"enter",T,n,d),_.target=v,_.relatedTarget=g,A=_),g=A,E&&T)t:{for(_=E,S=T,y=0,v=_;v;v=ao(v))y++;for(v=0,A=S;A;A=ao(A))v++;for(;0<y-v;)_=ao(_),y--;for(;0<v-y;)S=ao(S),v--;for(;y--;){if(_===S||S!==null&&_===S.alternate)break t;_=ao(_),S=ao(S)}_=null}else _=null;E!==null&&Sy(h,m,E,_,!1),T!==null&&g!==null&&Sy(h,g,T,_,!0)}}e:{if(m=u?To(u):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var O=zA;else if(gy(m))if(fE)O=WA;else{O=$A;var M=BA}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=HA);if(O&&(O=O(t,u))){hE(h,O,n,d);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&sf(m,"number",m.value)}switch(M=u?To(u):window,t){case"focusin":(gy(M)||M.contentEditable==="true")&&(wo=M,yf=u,oa=null);break;case"focusout":oa=yf=wo=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Ey(h,n,d);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":Ey(h,n,d)}var I;if(om)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _o?uE(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(cE&&n.locale!=="ko"&&(_o||C!=="onCompositionStart"?C==="onCompositionEnd"&&_o&&(I=lE()):(Vr=d,nm="value"in Vr?Vr.value:Vr.textContent,_o=!0)),M=jc(u,C),0<M.length&&(C=new hy(C,t,null,n,d),h.push({event:C,listeners:M}),I?C.data=I:(I=dE(n),I!==null&&(C.data=I)))),(I=LA?jA(t,n):VA(t,n))&&(u=jc(u,"onBeforeInput"),0<u.length&&(d=new hy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}xE(h,e)})}function Ia(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_a(t,n),o!=null&&r.unshift(Ia(t,o,i)),o=_a(t,e),o!=null&&r.push(Ia(t,o,i))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=_a(n,o),a!=null&&s.unshift(Ia(n,a,l))):i||(a=_a(n,o),a!=null&&s.push(Ia(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var JA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function Cy(t){return(typeof t=="string"?t:""+t).replace(JA,`
`).replace(ZA,"")}function Vl(t,e,n){if(e=Cy(e),Cy(t)!==e&&n)throw Error(z(425))}function Vc(){}var wf=null,Ef=null;function Tf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,eP=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,tP=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(t){return Iy.resolve(null).then(t).catch(nP)}:xf;function nP(t){setTimeout(function(){throw t})}function dh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ta(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ta(e)}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ry(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ds=Math.random().toString(36).slice(2),In="__reactFiber$"+ds,Ra="__reactProps$"+ds,cr="__reactContainer$"+ds,Sf="__reactEvents$"+ds,rP="__reactListeners$"+ds,iP="__reactHandles$"+ds;function Ci(t){var e=t[In];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[In]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ry(t);t!==null;){if(n=t[In])return n;t=Ry(t)}return e}t=n,n=t.parentNode}return null}function Ya(t){return t=t[In]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function To(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Mu(t){return t[Ra]||null}var Cf=[],xo=-1;function di(t){return{current:t}}function De(t){0>xo||(t.current=Cf[xo],Cf[xo]=null,xo--)}function Pe(t,e){xo++,Cf[xo]=t.current,t.current=e}var ni={},Rt=di(ni),Ft=di(!1),Li=ni;function Go(t,e){var n=t.type.contextTypes;if(!n)return ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(t){return t=t.childContextTypes,t!=null}function Fc(){De(Ft),De(Rt)}function Ay(t,e,n){if(Rt.current!==ni)throw Error(z(168));Pe(Rt,e),Pe(Ft,n)}function CE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,BR(t)||"Unknown",i));return je({},n,r)}function Uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ni,Li=Rt.current,Pe(Rt,t),Pe(Ft,Ft.current),!0}function Py(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=CE(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,De(Ft),De(Rt),Pe(Rt,t)):De(Ft),Pe(Ft,n)}var Jn=null,Lu=!1,hh=!1;function IE(t){Jn===null?Jn=[t]:Jn.push(t)}function oP(t){Lu=!0,IE(t)}function hi(){if(!hh&&Jn!==null){hh=!0;var t=0,e=xe;try{var n=Jn;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jn=null,Lu=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(t+1)),Xw(Jp,hi),i}finally{xe=e,hh=!1}}return null}var So=[],Co=0,zc=null,Bc=0,nn=[],rn=0,ji=null,er=1,tr="";function Ei(t,e){So[Co++]=Bc,So[Co++]=zc,zc=t,Bc=e}function RE(t,e,n){nn[rn++]=er,nn[rn++]=tr,nn[rn++]=ji,ji=t;var r=er;t=tr;var i=32-yn(r)-1;r&=~(1<<i),n+=1;var o=32-yn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,er=1<<32-yn(e)+i|n<<i|r,tr=o+t}else er=1<<o|n<<i|r,tr=t}function am(t){t.return!==null&&(Ei(t,1),RE(t,1,0))}function lm(t){for(;t===zc;)zc=So[--Co],So[Co]=null,Bc=So[--Co],So[Co]=null;for(;t===ji;)ji=nn[--rn],nn[rn]=null,tr=nn[--rn],nn[rn]=null,er=nn[--rn],nn[rn]=null}var Qt=null,Gt=null,Oe=!1,mn=null;function AE(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function by(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Gt=Kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ji!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Gt=null,!0):!1;default:return!1}}function If(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rf(t){if(Oe){var e=Gt;if(e){var n=e;if(!by(t,e)){if(If(t))throw Error(z(418));e=Kr(n.nextSibling);var r=Qt;e&&by(t,e)?AE(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Qt=t)}}else{if(If(t))throw Error(z(418));t.flags=t.flags&-4097|2,Oe=!1,Qt=t}}}function Ny(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function Fl(t){if(t!==Qt)return!1;if(!Oe)return Ny(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tf(t.type,t.memoizedProps)),e&&(e=Gt)){if(If(t))throw PE(),Error(z(418));for(;e;)AE(t,e),e=Kr(e.nextSibling)}if(Ny(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Qt?Kr(t.stateNode.nextSibling):null;return!0}function PE(){for(var t=Gt;t;)t=Kr(t.nextSibling)}function Qo(){Gt=Qt=null,Oe=!1}function cm(t){mn===null?mn=[t]:mn.push(t)}var sP=yr.ReactCurrentBatchConfig;function zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ul(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ky(t){var e=t._init;return e(t._payload)}function bE(t){function e(S,y){if(t){var v=S.deletions;v===null?(S.deletions=[y],S.flags|=16):v.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function i(S,y){return S=Xr(S,y),S.index=0,S.sibling=null,S}function o(S,y,v){return S.index=v,t?(v=S.alternate,v!==null?(v=v.index,v<y?(S.flags|=2,y):v):(S.flags|=2,y)):(S.flags|=1048576,y)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,y,v,A){return y===null||y.tag!==6?(y=_h(v,S.mode,A),y.return=S,y):(y=i(y,v),y.return=S,y)}function a(S,y,v,A){var O=v.type;return O===yo?d(S,y,v.props.children,A,v.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===br&&ky(O)===y.type)?(A=i(y,v.props),A.ref=zs(S,y,v),A.return=S,A):(A=gc(v.type,v.key,v.props,null,S.mode,A),A.ref=zs(S,y,v),A.return=S,A)}function u(S,y,v,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=wh(v,S.mode,A),y.return=S,y):(y=i(y,v.children||[]),y.return=S,y)}function d(S,y,v,A,O){return y===null||y.tag!==7?(y=bi(v,S.mode,A,O),y.return=S,y):(y=i(y,v),y.return=S,y)}function h(S,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_h(""+y,S.mode,v),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pl:return v=gc(y.type,y.key,y.props,null,S.mode,v),v.ref=zs(S,null,y),v.return=S,v;case vo:return y=wh(y,S.mode,v),y.return=S,y;case br:var A=y._init;return h(S,A(y._payload),v)}if(Gs(y)||Ls(y))return y=bi(y,S.mode,v,null),y.return=S,y;Ul(S,y)}return null}function m(S,y,v,A){var O=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return O!==null?null:l(S,y,""+v,A);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pl:return v.key===O?a(S,y,v,A):null;case vo:return v.key===O?u(S,y,v,A):null;case br:return O=v._init,m(S,y,O(v._payload),A)}if(Gs(v)||Ls(v))return O!==null?null:d(S,y,v,A,null);Ul(S,v)}return null}function E(S,y,v,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return S=S.get(v)||null,l(y,S,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Pl:return S=S.get(A.key===null?v:A.key)||null,a(y,S,A,O);case vo:return S=S.get(A.key===null?v:A.key)||null,u(y,S,A,O);case br:var M=A._init;return E(S,y,v,M(A._payload),O)}if(Gs(A)||Ls(A))return S=S.get(v)||null,d(y,S,A,O,null);Ul(y,A)}return null}function T(S,y,v,A){for(var O=null,M=null,I=y,C=y=0,P=null;I!==null&&C<v.length;C++){I.index>C?(P=I,I=null):P=I.sibling;var b=m(S,I,v[C],A);if(b===null){I===null&&(I=P);break}t&&I&&b.alternate===null&&e(S,I),y=o(b,y,C),M===null?O=b:M.sibling=b,M=b,I=P}if(C===v.length)return n(S,I),Oe&&Ei(S,C),O;if(I===null){for(;C<v.length;C++)I=h(S,v[C],A),I!==null&&(y=o(I,y,C),M===null?O=I:M.sibling=I,M=I);return Oe&&Ei(S,C),O}for(I=r(S,I);C<v.length;C++)P=E(I,S,C,v[C],A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?C:P.key),y=o(P,y,C),M===null?O=P:M.sibling=P,M=P);return t&&I.forEach(function(k){return e(S,k)}),Oe&&Ei(S,C),O}function _(S,y,v,A){var O=Ls(v);if(typeof O!="function")throw Error(z(150));if(v=O.call(v),v==null)throw Error(z(151));for(var M=O=null,I=y,C=y=0,P=null,b=v.next();I!==null&&!b.done;C++,b=v.next()){I.index>C?(P=I,I=null):P=I.sibling;var k=m(S,I,b.value,A);if(k===null){I===null&&(I=P);break}t&&I&&k.alternate===null&&e(S,I),y=o(k,y,C),M===null?O=k:M.sibling=k,M=k,I=P}if(b.done)return n(S,I),Oe&&Ei(S,C),O;if(I===null){for(;!b.done;C++,b=v.next())b=h(S,b.value,A),b!==null&&(y=o(b,y,C),M===null?O=b:M.sibling=b,M=b);return Oe&&Ei(S,C),O}for(I=r(S,I);!b.done;C++,b=v.next())b=E(I,S,C,b.value,A),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?C:b.key),y=o(b,y,C),M===null?O=b:M.sibling=b,M=b);return t&&I.forEach(function(D){return e(S,D)}),Oe&&Ei(S,C),O}function g(S,y,v,A){if(typeof v=="object"&&v!==null&&v.type===yo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Pl:e:{for(var O=v.key,M=y;M!==null;){if(M.key===O){if(O=v.type,O===yo){if(M.tag===7){n(S,M.sibling),y=i(M,v.props.children),y.return=S,S=y;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===br&&ky(O)===M.type){n(S,M.sibling),y=i(M,v.props),y.ref=zs(S,M,v),y.return=S,S=y;break e}n(S,M);break}else e(S,M);M=M.sibling}v.type===yo?(y=bi(v.props.children,S.mode,A,v.key),y.return=S,S=y):(A=gc(v.type,v.key,v.props,null,S.mode,A),A.ref=zs(S,y,v),A.return=S,S=A)}return s(S);case vo:e:{for(M=v.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(S,y.sibling),y=i(y,v.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=wh(v,S.mode,A),y.return=S,S=y}return s(S);case br:return M=v._init,g(S,y,M(v._payload),A)}if(Gs(v))return T(S,y,v,A);if(Ls(v))return _(S,y,v,A);Ul(S,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(S,y.sibling),y=i(y,v),y.return=S,S=y):(n(S,y),y=_h(v,S.mode,A),y.return=S,S=y),s(S)):n(S,y)}return g}var Yo=bE(!0),NE=bE(!1),$c=di(null),Hc=null,Io=null,um=null;function dm(){um=Io=Hc=null}function hm(t){var e=$c.current;De($c),t._currentValue=e}function Af(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){Hc=t,um=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(um!==t)if(t={context:t,memoizedValue:e,next:null},Io===null){if(Hc===null)throw Error(z(308));Io=t,Hc.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return e}var Ii=null;function fm(t){Ii===null?Ii=[t]:Ii.push(t)}function kE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nr=!1;function pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,fm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}function Dy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wc(t,e,n,r){var i=t.updateQueue;Nr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(o!==null){var h=i.baseState;s=0,d=u=a=null,l=o;do{var m=l.lane,E=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,_=l;switch(m=e,E=n,_.tag){case 1:if(T=_.payload,typeof T=="function"){h=T.call(E,h,m);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=_.payload,m=typeof T=="function"?T.call(E,h,m):T,m==null)break e;h=je({},h,m);break e;case 2:Nr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else E={eventTime:E,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=E,a=h):d=d.next=E,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fi|=s,t.lanes=s,t.memoizedState=h}}function Oy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Xa={},kn=di(Xa),Aa=di(Xa),Pa=di(Xa);function Ri(t){if(t===Xa)throw Error(z(174));return t}function mm(t,e){switch(Pe(Pa,e),Pe(Aa,t),Pe(kn,Xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lf(e,t)}De(kn),Pe(kn,e)}function Xo(){De(kn),De(Aa),De(Pa)}function OE(t){Ri(Pa.current);var e=Ri(kn.current),n=lf(e,t.type);e!==n&&(Pe(Aa,t),Pe(kn,n))}function gm(t){Aa.current===t&&(De(kn),De(Aa))}var Me=di(0);function qc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fh=[];function vm(){for(var t=0;t<fh.length;t++)fh[t]._workInProgressVersionPrimary=null;fh.length=0}var dc=yr.ReactCurrentDispatcher,ph=yr.ReactCurrentBatchConfig,Vi=0,Le=null,et=null,st=null,Kc=!1,sa=!1,ba=0,aP=0;function Et(){throw Error(z(321))}function ym(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function _m(t,e,n,r,i,o){if(Vi=o,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dc.current=t===null||t.memoizedState===null?dP:hP,t=n(r,i),sa){o=0;do{if(sa=!1,ba=0,25<=o)throw Error(z(301));o+=1,st=et=null,e.updateQueue=null,dc.current=fP,t=n(r,i)}while(sa)}if(dc.current=Gc,e=et!==null&&et.next!==null,Vi=0,st=et=Le=null,Kc=!1,e)throw Error(z(300));return t}function wm(){var t=ba!==0;return ba=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Le.memoizedState=st=t:st=st.next=t,st}function ln(){if(et===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=st===null?Le.memoizedState:st.next;if(e!==null)st=e,et=t;else{if(t===null)throw Error(z(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},st===null?Le.memoizedState=st=t:st=st.next=t}return st}function Na(t,e){return typeof e=="function"?e(t):e}function mh(t){var e=ln(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var d=u.lane;if((Vi&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,s=r):a=a.next=h,Le.lanes|=d,Fi|=d}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,wn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Le.lanes|=o,Fi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gh(t){var e=ln(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);wn(o,e.memoizedState)||(Vt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ME(){}function LE(t,e){var n=Le,r=ln(),i=e(),o=!wn(r.memoizedState,i);if(o&&(r.memoizedState=i,Vt=!0),r=r.queue,Em(FE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,ka(9,VE.bind(null,n,r,i,e),void 0,null),at===null)throw Error(z(349));Vi&30||jE(n,e,i)}return i}function jE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VE(t,e,n,r){e.value=n,e.getSnapshot=r,UE(e)&&zE(t)}function FE(t,e,n){return n(function(){UE(e)&&zE(t)})}function UE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function zE(t){var e=ur(t,1);e!==null&&_n(e,t,1,-1)}function My(t){var e=Cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:t},e.queue=t,t=t.dispatch=uP.bind(null,Le,t),[e.memoizedState,t]}function ka(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BE(){return ln().memoizedState}function hc(t,e,n,r){var i=Cn();Le.flags|=t,i.memoizedState=ka(1|e,n,void 0,r===void 0?null:r)}function ju(t,e,n,r){var i=ln();r=r===void 0?null:r;var o=void 0;if(et!==null){var s=et.memoizedState;if(o=s.destroy,r!==null&&ym(r,s.deps)){i.memoizedState=ka(e,n,o,r);return}}Le.flags|=t,i.memoizedState=ka(1|e,n,o,r)}function Ly(t,e){return hc(8390656,8,t,e)}function Em(t,e){return ju(2048,8,t,e)}function $E(t,e){return ju(4,2,t,e)}function HE(t,e){return ju(4,4,t,e)}function WE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qE(t,e,n){return n=n!=null?n.concat([t]):null,ju(4,4,WE.bind(null,e,t),n)}function Tm(){}function KE(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ym(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GE(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ym(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QE(t,e,n){return Vi&21?(wn(n,e)||(n=eE(),Le.lanes|=n,Fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function lP(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=ph.transition;ph.transition={};try{t(!1),e()}finally{xe=n,ph.transition=r}}function YE(){return ln().memoizedState}function cP(t,e,n){var r=Yr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XE(t))JE(e,n);else if(n=kE(t,e,n,r),n!==null){var i=Dt();_n(n,t,r,i),ZE(n,e,r)}}function uP(t,e,n){var r=Yr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XE(t))JE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,wn(l,s)){var a=e.interleaved;a===null?(i.next=i,fm(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=kE(t,e,i,r),n!==null&&(i=Dt(),_n(n,t,r,i),ZE(n,e,r))}}function XE(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function JE(t,e){sa=Kc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}var Gc={readContext:an,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},dP={readContext:an,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:Ly,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hc(4194308,4,WE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hc(4194308,4,t,e)},useInsertionEffect:function(t,e){return hc(4,2,t,e)},useMemo:function(t,e){var n=Cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cP.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:My,useDebugValue:Tm,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=My(!1),e=t[0];return t=lP.bind(null,t[1]),Cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Cn();if(Oe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),at===null)throw Error(z(349));Vi&30||jE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ly(FE.bind(null,r,o,t),[t]),r.flags|=2048,ka(9,VE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Cn(),e=at.identifierPrefix;if(Oe){var n=tr,r=er;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hP={readContext:an,useCallback:KE,useContext:an,useEffect:Em,useImperativeHandle:qE,useInsertionEffect:$E,useLayoutEffect:HE,useMemo:GE,useReducer:mh,useRef:BE,useState:function(){return mh(Na)},useDebugValue:Tm,useDeferredValue:function(t){var e=ln();return QE(e,et.memoizedState,t)},useTransition:function(){var t=mh(Na)[0],e=ln().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:LE,useId:YE,unstable_isNewReconciler:!1},fP={readContext:an,useCallback:KE,useContext:an,useEffect:Em,useImperativeHandle:qE,useInsertionEffect:$E,useLayoutEffect:HE,useMemo:GE,useReducer:gh,useRef:BE,useState:function(){return gh(Na)},useDebugValue:Tm,useDeferredValue:function(t){var e=ln();return et===null?e.memoizedState=t:QE(e,et.memoizedState,t)},useTransition:function(){var t=gh(Na)[0],e=ln().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:LE,useId:YE,unstable_isNewReconciler:!1};function fn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vu={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=Yr(t),o=sr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Gr(t,o,i),e!==null&&(_n(e,t,i,r),uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=Yr(t),o=sr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Gr(t,o,i),e!==null&&(_n(e,t,i,r),uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=Yr(t),i=sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gr(t,i,r),e!==null&&(_n(e,t,r,n),uc(e,t,r))}};function jy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Sa(n,r)||!Sa(i,o):!0}function eT(t,e,n){var r=!1,i=ni,o=e.contextType;return typeof o=="object"&&o!==null?o=an(o):(i=Ut(e)?Li:Rt.current,r=e.contextTypes,o=(r=r!=null)?Go(t,i):ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Vy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vu.enqueueReplaceState(e,e.state,null)}function bf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=an(o):(o=Ut(e)?Li:Rt.current,i.context=Go(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Pf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vu.enqueueReplaceState(i,i.state,null),Wc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Jo(t,e){try{var n="",r=e;do n+=zR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function vh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pP=typeof WeakMap=="function"?WeakMap:Map;function tT(t,e,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yc||(Yc=!0,zf=r),Nf(t,e)},n}function nT(t,e,n){n=sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Nf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Nf(t,e),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Fy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=AP.bind(null,t,e,n),e.then(t,t))}function Uy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sr(-1,1),e.tag=2,Gr(n,e,1))),n.lanes|=1),t)}var mP=yr.ReactCurrentOwner,Vt=!1;function Nt(t,e,n,r){e.child=t===null?NE(e,null,n,r):Yo(e,t.child,n,r)}function By(t,e,n,r,i){n=n.render;var o=e.ref;return Mo(e,i),r=_m(t,e,n,r,o,i),n=wm(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dr(t,e,i)):(Oe&&n&&am(e),e.flags|=1,Nt(t,e,r,i),e.child)}function $y(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!bm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,rT(t,e,o,r,i)):(t=gc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Sa,n(s,r)&&t.ref===e.ref)return dr(t,e,i)}return e.flags|=1,t=Xr(o,r),t.ref=e.ref,t.return=e,e.child=t}function rT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Sa(o,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,dr(t,e,i)}return kf(t,e,n,r,i)}function iT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ao,Ht),Ht|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Ao,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(Ao,Ht),Ht|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pe(Ao,Ht),Ht|=r;return Nt(t,e,i,n),e.child}function oT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kf(t,e,n,r,i){var o=Ut(n)?Li:Rt.current;return o=Go(e,o),Mo(e,i),n=_m(t,e,n,r,o,i),r=wm(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dr(t,e,i)):(Oe&&r&&am(e),e.flags|=1,Nt(t,e,n,i),e.child)}function Hy(t,e,n,r,i){if(Ut(n)){var o=!0;Uc(e)}else o=!1;if(Mo(e,i),e.stateNode===null)fc(t,e),eT(e,n,r),bf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Ut(n)?Li:Rt.current,u=Go(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Vy(e,s,r,u),Nr=!1;var m=e.memoizedState;s.state=m,Wc(e,r,s,i),a=e.memoizedState,l!==r||m!==a||Ft.current||Nr?(typeof d=="function"&&(Pf(e,n,d,r),a=e.memoizedState),(l=Nr||jy(e,n,l,r,m,a,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,DE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:fn(e.type,l),s.props=u,h=e.pendingProps,m=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=an(a):(a=Ut(n)?Li:Rt.current,a=Go(e,a));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||m!==a)&&Vy(e,s,r,a),Nr=!1,m=e.memoizedState,s.state=m,Wc(e,r,s,i);var T=e.memoizedState;l!==h||m!==T||Ft.current||Nr?(typeof E=="function"&&(Pf(e,n,E,r),T=e.memoizedState),(u=Nr||jy(e,n,u,r,m,T,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,T,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,T,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),s.props=r,s.state=T,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Df(t,e,n,r,o,i)}function Df(t,e,n,r,i,o){oT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Py(e,n,!1),dr(t,e,o);r=e.stateNode,mP.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Yo(e,t.child,null,o),e.child=Yo(e,null,l,o)):Nt(t,e,l,o),e.memoizedState=r.state,i&&Py(e,n,!0),e.child}function sT(t){var e=t.stateNode;e.pendingContext?Ay(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ay(t,e.context,!1),mm(t,e.containerInfo)}function Wy(t,e,n,r,i){return Qo(),cm(i),e.flags|=256,Nt(t,e,n,r),e.child}var Of={dehydrated:null,treeContext:null,retryLane:0};function Mf(t){return{baseLanes:t,cachePool:null,transitions:null}}function aT(t,e,n){var r=e.pendingProps,i=Me.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Me,i&1),t===null)return Rf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=zu(s,r,0,null),t=bi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Mf(n),e.memoizedState=Of,t):xm(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return gP(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Xr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Xr(l,o):(o=bi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Mf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Of,r}return o=t.child,t=o.sibling,r=Xr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xm(t,e){return e=zu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zl(t,e,n,r){return r!==null&&cm(r),Yo(e,t.child,null,n),t=xm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gP(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=vh(Error(z(422))),zl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zu({mode:"visible",children:r.children},i,0,null),o=bi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Yo(e,t.child,null,s),e.child.memoizedState=Mf(s),e.memoizedState=Of,o);if(!(e.mode&1))return zl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(z(419)),r=vh(o,r,void 0),zl(t,e,s,r)}if(l=(s&t.childLanes)!==0,Vt||l){if(r=at,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ur(t,i),_n(r,t,i,-1))}return Pm(),r=vh(Error(z(421))),zl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gt=Kr(i.nextSibling),Qt=e,Oe=!0,mn=null,t!==null&&(nn[rn++]=er,nn[rn++]=tr,nn[rn++]=ji,er=t.id,tr=t.overflow,ji=e),e=xm(e,r.children),e.flags|=4096,e)}function qy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Af(t.return,e,n)}function yh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function lT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Nt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,n,e);else if(t.tag===19)qy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&qc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yh(e,!0,n,null,o);break;case"together":yh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vP(t,e,n){switch(e.tag){case 3:sT(e),Qo();break;case 5:OE(e);break;case 1:Ut(e.type)&&Uc(e);break;case 4:mm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe($c,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?aT(t,e,n):(Pe(Me,Me.current&1),t=dr(t,e,n),t!==null?t.sibling:null);Pe(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,iT(t,e,n)}return dr(t,e,n)}var cT,Lf,uT,dT;cT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lf=function(){};uT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ri(kn.current);var o=null;switch(n){case"input":i=rf(t,i),r=rf(t,r),o=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),o=[];break;case"textarea":i=af(t,i),r=af(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vc)}cf(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(va.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(va.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ke("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};dT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bs(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yP(t,e,n){var r=e.pendingProps;switch(lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Ut(e.type)&&Fc(),Tt(e),null;case 3:return r=e.stateNode,Xo(),De(Ft),De(Rt),vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mn!==null&&(Hf(mn),mn=null))),Lf(t,e),Tt(e),null;case 5:gm(e);var i=Ri(Pa.current);if(n=e.type,t!==null&&e.stateNode!=null)uT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Tt(e),null}if(t=Ri(kn.current),Fl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[In]=e,r[Ra]=o,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Ys.length;i++)ke(Ys[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ty(r,o),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ke("invalid",r);break;case"textarea":ry(r,o),ke("invalid",r)}cf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Vl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Vl(r.textContent,l,t),i=["children",""+l]):va.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ke("scroll",r)}switch(n){case"input":bl(r),ny(r,o,!0);break;case"textarea":bl(r),iy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[In]=e,t[Ra]=r,cT(t,e,!1,!1),e.stateNode=t;e:{switch(s=uf(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ys.length;i++)ke(Ys[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":ty(t,r),i=rf(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),ke("invalid",t);break;case"textarea":ry(t,r),i=af(t,r),ke("invalid",t);break;default:i=r}cf(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Bw(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Uw(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ya(t,a):typeof a=="number"&&ya(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(va.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ke("scroll",t):a!=null&&Kp(t,o,a,s))}switch(n){case"input":bl(t),ny(t,r,!1);break;case"textarea":bl(t),iy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ti(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?No(t,!!r.multiple,o,!1):r.defaultValue!=null&&No(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)dT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ri(Pa.current),Ri(kn.current),Fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[In]=e,(o=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:Vl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=e,e.stateNode=r}return Tt(e),null;case 13:if(De(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Gt!==null&&e.mode&1&&!(e.flags&128))PE(),Qo(),e.flags|=98560,o=!1;else if(o=Fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[In]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),o=!1}else mn!==null&&(Hf(mn),mn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?nt===0&&(nt=3):Pm())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return Xo(),Lf(t,e),t===null&&Ca(e.stateNode.containerInfo),Tt(e),null;case 10:return hm(e.type._context),Tt(e),null;case 17:return Ut(e.type)&&Fc(),Tt(e),null;case 19:if(De(Me),o=e.memoizedState,o===null)return Tt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Bs(o,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=qc(t),s!==null){for(e.flags|=128,Bs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Me,Me.current&1|2),e.child}t=t.sibling}o.tail!==null&&We()>Zo&&(e.flags|=128,r=!0,Bs(o,!1),e.lanes=4194304)}else{if(!r)if(t=qc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Oe)return Tt(e),null}else 2*We()-o.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,Bs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,n=Me.current,Pe(Me,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return Am(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function _P(t,e){switch(lm(e),e.tag){case 1:return Ut(e.type)&&Fc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),De(Ft),De(Rt),vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gm(e),null;case 13:if(De(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Me),null;case 4:return Xo(),null;case 10:return hm(e.type._context),null;case 22:case 23:return Am(),null;case 24:return null;default:return null}}var Bl=!1,Ct=!1,wP=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function jf(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var Ky=!1;function EP(t,e){if(wf=Mc,t=gE(),sm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var E;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==o||r!==0&&h.nodeType!==3||(a=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(E=h.firstChild)!==null;)m=h,h=E;for(;;){if(h===t)break t;if(m===n&&++u===i&&(l=s),m===o&&++d===r&&(a=s),(E=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=E}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ef={focusedElem:t,selectionRange:n},Mc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var _=T.memoizedProps,g=T.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?_:fn(e.type,_),g);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){Ue(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return T=Ky,Ky=!1,T}function aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&jf(e,n,o)}i=i.next}while(i!==r)}}function Fu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hT(t){var e=t.alternate;e!==null&&(t.alternate=null,hT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[Ra],delete e[Sf],delete e[rP],delete e[iP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fT(t){return t.tag===5||t.tag===3||t.tag===4}function Gy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vc));else if(r!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}function Uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uf(t,e,n),t=t.sibling;t!==null;)Uf(t,e,n),t=t.sibling}var ut=null,pn=!1;function Cr(t,e,n){for(n=n.child;n!==null;)pT(t,e,n),n=n.sibling}function pT(t,e,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Nu,n)}catch{}switch(n.tag){case 5:Ct||Ro(n,e);case 6:var r=ut,i=pn;ut=null,Cr(t,e,n),ut=r,pn=i,ut!==null&&(pn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(pn?(t=ut,n=n.stateNode,t.nodeType===8?dh(t.parentNode,n):t.nodeType===1&&dh(t,n),Ta(t)):dh(ut,n.stateNode));break;case 4:r=ut,i=pn,ut=n.stateNode.containerInfo,pn=!0,Cr(t,e,n),ut=r,pn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&jf(n,e,s),i=i.next}while(i!==r)}Cr(t,e,n);break;case 1:if(!Ct&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,e,l)}Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Cr(t,e,n),Ct=r):Cr(t,e,n);break;default:Cr(t,e,n)}}function Qy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wP),e.forEach(function(r){var i=bP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,pn=!1;break e;case 3:ut=l.stateNode.containerInfo,pn=!0;break e;case 4:ut=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(ut===null)throw Error(z(160));pT(o,s,i),ut=null,pn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ue(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mT(e,t),e=e.sibling}function mT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),Sn(t),r&4){try{aa(3,t,t.return),Fu(3,t)}catch(_){Ue(t,t.return,_)}try{aa(5,t,t.return)}catch(_){Ue(t,t.return,_)}}break;case 1:dn(e,t),Sn(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(dn(e,t),Sn(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var i=t.stateNode;try{ya(i,"")}catch(_){Ue(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&jw(i,o),uf(l,s);var u=uf(l,o);for(s=0;s<a.length;s+=2){var d=a[s],h=a[s+1];d==="style"?Bw(i,h):d==="dangerouslySetInnerHTML"?Uw(i,h):d==="children"?ya(i,h):Kp(i,d,h,u)}switch(l){case"input":of(i,o);break;case"textarea":Vw(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?No(i,!!o.multiple,E,!1):m!==!!o.multiple&&(o.defaultValue!=null?No(i,!!o.multiple,o.defaultValue,!0):No(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ra]=o}catch(_){Ue(t,t.return,_)}}break;case 6:if(dn(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){Ue(t,t.return,_)}}break;case 3:if(dn(e,t),Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ta(e.containerInfo)}catch(_){Ue(t,t.return,_)}break;case 4:dn(e,t),Sn(t);break;case 13:dn(e,t),Sn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Im=We())),r&4&&Qy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||d,dn(e,t),Ct=u):dn(e,t),Sn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(h=q=d;q!==null;){switch(m=q,E=m.child,m.tag){case 0:case 11:case 14:case 15:aa(4,m,m.return);break;case 1:Ro(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(_){Ue(r,n,_)}}break;case 5:Ro(m,m.return);break;case 22:if(m.memoizedState!==null){Xy(h);continue}}E!==null?(E.return=m,q=E):Xy(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=zw("display",s))}catch(_){Ue(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ue(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dn(e,t),Sn(t),r&4&&Qy(t);break;case 21:break;default:dn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fT(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ya(i,""),r.flags&=-33);var o=Gy(t);Uf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Gy(t);Ff(t,l,s);break;default:throw Error(z(161))}}catch(a){Ue(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TP(t,e,n){q=t,gT(t)}function gT(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Bl;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ct;l=Bl;var u=Ct;if(Bl=s,(Ct=a)&&!u)for(q=i;q!==null;)s=q,a=s.child,s.tag===22&&s.memoizedState!==null?Jy(i):a!==null?(a.return=s,q=a):Jy(i);for(;o!==null;)q=o,gT(o),o=o.sibling;q=i,Bl=l,Ct=u}Yy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,q=o):Yy(t)}}function Yy(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Fu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Oy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Oy(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ta(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||e.flags&512&&Vf(e)}catch(m){Ue(e,e.return,m)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Xy(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Jy(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fu(4,e)}catch(a){Ue(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ue(e,i,a)}}var o=e.return;try{Vf(e)}catch(a){Ue(e,o,a)}break;case 5:var s=e.return;try{Vf(e)}catch(a){Ue(e,s,a)}}}catch(a){Ue(e,e.return,a)}if(e===t){q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,q=l;break}q=e.return}}var xP=Math.ceil,Qc=yr.ReactCurrentDispatcher,Sm=yr.ReactCurrentOwner,sn=yr.ReactCurrentBatchConfig,ve=0,at=null,Qe=null,ft=0,Ht=0,Ao=di(0),nt=0,Da=null,Fi=0,Uu=0,Cm=0,la=null,jt=null,Im=0,Zo=1/0,Xn=null,Yc=!1,zf=null,Qr=null,$l=!1,Fr=null,Xc=0,ca=0,Bf=null,pc=-1,mc=0;function Dt(){return ve&6?We():pc!==-1?pc:pc=We()}function Yr(t){return t.mode&1?ve&2&&ft!==0?ft&-ft:sP.transition!==null?(mc===0&&(mc=eE()),mc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:aE(t.type)),t):1}function _n(t,e,n,r){if(50<ca)throw ca=0,Bf=null,Error(z(185));Ga(t,n,r),(!(ve&2)||t!==at)&&(t===at&&(!(ve&2)&&(Uu|=n),nt===4&&Dr(t,ft)),zt(t,r),n===1&&ve===0&&!(e.mode&1)&&(Zo=We()+500,Lu&&hi()))}function zt(t,e){var n=t.callbackNode;sA(t,e);var r=Oc(t,t===at?ft:0);if(r===0)n!==null&&ay(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ay(n),e===1)t.tag===0?oP(Zy.bind(null,t)):IE(Zy.bind(null,t)),tP(function(){!(ve&6)&&hi()}),n=null;else{switch(tE(r)){case 1:n=Jp;break;case 4:n=Jw;break;case 16:n=Dc;break;case 536870912:n=Zw;break;default:n=Dc}n=ST(n,vT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vT(t,e){if(pc=-1,mc=0,ve&6)throw Error(z(327));var n=t.callbackNode;if(Lo()&&t.callbackNode!==n)return null;var r=Oc(t,t===at?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jc(t,r);else{e=r;var i=ve;ve|=2;var o=_T();(at!==t||ft!==e)&&(Xn=null,Zo=We()+500,Pi(t,e));do try{IP();break}catch(l){yT(t,l)}while(1);dm(),Qc.current=o,ve=i,Qe!==null?e=0:(at=null,ft=0,e=nt)}if(e!==0){if(e===2&&(i=mf(t),i!==0&&(r=i,e=$f(t,i))),e===1)throw n=Da,Pi(t,0),Dr(t,r),zt(t,We()),n;if(e===6)Dr(t,r);else{if(i=t.current.alternate,!(r&30)&&!SP(i)&&(e=Jc(t,r),e===2&&(o=mf(t),o!==0&&(r=o,e=$f(t,o))),e===1))throw n=Da,Pi(t,0),Dr(t,r),zt(t,We()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ti(t,jt,Xn);break;case 3:if(Dr(t,r),(r&130023424)===r&&(e=Im+500-We(),10<e)){if(Oc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xf(Ti.bind(null,t,jt,Xn),e);break}Ti(t,jt,Xn);break;case 4:if(Dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-yn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xP(r/1960))-r,10<r){t.timeoutHandle=xf(Ti.bind(null,t,jt,Xn),r);break}Ti(t,jt,Xn);break;case 5:Ti(t,jt,Xn);break;default:throw Error(z(329))}}}return zt(t,We()),t.callbackNode===n?vT.bind(null,t):null}function $f(t,e){var n=la;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=Jc(t,e),t!==2&&(e=jt,jt=n,e!==null&&Hf(e)),t}function Hf(t){jt===null?jt=t:jt.push.apply(jt,t)}function SP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dr(t,e){for(e&=~Cm,e&=~Uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yn(e),r=1<<n;t[n]=-1,e&=~r}}function Zy(t){if(ve&6)throw Error(z(327));Lo();var e=Oc(t,0);if(!(e&1))return zt(t,We()),null;var n=Jc(t,e);if(t.tag!==0&&n===2){var r=mf(t);r!==0&&(e=r,n=$f(t,r))}if(n===1)throw n=Da,Pi(t,0),Dr(t,e),zt(t,We()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,jt,Xn),zt(t,We()),null}function Rm(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Zo=We()+500,Lu&&hi())}}function Ui(t){Fr!==null&&Fr.tag===0&&!(ve&6)&&Lo();var e=ve;ve|=1;var n=sn.transition,r=xe;try{if(sn.transition=null,xe=1,t)return t()}finally{xe=r,sn.transition=n,ve=e,!(ve&6)&&hi()}}function Am(){Ht=Ao.current,De(Ao)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eP(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(lm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fc();break;case 3:Xo(),De(Ft),De(Rt),vm();break;case 5:gm(r);break;case 4:Xo();break;case 13:De(Me);break;case 19:De(Me);break;case 10:hm(r.type._context);break;case 22:case 23:Am()}n=n.return}if(at=t,Qe=t=Xr(t.current,null),ft=Ht=e,nt=0,Da=null,Cm=Uu=Fi=0,jt=la=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ii=null}return t}function yT(t,e){do{var n=Qe;try{if(dm(),dc.current=Gc,Kc){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kc=!1}if(Vi=0,st=et=Le=null,sa=!1,ba=0,Sm.current=null,n===null||n.return===null){nt=1,Da=e,Qe=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=ft,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=Uy(s);if(E!==null){E.flags&=-257,zy(E,s,l,o,e),E.mode&1&&Fy(o,u,e),e=E,a=u;var T=e.updateQueue;if(T===null){var _=new Set;_.add(a),e.updateQueue=_}else T.add(a);break e}else{if(!(e&1)){Fy(o,u,e),Pm();break e}a=Error(z(426))}}else if(Oe&&l.mode&1){var g=Uy(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),zy(g,s,l,o,e),cm(Jo(a,l));break e}}o=a=Jo(a,l),nt!==4&&(nt=2),la===null?la=[o]:la.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=tT(o,a,e);Dy(o,S);break e;case 1:l=a;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qr===null||!Qr.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=nT(o,l,e);Dy(o,A);break e}}o=o.return}while(o!==null)}ET(n)}catch(O){e=O,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function _T(){var t=Qc.current;return Qc.current=Gc,t===null?Gc:t}function Pm(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||!(Fi&268435455)&&!(Uu&268435455)||Dr(at,ft)}function Jc(t,e){var n=ve;ve|=2;var r=_T();(at!==t||ft!==e)&&(Xn=null,Pi(t,e));do try{CP();break}catch(i){yT(t,i)}while(1);if(dm(),ve=n,Qc.current=r,Qe!==null)throw Error(z(261));return at=null,ft=0,nt}function CP(){for(;Qe!==null;)wT(Qe)}function IP(){for(;Qe!==null&&!XR();)wT(Qe)}function wT(t){var e=xT(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?ET(t):Qe=e,Sm.current=null}function ET(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_P(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Qe=null;return}}else if(n=yP(n,e,Ht),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);nt===0&&(nt=5)}function Ti(t,e,n){var r=xe,i=sn.transition;try{sn.transition=null,xe=1,RP(t,e,n,r)}finally{sn.transition=i,xe=r}return null}function RP(t,e,n,r){do Lo();while(Fr!==null);if(ve&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(aA(t,o),t===at&&(Qe=at=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,ST(Dc,function(){return Lo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var s=xe;xe=1;var l=ve;ve|=4,Sm.current=null,EP(t,n),mT(n,t),KA(Ef),Mc=!!wf,Ef=wf=null,t.current=n,TP(n),JR(),ve=l,xe=s,sn.transition=o}else t.current=n;if($l&&($l=!1,Fr=t,Xc=i),o=t.pendingLanes,o===0&&(Qr=null),tA(n.stateNode),zt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yc)throw Yc=!1,t=zf,zf=null,t;return Xc&1&&t.tag!==0&&Lo(),o=t.pendingLanes,o&1?t===Bf?ca++:(ca=0,Bf=t):ca=0,hi(),null}function Lo(){if(Fr!==null){var t=tE(Xc),e=sn.transition,n=xe;try{if(sn.transition=null,xe=16>t?16:t,Fr===null)var r=!1;else{if(t=Fr,Fr=null,Xc=0,ve&6)throw Error(z(331));var i=ve;for(ve|=4,q=t.current;q!==null;){var o=q,s=o.child;if(q.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:aa(8,d,o)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var m=d.sibling,E=d.return;if(hT(d),d===u){q=null;break}if(m!==null){m.return=E,q=m;break}q=E}}}var T=o.alternate;if(T!==null){var _=T.child;if(_!==null){T.child=null;do{var g=_.sibling;_.sibling=null,_=g}while(_!==null)}}q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,q=s;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:aa(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,q=S;break e}q=o.return}}var y=t.current;for(q=y;q!==null;){s=q;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,q=v;else e:for(s=y;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fu(9,l)}}catch(O){Ue(l,l.return,O)}if(l===s){q=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,q=A;break e}q=l.return}}if(ve=i,hi(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Nu,t)}catch{}r=!0}return r}finally{xe=n,sn.transition=e}}return!1}function e0(t,e,n){e=Jo(n,e),e=tT(t,e,1),t=Gr(t,e,1),e=Dt(),t!==null&&(Ga(t,1,e),zt(t,e))}function Ue(t,e,n){if(t.tag===3)e0(t,t,n);else for(;e!==null;){if(e.tag===3){e0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){t=Jo(n,t),t=nT(e,t,1),e=Gr(e,t,1),t=Dt(),e!==null&&(Ga(e,1,t),zt(e,t));break}}e=e.return}}function AP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ft&n)===n&&(nt===4||nt===3&&(ft&130023424)===ft&&500>We()-Im?Pi(t,0):Cm|=n),zt(t,e)}function TT(t,e){e===0&&(t.mode&1?(e=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):e=1);var n=Dt();t=ur(t,e),t!==null&&(Ga(t,e,n),zt(t,n))}function PP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TT(t,n)}function bP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),TT(t,n)}var xT;xT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,vP(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Oe&&e.flags&1048576&&RE(e,Bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fc(t,e),t=e.pendingProps;var i=Go(e,Rt.current);Mo(e,n),i=_m(null,e,r,t,i,n);var o=wm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(o=!0,Uc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pm(e),i.updater=Vu,e.stateNode=i,i._reactInternals=e,bf(e,r,t,n),e=Df(null,e,r,!0,o,n)):(e.tag=0,Oe&&o&&am(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kP(r),t=fn(r,t),i){case 0:e=kf(null,e,r,t,n);break e;case 1:e=Hy(null,e,r,t,n);break e;case 11:e=By(null,e,r,t,n);break e;case 14:e=$y(null,e,r,fn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),kf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Hy(t,e,r,i,n);case 3:e:{if(sT(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,DE(t,e),Wc(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Jo(Error(z(423)),e),e=Wy(t,e,r,n,i);break e}else if(r!==i){i=Jo(Error(z(424)),e),e=Wy(t,e,r,n,i);break e}else for(Gt=Kr(e.stateNode.containerInfo.firstChild),Qt=e,Oe=!0,mn=null,n=NE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===i){e=dr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return OE(e),t===null&&Rf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Tf(r,i)?s=null:o!==null&&Tf(r,o)&&(e.flags|=32),oT(t,e),Nt(t,e,s,n),e.child;case 6:return t===null&&Rf(e),null;case 13:return aT(t,e,n);case 4:return mm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),By(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Pe($c,r._currentValue),r._currentValue=s,o!==null)if(wn(o.value,s)){if(o.children===i.children&&!Ft.current){e=dr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=sr(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Af(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(z(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Af(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mo(e,n),i=an(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=fn(r,e.pendingProps),i=fn(r.type,i),$y(t,e,r,i,n);case 15:return rT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),fc(t,e),e.tag=1,Ut(r)?(t=!0,Uc(e)):t=!1,Mo(e,n),eT(e,r,i),bf(e,r,i,n),Df(null,e,r,!0,t,n);case 19:return lT(t,e,n);case 22:return iT(t,e,n)}throw Error(z(156,e.tag))};function ST(t,e){return Xw(t,e)}function NP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new NP(t,e,n,r)}function bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kP(t){if(typeof t=="function")return bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qp)return 11;if(t===Yp)return 14}return 2}function Xr(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")bm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case yo:return bi(n.children,i,o,e);case Gp:s=8,i|=8;break;case Zh:return t=on(12,n,e,i|2),t.elementType=Zh,t.lanes=o,t;case ef:return t=on(13,n,e,i),t.elementType=ef,t.lanes=o,t;case tf:return t=on(19,n,e,i),t.elementType=tf,t.lanes=o,t;case Ow:return zu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kw:s=10;break e;case Dw:s=9;break e;case Qp:s=11;break e;case Yp:s=14;break e;case br:s=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=on(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function bi(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function zu(t,e,n,r){return t=on(22,t,r,e),t.elementType=Ow,t.lanes=n,t.stateNode={isHidden:!1},t}function _h(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function wh(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eh(0),this.expirationTimes=eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nm(t,e,n,r,i,o,s,l,a){return t=new DP(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=on(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(o),t}function OP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CT(t){if(!t)return ni;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ut(n))return CE(t,n,e)}return e}function IT(t,e,n,r,i,o,s,l,a){return t=Nm(n,r,!0,t,i,o,s,l,a),t.context=CT(null),n=t.current,r=Dt(),i=Yr(n),o=sr(r,i),o.callback=e??null,Gr(n,o,i),t.current.lanes=i,Ga(t,i,r),zt(t,r),t}function Bu(t,e,n,r){var i=e.current,o=Dt(),s=Yr(i);return n=CT(n),e.context===null?e.context=n:e.pendingContext=n,e=sr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gr(i,e,s),t!==null&&(_n(t,i,s,o),uc(t,i,s)),s}function Zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function km(t,e){t0(t,e),(t=t.alternate)&&t0(t,e)}function MP(){return null}var RT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dm(t){this._internalRoot=t}$u.prototype.render=Dm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Bu(t,e,null,null)};$u.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ui(function(){Bu(null,t,null,null)}),e[cr]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var e=iE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&sE(t)}};function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n0(){}function LP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Zc(s);o.call(u)}}var s=IT(e,r,t,0,null,!1,!1,"",n0);return t._reactRootContainer=s,t[cr]=s.current,Ca(t.nodeType===8?t.parentNode:t),Ui(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Zc(a);l.call(u)}}var a=Nm(t,0,!1,null,null,!1,!1,"",n0);return t._reactRootContainer=a,t[cr]=a.current,Ca(t.nodeType===8?t.parentNode:t),Ui(function(){Bu(e,a,n,r)}),a}function Wu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Zc(s);l.call(a)}}Bu(e,s,t,i)}else s=LP(n,e,t,i,r);return Zc(s)}nE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qs(e.pendingLanes);n!==0&&(Zp(e,n|1),zt(e,We()),!(ve&6)&&(Zo=We()+500,hi()))}break;case 13:Ui(function(){var r=ur(t,1);if(r!==null){var i=Dt();_n(r,t,1,i)}}),km(t,1)}};em=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=Dt();_n(e,t,134217728,n)}km(t,134217728)}};rE=function(t){if(t.tag===13){var e=Yr(t),n=ur(t,e);if(n!==null){var r=Dt();_n(n,t,e,r)}km(t,e)}};iE=function(){return xe};oE=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};hf=function(t,e,n){switch(e){case"input":if(of(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mu(r);if(!i)throw Error(z(90));Lw(r),of(r,i)}}}break;case"textarea":Vw(t,n);break;case"select":e=n.value,e!=null&&No(t,!!n.multiple,e,!1)}};Ww=Rm;qw=Ui;var jP={usingClientEntryPoint:!1,Events:[Ya,To,Mu,$w,Hw,Rm]},$s={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VP={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qw(t),t===null?null:t.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||MP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Nu=Hl.inject(VP),Nn=Hl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jP;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(e))throw Error(z(200));return OP(t,e,null,n)};Jt.createRoot=function(t,e){if(!Om(t))throw Error(z(299));var n=!1,r="",i=RT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nm(t,1,!1,null,null,n,!1,r,i),t[cr]=e.current,Ca(t.nodeType===8?t.parentNode:t),new Dm(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Qw(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Ui(t)};Jt.hydrate=function(t,e,n){if(!Hu(e))throw Error(z(200));return Wu(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Om(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=RT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=IT(e,null,t,1,n??null,i,!1,o,s),t[cr]=e.current,Ca(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $u(e)};Jt.render=function(t,e,n){if(!Hu(e))throw Error(z(200));return Wu(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Hu(t))throw Error(z(40));return t._reactRootContainer?(Ui(function(){Wu(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Rm;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hu(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Wu(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function AT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AT)}catch(t){console.error(t)}}AT(),Aw.exports=Jt;var Zi=Aw.exports;const FP=mw(Zi);var r0=Zi;Xh.createRoot=r0.createRoot,Xh.hydrateRoot=r0.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,d=o>>2,h=(o&3)<<4|l>>4;let m=(l&15)<<2|u>>6,E=u&63;a||(E=64,s||(m=64)),r.push(n[d],n[h],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||u==null||h==null)throw new zP;const m=o<<2|l>>4;if(r.push(m),u!==64){const E=l<<4&240|u>>2;if(r.push(E),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BP=function(t){const e=PT(t);return bT.encodeByteArray(e,!0)},eu=function(t){return BP(t).replace(/\./g,"")},NT=function(t){try{return bT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=()=>$P().__FIREBASE_DEFAULTS__,WP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NT(t[1]);return e&&JSON.parse(e)},qu=()=>{try{return HP()||WP()||qP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kT=t=>{var e,n;return(n=(e=qu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DT=t=>{const e=kT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OT=()=>{var t;return(t=qu())===null||t===void 0?void 0:t.config},MT=t=>{var e;return(e=qu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[eu(JSON.stringify(n)),eu(JSON.stringify(s)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function QP(){var t;const e=(t=qu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZP(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eb(){return!QP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tb(){try{return typeof indexedDB=="object"}catch{return!1}}function nb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rb,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ja.prototype.create)}}class Ja{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ib(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Bn(i,l,r)}}function ib(t,e){return t.replace(ob,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ob=/\{\$([^}]+)}/g;function sb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(i0(o)&&i0(s)){if(!tu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ab(t,e){const n=new lb(t,e);return n.subscribe.bind(n)}class lb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cb(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Eh),i.error===void 0&&(i.error=Eh),i.complete===void 0&&(i.complete=Eh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Eh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){return t&&t._delegate?t._delegate:t}class ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ub=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hb(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:db(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function db(t){return t===xi?void 0:t}function hb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ub(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const pb={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},mb=he.INFO,gb={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},vb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=mb,this._logHandler=vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const yb=(t,e)=>e.some(n=>t instanceof n);let o0,s0;function _b(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wb(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jT=new WeakMap,Wf=new WeakMap,VT=new WeakMap,Th=new WeakMap,Lm=new WeakMap;function Eb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jT.set(n,t)}).catch(()=>{}),Lm.set(e,t),e}function Tb(t){if(Wf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Wf.set(t,e)}let qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xb(t){qf=t(qf)}function Sb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xh(this),e,...n);return VT.set(r,e.sort?e.sort():[e]),Jr(r)}:wb().includes(t)?function(...e){return t.apply(xh(this),e),Jr(jT.get(this))}:function(...e){return Jr(t.apply(xh(this),e))}}function Cb(t){return typeof t=="function"?Sb(t):(t instanceof IDBTransaction&&Tb(t),yb(t,_b())?new Proxy(t,qf):t)}function Jr(t){if(t instanceof IDBRequest)return Eb(t);if(Th.has(t))return Th.get(t);const e=Cb(t);return e!==t&&(Th.set(t,e),Lm.set(e,t)),e}const xh=t=>Lm.get(t);function Ib(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Jr(s);return r&&s.addEventListener("upgradeneeded",a=>{r(Jr(s.result),a.oldVersion,a.newVersion,Jr(s.transaction),a)}),n&&s.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Rb=["get","getKey","getAll","getAllKeys","count"],Ab=["put","add","delete","clear"],Sh=new Map;function a0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sh.get(e))return Sh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ab.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rb.includes(n)))return;const o=async function(s,...l){const a=this.transaction(s,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Sh.set(e,o),o}xb(t=>({...t,get:(e,n,r)=>a0(e,n)||t.get(e,n,r),has:(e,n)=>!!a0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kf="@firebase/app",l0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Mm("@firebase/app"),Nb="@firebase/app-compat",kb="@firebase/analytics-compat",Db="@firebase/analytics",Ob="@firebase/app-check-compat",Mb="@firebase/app-check",Lb="@firebase/auth",jb="@firebase/auth-compat",Vb="@firebase/database",Fb="@firebase/data-connect",Ub="@firebase/database-compat",zb="@firebase/functions",Bb="@firebase/functions-compat",$b="@firebase/installations",Hb="@firebase/installations-compat",Wb="@firebase/messaging",qb="@firebase/messaging-compat",Kb="@firebase/performance",Gb="@firebase/performance-compat",Qb="@firebase/remote-config",Yb="@firebase/remote-config-compat",Xb="@firebase/storage",Jb="@firebase/storage-compat",Zb="@firebase/firestore",eN="@firebase/vertexai-preview",tN="@firebase/firestore-compat",nN="firebase",rN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",iN={[Kf]:"fire-core",[Nb]:"fire-core-compat",[Db]:"fire-analytics",[kb]:"fire-analytics-compat",[Mb]:"fire-app-check",[Ob]:"fire-app-check-compat",[Lb]:"fire-auth",[jb]:"fire-auth-compat",[Vb]:"fire-rtdb",[Fb]:"fire-data-connect",[Ub]:"fire-rtdb-compat",[zb]:"fire-fn",[Bb]:"fire-fn-compat",[$b]:"fire-iid",[Hb]:"fire-iid-compat",[Wb]:"fire-fcm",[qb]:"fire-fcm-compat",[Kb]:"fire-perf",[Gb]:"fire-perf-compat",[Qb]:"fire-rc",[Yb]:"fire-rc-compat",[Xb]:"fire-gcs",[Jb]:"fire-gcs-compat",[Zb]:"fire-fst",[tN]:"fire-fst-compat",[eN]:"fire-vertex","fire-js":"fire-js",[nN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new Map,oN=new Map,Qf=new Map;function c0(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){const e=t.name;if(Qf.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,t);for(const n of nu.values())c0(n,t);for(const n of oN.values())c0(n,t);return!0}function Ku(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Ja("app","Firebase",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=rN;function FT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=OT()),!n)throw Zr.create("no-options");const o=nu.get(i);if(o){if(tu(n,o.options)&&tu(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}const s=new fb(i);for(const a of Qf.values())s.addComponent(a);const l=new aN(n,r,s);return nu.set(i,l),l}function jm(t=Gf){const e=nu.get(t);if(!e&&t===Gf&&OT())return FT();if(!e)throw Zr.create("no-app",{appName:t});return e}function Dn(t,e,n){var r;let i=(r=iN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(l.join(" "));return}zi(new ri(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firebase-heartbeat-database",cN=1,Oa="firebase-heartbeat-store";let Ch=null;function UT(){return Ch||(Ch=Ib(lN,cN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),Ch}async function uN(t){try{const n=(await UT()).transaction(Oa),r=await n.objectStore(Oa).get(zT(t));return await n.done,r}catch(e){if(e instanceof Bn)hr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}}async function u0(t,e){try{const r=(await UT()).transaction(Oa,"readwrite");await r.objectStore(Oa).put(e,zT(t)),await r.done}catch(n){if(n instanceof Bn)hr.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(r.message)}}}function zT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1024,hN=30*24*60*60*1e3;class fN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=d0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=hN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d0(),{heartbeatsToSend:r,unsentEntries:i}=pN(this._heartbeatsCache.heartbeats),o=eu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hr.warn(n),""}}}function d0(){return new Date().toISOString().substring(0,10)}function pN(t,e=dN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),h0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tb()?nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h0(t){return eu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){zi(new ri("platform-logger",e=>new Pb(e),"PRIVATE")),zi(new ri("heartbeat",e=>new fN(e),"PRIVATE")),Dn(Kf,l0,t),Dn(Kf,l0,"esm2017"),Dn("fire-js","")}gN("");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,BT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function P(){}P.prototype=C.prototype,I.D=C.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(b,k,D){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return C.prototype[k].apply(b,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,C,P){P||(P=0);var b=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)b[k]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(k=0;16>k;++k)b[k]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=I.g[0],P=I.g[1],k=I.g[2];var D=I.g[3],N=C+(D^P&(k^D))+b[0]+3614090360&4294967295;C=P+(N<<7&4294967295|N>>>25),N=D+(k^C&(P^k))+b[1]+3905402710&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(P^D&(C^P))+b[2]+606105819&4294967295,k=D+(N<<17&4294967295|N>>>15),N=P+(C^k&(D^C))+b[3]+3250441966&4294967295,P=k+(N<<22&4294967295|N>>>10),N=C+(D^P&(k^D))+b[4]+4118548399&4294967295,C=P+(N<<7&4294967295|N>>>25),N=D+(k^C&(P^k))+b[5]+1200080426&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(P^D&(C^P))+b[6]+2821735955&4294967295,k=D+(N<<17&4294967295|N>>>15),N=P+(C^k&(D^C))+b[7]+4249261313&4294967295,P=k+(N<<22&4294967295|N>>>10),N=C+(D^P&(k^D))+b[8]+1770035416&4294967295,C=P+(N<<7&4294967295|N>>>25),N=D+(k^C&(P^k))+b[9]+2336552879&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(P^D&(C^P))+b[10]+4294925233&4294967295,k=D+(N<<17&4294967295|N>>>15),N=P+(C^k&(D^C))+b[11]+2304563134&4294967295,P=k+(N<<22&4294967295|N>>>10),N=C+(D^P&(k^D))+b[12]+1804603682&4294967295,C=P+(N<<7&4294967295|N>>>25),N=D+(k^C&(P^k))+b[13]+4254626195&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(P^D&(C^P))+b[14]+2792965006&4294967295,k=D+(N<<17&4294967295|N>>>15),N=P+(C^k&(D^C))+b[15]+1236535329&4294967295,P=k+(N<<22&4294967295|N>>>10),N=C+(k^D&(P^k))+b[1]+4129170786&4294967295,C=P+(N<<5&4294967295|N>>>27),N=D+(P^k&(C^P))+b[6]+3225465664&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^P&(D^C))+b[11]+643717713&4294967295,k=D+(N<<14&4294967295|N>>>18),N=P+(D^C&(k^D))+b[0]+3921069994&4294967295,P=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(P^k))+b[5]+3593408605&4294967295,C=P+(N<<5&4294967295|N>>>27),N=D+(P^k&(C^P))+b[10]+38016083&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^P&(D^C))+b[15]+3634488961&4294967295,k=D+(N<<14&4294967295|N>>>18),N=P+(D^C&(k^D))+b[4]+3889429448&4294967295,P=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(P^k))+b[9]+568446438&4294967295,C=P+(N<<5&4294967295|N>>>27),N=D+(P^k&(C^P))+b[14]+3275163606&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^P&(D^C))+b[3]+4107603335&4294967295,k=D+(N<<14&4294967295|N>>>18),N=P+(D^C&(k^D))+b[8]+1163531501&4294967295,P=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(P^k))+b[13]+2850285829&4294967295,C=P+(N<<5&4294967295|N>>>27),N=D+(P^k&(C^P))+b[2]+4243563512&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^P&(D^C))+b[7]+1735328473&4294967295,k=D+(N<<14&4294967295|N>>>18),N=P+(D^C&(k^D))+b[12]+2368359562&4294967295,P=k+(N<<20&4294967295|N>>>12),N=C+(P^k^D)+b[5]+4294588738&4294967295,C=P+(N<<4&4294967295|N>>>28),N=D+(C^P^k)+b[8]+2272392833&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^P)+b[11]+1839030562&4294967295,k=D+(N<<16&4294967295|N>>>16),N=P+(k^D^C)+b[14]+4259657740&4294967295,P=k+(N<<23&4294967295|N>>>9),N=C+(P^k^D)+b[1]+2763975236&4294967295,C=P+(N<<4&4294967295|N>>>28),N=D+(C^P^k)+b[4]+1272893353&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^P)+b[7]+4139469664&4294967295,k=D+(N<<16&4294967295|N>>>16),N=P+(k^D^C)+b[10]+3200236656&4294967295,P=k+(N<<23&4294967295|N>>>9),N=C+(P^k^D)+b[13]+681279174&4294967295,C=P+(N<<4&4294967295|N>>>28),N=D+(C^P^k)+b[0]+3936430074&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^P)+b[3]+3572445317&4294967295,k=D+(N<<16&4294967295|N>>>16),N=P+(k^D^C)+b[6]+76029189&4294967295,P=k+(N<<23&4294967295|N>>>9),N=C+(P^k^D)+b[9]+3654602809&4294967295,C=P+(N<<4&4294967295|N>>>28),N=D+(C^P^k)+b[12]+3873151461&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^P)+b[15]+530742520&4294967295,k=D+(N<<16&4294967295|N>>>16),N=P+(k^D^C)+b[2]+3299628645&4294967295,P=k+(N<<23&4294967295|N>>>9),N=C+(k^(P|~D))+b[0]+4096336452&4294967295,C=P+(N<<6&4294967295|N>>>26),N=D+(P^(C|~k))+b[7]+1126891415&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~P))+b[14]+2878612391&4294967295,k=D+(N<<15&4294967295|N>>>17),N=P+(D^(k|~C))+b[5]+4237533241&4294967295,P=k+(N<<21&4294967295|N>>>11),N=C+(k^(P|~D))+b[12]+1700485571&4294967295,C=P+(N<<6&4294967295|N>>>26),N=D+(P^(C|~k))+b[3]+2399980690&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~P))+b[10]+4293915773&4294967295,k=D+(N<<15&4294967295|N>>>17),N=P+(D^(k|~C))+b[1]+2240044497&4294967295,P=k+(N<<21&4294967295|N>>>11),N=C+(k^(P|~D))+b[8]+1873313359&4294967295,C=P+(N<<6&4294967295|N>>>26),N=D+(P^(C|~k))+b[15]+4264355552&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~P))+b[6]+2734768916&4294967295,k=D+(N<<15&4294967295|N>>>17),N=P+(D^(k|~C))+b[13]+1309151649&4294967295,P=k+(N<<21&4294967295|N>>>11),N=C+(k^(P|~D))+b[4]+4149444226&4294967295,C=P+(N<<6&4294967295|N>>>26),N=D+(P^(C|~k))+b[11]+3174756917&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~P))+b[2]+718787259&4294967295,k=D+(N<<15&4294967295|N>>>17),N=P+(D^(k|~C))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var P=C-this.blockSize,b=this.B,k=this.h,D=0;D<C;){if(k==0)for(;D<=P;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<C;)if(b[k++]=I.charCodeAt(D++),k==this.blockSize){i(this,b),k=0;break}}else for(;D<C;)if(b[k++]=I[D++],k==this.blockSize){i(this,b),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var P=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=P&255,P/=256;for(this.u(I),I=Array(16),C=P=0;4>C;++C)for(var b=0;32>b;b+=8)I[P++]=this.g[C]>>>b&255;return I};function o(I,C){var P=l;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=C(I)}function s(I,C){this.h=C;for(var P=[],b=!0,k=I.length-1;0<=k;k--){var D=I[k]|0;b&&D==C||(P[k]=D,b=!1)}this.g=P}var l={};function a(I){return-128<=I&&128>I?o(I,function(C){return new s([C|0],0>C?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return g(u(-I));for(var C=[],P=1,b=0;I>=P;b++)C[b]=I/P|0,P*=4294967296;return new s(C,0)}function d(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return g(d(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(C,8)),b=h,k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k),N=parseInt(I.substring(k,k+D),C);8>D?(D=u(Math.pow(C,D)),b=b.j(D).add(u(N))):(b=b.j(P),b=b.add(u(N)))}return b}var h=a(0),m=a(1),E=a(16777216);t=s.prototype,t.m=function(){if(_(this))return-g(this).m();for(var I=0,C=1,P=0;P<this.g.length;P++){var b=this.i(P);I+=(0<=b?b:4294967296+b)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(_(this))return"-"+g(this).toString(I);for(var C=u(Math.pow(I,6)),P=this,b="";;){var k=A(P,C).g;P=S(P,k.j(C));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=k,T(P))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=S(this,I),_(I)?-1:T(I)?0:1};function g(I){for(var C=I.g.length,P=[],b=0;b<C;b++)P[b]=~I.g[b];return new s(P,~I.h).add(m)}t.abs=function(){return _(this)?g(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),P=[],b=0,k=0;k<=C;k++){var D=b+(this.i(k)&65535)+(I.i(k)&65535),N=(D>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);b=N>>>16,D&=65535,N&=65535,P[k]=N<<16|D}return new s(P,P[P.length-1]&-2147483648?-1:0)};function S(I,C){return I.add(g(C))}t.j=function(I){if(T(this)||T(I))return h;if(_(this))return _(I)?g(this).j(g(I)):g(g(this).j(I));if(_(I))return g(this.j(g(I)));if(0>this.l(E)&&0>I.l(E))return u(this.m()*I.m());for(var C=this.g.length+I.g.length,P=[],b=0;b<2*C;b++)P[b]=0;for(b=0;b<this.g.length;b++)for(var k=0;k<I.g.length;k++){var D=this.i(b)>>>16,N=this.i(b)&65535,U=I.i(k)>>>16,Q=I.i(k)&65535;P[2*b+2*k]+=N*Q,y(P,2*b+2*k),P[2*b+2*k+1]+=D*Q,y(P,2*b+2*k+1),P[2*b+2*k+1]+=N*U,y(P,2*b+2*k+1),P[2*b+2*k+2]+=D*U,y(P,2*b+2*k+2)}for(b=0;b<C;b++)P[b]=P[2*b+1]<<16|P[2*b];for(b=C;b<2*C;b++)P[b]=0;return new s(P,0)};function y(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function v(I,C){this.g=I,this.h=C}function A(I,C){if(T(C))throw Error("division by zero");if(T(I))return new v(h,h);if(_(I))return C=A(g(I),C),new v(g(C.g),g(C.h));if(_(C))return C=A(I,g(C)),new v(g(C.g),C.h);if(30<I.g.length){if(_(I)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var P=m,b=C;0>=b.l(I);)P=O(P),b=O(b);var k=M(P,1),D=M(b,1);for(b=M(b,2),P=M(P,2);!T(b);){var N=D.add(b);0>=N.l(I)&&(k=k.add(P),D=N),b=M(b,1),P=M(P,1)}return C=S(I,k.j(C)),new v(k,C)}for(k=h;0<=I.l(C);){for(P=Math.max(1,Math.floor(I.m()/C.m())),b=Math.ceil(Math.log(P)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=u(P),N=D.j(C);_(N)||0<N.l(I);)P-=b,D=u(P),N=D.j(C);T(D)&&(D=m),k=k.add(D),I=S(I,N)}return new v(k,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),P=[],b=0;b<C;b++)P[b]=this.i(b)&I.i(b);return new s(P,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),P=[],b=0;b<C;b++)P[b]=this.i(b)|I.i(b);return new s(P,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),P=[],b=0;b<C;b++)P[b]=this.i(b)^I.i(b);return new s(P,this.h^I.h)};function O(I){for(var C=I.g.length+1,P=[],b=0;b<C;b++)P[b]=I.i(b)<<1|I.i(b-1)>>>31;return new s(P,I.h)}function M(I,C){var P=C>>5;C%=32;for(var b=I.g.length-P,k=[],D=0;D<b;D++)k[D]=0<C?I.i(D+P)>>>C|I.i(D+P+1)<<32-C:I.i(D+P);return new s(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ni=s}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,Xs,HT,vc,Yf,WT,qT,KT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,w){return c==Array.prototype||c==Object.prototype||(c[p]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wl=="object"&&Wl];for(var p=0;p<c.length;++p){var w=c[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var w=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var L=c[R];if(!(L in w))break e;w=w[L]}c=c[c.length-1],R=w[c],p=p(R),p!=R&&p!=null&&e(w,c,{configurable:!0,writable:!0,value:p})}}function o(c,p){c instanceof String&&(c+="");var w=0,R=!1,L={next:function(){if(!R&&w<c.length){var j=w++;return{value:p(j,c[j]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return o(this,function(p,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function a(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,w){return c.call.apply(c.bind,arguments)}function h(c,p,w){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function m(c,p,w){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function E(c,p){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function T(c,p){function w(){}w.prototype=p.prototype,c.aa=p.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(R,L,j){for(var $=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)$[Re-2]=arguments[Re];return p.prototype[L].apply(R,$)}}function _(c){const p=c.length;if(0<p){const w=Array(p);for(let R=0;R<p;R++)w[R]=c[R];return w}return[]}function g(c,p){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(a(R)){const L=c.length||0,j=R.length||0;c.length=L+j;for(let $=0;$<j;$++)c[L+$]=R[$]}else c.push(R)}}class S{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(c){return/^[\s\xa0]*$/.test(c)}function v(){var c=l.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var O=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function M(c,p,w){for(const R in c)p.call(w,c[R],R,c)}function I(c,p){for(const w in c)p.call(void 0,c[w],w,c)}function C(c){const p={};for(const w in c)p[w]=c[w];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,p){let w,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(w in R)c[w]=R[w];for(let j=0;j<P.length;j++)w=P[j],Object.prototype.hasOwnProperty.call(R,w)&&(c[w]=R[w])}}function k(c){var p=1;c=c.split(":");const w=[];for(;0<p&&c.length;)w.push(c.shift()),p--;return c.length&&w.push(c.join(":")),w}function D(c){l.setTimeout(()=>{throw c},0)}function N(){var c=B;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class U{constructor(){this.h=this.g=null}add(p,w){const R=Q.get();R.set(p,w),this.h?this.h.next=R:this.g=R,this.h=R}}var Q=new S(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let K,V=!1,B=new U,W=()=>{const c=l.Promise.resolve(void 0);K=()=>{c.then(ee)}};var ee=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(w){D(w)}var p=Q;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}V=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};l.addEventListener("test",w,p),l.removeEventListener("test",w,p)}catch{}return c}();function Ke(c,p){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{A(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else w=="mouseover"?p=c.fromElement:w=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Je[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ke.aa.h.call(this)}}T(Ke,le);var Je={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function rt(c,p,w,R,L){this.listener=c,this.proxy=null,this.src=p,this.type=w,this.capture=!!R,this.ha=L,this.key=++Ie,this.da=this.fa=!1}function Ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function me(c){this.src=c,this.g={},this.h=0}me.prototype.add=function(c,p,w,R,L){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var $=lt(c,p,R,L);return-1<$?(p=c[$],w||(p.fa=!1)):(p=new rt(p,this.src,j,!!R,L),p.fa=w,c.push(p)),p};function _e(c,p){var w=p.type;if(w in c.g){var R=c.g[w],L=Array.prototype.indexOf.call(R,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(R,L,1),j&&(Ee(p),c.g[w].length==0&&(delete c.g[w],c.h--))}}function lt(c,p,w,R){for(var L=0;L<c.length;++L){var j=c[L];if(!j.da&&j.listener==p&&j.capture==!!w&&j.ha==R)return L}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),Kn={};function wr(c,p,w,R,L){if(R&&R.once)return gi(c,p,w,R,L);if(Array.isArray(p)){for(var j=0;j<p.length;j++)wr(c,p[j],w,R,L);return null}return w=kd(w),c&&c[X]?c.K(p,w,u(R)?!!R.capture:!!R,L):Er(c,p,w,!1,R,L)}function Er(c,p,w,R,L,j){if(!p)throw Error("Invalid event type");var $=u(L)?!!L.capture:!!L,Re=bd(c);if(Re||(c[Lt]=Re=new me(c)),w=Re.add(p,w,R,$,j),w.proxy)return w;if(R=Ad(),w.proxy=R,R.src=c,R.listener=w,c.addEventListener)Ae||(L=$),L===void 0&&(L=!1),c.addEventListener(p.toString(),R,L);else if(c.attachEvent)c.attachEvent(Zg(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ad(){function c(w){return p.call(c.src,c.listener,w)}const p=UI;return c}function gi(c,p,w,R,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)gi(c,p[j],w,R,L);return null}return w=kd(w),c&&c[X]?c.L(p,w,u(R)?!!R.capture:!!R,L):Er(c,p,w,!0,R,L)}function Jg(c,p,w,R,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)Jg(c,p[j],w,R,L);else R=u(R)?!!R.capture:!!R,w=kd(w),c&&c[X]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],w=lt(j,w,R,L),-1<w&&(Ee(j[w]),Array.prototype.splice.call(j,w,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=bd(c))&&(p=c.g[p.toString()],c=-1,p&&(c=lt(p,w,R,L)),(w=-1<c?p[c]:null)&&Pd(w))}function Pd(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[X])_e(p.i,c);else{var w=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(w,R,c.capture):p.detachEvent?p.detachEvent(Zg(w),R):p.addListener&&p.removeListener&&p.removeListener(R),(w=bd(p))?(_e(w,c),w.h==0&&(w.src=null,p[Lt]=null)):Ee(c)}}}function Zg(c){return c in Kn?Kn[c]:Kn[c]="on"+c}function UI(c,p){if(c.da)c=!0;else{p=new Ke(p,this);var w=c.listener,R=c.ha||c.src;c.fa&&Pd(c),c=w.call(R,p)}return c}function bd(c){return c=c[Lt],c instanceof me?c:null}var Nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function kd(c){return typeof c=="function"?c:(c[Nd]||(c[Nd]=function(p){return c.handleEvent(p)}),c[Nd])}function yt(){ie.call(this),this.i=new me(this),this.M=this,this.F=null}T(yt,ie),yt.prototype[X]=!0,yt.prototype.removeEventListener=function(c,p,w,R){Jg(this,c,p,w,R)};function Pt(c,p){var w,R=c.F;if(R)for(w=[];R;R=R.F)w.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new le(p,c);else if(p instanceof le)p.target=p.target||c;else{var L=p;p=new le(R,c),b(p,L)}if(L=!0,w)for(var j=w.length-1;0<=j;j--){var $=p.g=w[j];L=hl($,R,!0,p)&&L}if($=p.g=c,L=hl($,R,!0,p)&&L,L=hl($,R,!1,p)&&L,w)for(j=0;j<w.length;j++)$=p.g=w[j],L=hl($,R,!1,p)&&L}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var w=c.g[p],R=0;R<w.length;R++)Ee(w[R]);delete c.g[p],c.h--}}this.F=null},yt.prototype.K=function(c,p,w,R){return this.i.add(String(c),p,!1,w,R)},yt.prototype.L=function(c,p,w,R){return this.i.add(String(c),p,!0,w,R)};function hl(c,p,w,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var $=p[j];if($&&!$.da&&$.capture==w){var Re=$.listener,ct=$.ha||$.src;$.fa&&_e(c.i,$),L=Re.call(ct,R)!==!1&&L}}return L&&!R.defaultPrevented}function ev(c,p,w){if(typeof c=="function")w&&(c=m(c,w));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(c,p||0)}function tv(c){c.g=ev(()=>{c.g=null,c.i&&(c.i=!1,tv(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class zI extends ie{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:tv(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(c){ie.call(this),this.h=c,this.g={}}T(xs,ie);var nv=[];function rv(c){M(c.g,function(p,w){this.g.hasOwnProperty(w)&&Pd(p)},c),c.g={}}xs.prototype.N=function(){xs.aa.N.call(this),rv(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dd=l.JSON.stringify,BI=l.JSON.parse,$I=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function Od(){}Od.prototype.h=null;function iv(c){return c.h||(c.h=c.i())}function ov(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Md(){le.call(this,"d")}T(Md,le);function Ld(){le.call(this,"c")}T(Ld,le);var vi={},sv=null;function fl(){return sv=sv||new yt}vi.La="serverreachability";function av(c){le.call(this,vi.La,c)}T(av,le);function Cs(c){const p=fl();Pt(p,new av(p))}vi.STAT_EVENT="statevent";function lv(c,p){le.call(this,vi.STAT_EVENT,c),this.stat=p}T(lv,le);function bt(c){const p=fl();Pt(p,new lv(p,c))}vi.Ma="timingevent";function cv(c,p){le.call(this,vi.Ma,c),this.size=p}T(cv,le);function Is(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},p)}function Rs(){this.g=!0}Rs.prototype.xa=function(){this.g=!1};function HI(c,p,w,R,L,j){c.info(function(){if(c.g)if(j)for(var $="",Re=j.split("&"),ct=0;ct<Re.length;ct++){var we=Re[ct].split("=");if(1<we.length){var _t=we[0];we=we[1];var wt=_t.split("_");$=2<=wt.length&&wt[1]=="type"?$+(_t+"="+we+"&"):$+(_t+"=redacted&")}}else $=null;else $=j;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+p+`
`+w+`
`+$})}function WI(c,p,w,R,L,j,$){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+p+`
`+w+`
`+j+" "+$})}function ro(c,p,w,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+KI(c,w)+(R?" "+R:"")})}function qI(c,p){c.info(function(){return"TIMEOUT: "+p})}Rs.prototype.info=function(){};function KI(c,p){if(!c.g)return p;if(!p)return null;try{var w=JSON.parse(p);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var R=w[c];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var $=1;$<L.length;$++)L[$]=""}}}}return Dd(w)}catch{return p}}var pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jd;function ml(){}T(ml,Od),ml.prototype.g=function(){return new XMLHttpRequest},ml.prototype.i=function(){return{}},jd=new ml;function Tr(c,p,w,R){this.j=c,this.i=p,this.l=w,this.R=R||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}var hv={},Vd={};function Fd(c,p,w){c.L=1,c.v=_l(Gn(p)),c.m=w,c.P=!0,fv(c,null)}function fv(c,p){c.F=Date.now(),gl(c),c.A=Gn(c.v);var w=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Rv(w.i,"t",R),c.C=0,w=c.j.J,c.h=new dv,c.g=Wv(c.j,w?p:null,!c.m),0<c.O&&(c.M=new zI(m(c.Y,c,c.g),c.O)),p=c.U,w=c.g,R=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(nv[0]=L.toString()),L=nv);for(var j=0;j<L.length;j++){var $=wr(w,L[j],R||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Cs(),HI(c.i,c.u,c.A,c.l,c.R,c.m)}Tr.prototype.ca=function(c){c=c.target;const p=this.M;p&&Qn(c)==3?p.j():this.Y(c)},Tr.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Qn(this.g);var p=this.g.Ba();const so=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Ov(this.g)))){this.J||wt!=4||p==7||(p==8||0>=so?Cs(3):Cs(2)),Ud(this);var w=this.g.Z();this.X=w;t:if(pv(this)){var R=Ov(this.g);c="";var L=R.length,j=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),As(this);var $="";break t}this.h.i=new l.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(j&&p==L-1)});R.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=w==200,WI(this.i,this.u,this.A,this.l,this.R,wt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ct=this.g;if((Re=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Re)){var we=Re;break t}}we=null}if(w=we)ro(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zd(this,w);else{this.o=!1,this.s=3,bt(12),yi(this),As(this);break e}}if(this.P){w=!0;let un;for(;!this.J&&this.C<$.length;)if(un=GI(this,$),un==Vd){wt==4&&(this.s=4,bt(14),w=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(un==hv){this.s=4,bt(15),ro(this.i,this.l,$,"[Invalid Chunk]"),w=!1;break}else ro(this.i,this.l,un,null),zd(this,un);if(pv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||$.length!=0||this.h.h||(this.s=1,bt(16),w=!1),this.o=this.o&&w,!w)ro(this.i,this.l,$,"[Invalid Chunked Response]"),yi(this),As(this);else if(0<$.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Kd(_t),_t.M=!0,bt(11))}}else ro(this.i,this.l,$,null),zd(this,$);wt==4&&yi(this),this.o&&!this.J&&(wt==4?zv(this.j,this):(this.o=!1,gl(this)))}else dR(this.g),w==400&&0<$.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),yi(this),As(this)}}}catch{}finally{}};function pv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function GI(c,p){var w=c.C,R=p.indexOf(`
`,w);return R==-1?Vd:(w=Number(p.substring(w,R)),isNaN(w)?hv:(R+=1,R+w>p.length?Vd:(p=p.slice(R,R+w),c.C=R+w,p)))}Tr.prototype.cancel=function(){this.J=!0,yi(this)};function gl(c){c.S=Date.now()+c.I,mv(c,c.I)}function mv(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Is(m(c.ba,c),p)}function Ud(c){c.B&&(l.clearTimeout(c.B),c.B=null)}Tr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qI(this.i,this.A),this.L!=2&&(Cs(),bt(17)),yi(this),this.s=2,As(this)):mv(this,this.S-c)};function As(c){c.j.G==0||c.J||zv(c.j,c)}function yi(c){Ud(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,rv(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function zd(c,p){try{var w=c.j;if(w.G!=0&&(w.g==c||Bd(w.h,c))){if(!c.K&&Bd(w.h,c)&&w.G==3){try{var R=w.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Cl(w),xl(w);else break e;qd(w),bt(18)}}else w.za=L[1],0<w.za-w.T&&37500>L[2]&&w.F&&w.v==0&&!w.C&&(w.C=Is(m(w.Za,w),6e3));if(1>=yv(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else wi(w,11)}else if((c.K||w.g==c)&&Cl(w),!y(p))for(L=w.Da.g.parse(p),p=0;p<L.length;p++){let we=L[p];if(w.T=we[0],we=we[1],w.G==2)if(we[0]=="c"){w.K=we[1],w.ia=we[2];const _t=we[3];_t!=null&&(w.la=_t,w.j.info("VER="+w.la));const wt=we[4];wt!=null&&(w.Aa=wt,w.j.info("SVER="+w.Aa));const so=we[5];so!=null&&typeof so=="number"&&0<so&&(R=1.5*so,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const un=c.g;if(un){const Rl=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rl){var j=R.h;j.g||Rl.indexOf("spdy")==-1&&Rl.indexOf("quic")==-1&&Rl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&($d(j,j.h),j.h=null))}if(R.D){const Gd=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Gd&&(R.ya=Gd,be(R.I,R.D,Gd))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var $=c;if(R.qa=Hv(R,R.J?R.ia:null,R.W),$.K){_v(R.h,$);var Re=$,ct=R.L;ct&&(Re.I=ct),Re.B&&(Ud(Re),gl(Re)),R.g=$}else Fv(R);0<w.i.length&&Sl(w)}else we[0]!="stop"&&we[0]!="close"||wi(w,7);else w.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?wi(w,7):Wd(w):we[0]!="noop"&&w.l&&w.l.ta(we),w.v=0)}}Cs(4)}catch{}}var QI=class{constructor(c,p){this.g=c,this.map=p}};function gv(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yv(c){return c.h?1:c.g?c.g.size:0}function Bd(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function $d(c,p){c.g?c.g.add(p):c.h=p}function _v(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}gv.prototype.cancel=function(){if(this.i=wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const w of c.g.values())p=p.concat(w.D);return p}return _(c.i)}function YI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(a(c)){for(var p=[],w=c.length,R=0;R<w;R++)p.push(c[R]);return p}p=[],w=0;for(R in c)p[w++]=c[R];return p}function XI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(a(c)||typeof c=="string"){var p=[];c=c.length;for(var w=0;w<c;w++)p.push(w);return p}p=[],w=0;for(const R in c)p[w++]=R;return p}}}function Ev(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(a(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var w=XI(c),R=YI(c),L=R.length,j=0;j<L;j++)p.call(void 0,R[j],w&&w[j],c)}var Tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JI(c,p){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var R=c[w].indexOf("="),L=null;if(0<=R){var j=c[w].substring(0,R);L=c[w].substring(R+1)}else j=c[w];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _i){this.h=c.h,vl(this,c.j),this.o=c.o,this.g=c.g,yl(this,c.s),this.l=c.l;var p=c.i,w=new Ns;w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),xv(this,w),this.m=c.m}else c&&(p=String(c).match(Tv))?(this.h=!1,vl(this,p[1]||"",!0),this.o=Ps(p[2]||""),this.g=Ps(p[3]||"",!0),yl(this,p[4]),this.l=Ps(p[5]||"",!0),xv(this,p[6]||"",!0),this.m=Ps(p[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}_i.prototype.toString=function(){var c=[],p=this.j;p&&c.push(bs(p,Sv,!0),":");var w=this.g;return(w||p=="file")&&(c.push("//"),(p=this.o)&&c.push(bs(p,Sv,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(bs(w,w.charAt(0)=="/"?tR:eR,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",bs(w,rR)),c.join("")};function Gn(c){return new _i(c)}function vl(c,p,w){c.j=w?Ps(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function yl(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function xv(c,p,w){p instanceof Ns?(c.i=p,iR(c.i,c.h)):(w||(p=bs(p,nR)),c.i=new Ns(p,c.h))}function be(c,p,w){c.i.set(p,w)}function _l(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ps(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,p,w){return typeof c=="string"?(c=encodeURI(c).replace(p,ZI),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ZI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sv=/[#\/\?@]/g,eR=/[#\?:]/g,tR=/[#\?]/g,nR=/[#\?@]/g,rR=/#/g;function Ns(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&JI(c.i,function(p,w){c.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=Ns.prototype,t.add=function(c,p){xr(this),this.i=null,c=io(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(p),this.h+=1,this};function Cv(c,p){xr(c),p=io(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Iv(c,p){return xr(c),p=io(c,p),c.g.has(p)}t.forEach=function(c,p){xr(this),this.g.forEach(function(w,R){w.forEach(function(L){c.call(p,L,R,this)},this)},this)},t.na=function(){xr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),w=[];for(let R=0;R<p.length;R++){const L=c[R];for(let j=0;j<L.length;j++)w.push(p[R])}return w},t.V=function(c){xr(this);let p=[];if(typeof c=="string")Iv(this,c)&&(p=p.concat(this.g.get(io(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)p=p.concat(c[w])}return p},t.set=function(c,p){return xr(this),this.i=null,c=io(this,c),Iv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Rv(c,p,w){Cv(c,p),0<w.length&&(c.i=null,c.g.set(io(c,p),_(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var w=0;w<p.length;w++){var R=p[w];const j=encodeURIComponent(String(R)),$=this.V(R);for(R=0;R<$.length;R++){var L=j;$[R]!==""&&(L+="="+encodeURIComponent(String($[R]))),c.push(L)}}return this.i=c.join("&")};function io(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function iR(c,p){p&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(w,R){var L=R.toLowerCase();R!=L&&(Cv(this,R),Rv(this,L,w))},c)),c.j=p}function oR(c,p){const w=new Rs;if(l.Image){const R=new Image;R.onload=E(Sr,w,"TestLoadImage: loaded",!0,p,R),R.onerror=E(Sr,w,"TestLoadImage: error",!1,p,R),R.onabort=E(Sr,w,"TestLoadImage: abort",!1,p,R),R.ontimeout=E(Sr,w,"TestLoadImage: timeout",!1,p,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function sR(c,p){const w=new Rs,R=new AbortController,L=setTimeout(()=>{R.abort(),Sr(w,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(j=>{clearTimeout(L),j.ok?Sr(w,"TestPingServer: ok",!0,p):Sr(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Sr(w,"TestPingServer: error",!1,p)})}function Sr(c,p,w,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(w)}catch{}}function aR(){this.g=new $I}function lR(c,p,w){const R=w||"";try{Ev(c,function(L,j){let $=L;u(L)&&($=Dd(L)),p.push(R+j+"="+encodeURIComponent($))})}catch(L){throw p.push(R+"type="+encodeURIComponent("_badmap")),L}}function wl(c){this.l=c.Ub||null,this.j=c.eb||!1}T(wl,Od),wl.prototype.g=function(){return new El(this.l,this.j)},wl.prototype.i=function(c){return function(){return c}}({});function El(c,p){yt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(El,yt),t=El.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Ds(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Av(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Av(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ks(this):Ds(this),this.readyState==3&&Av(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ks(this))},t.Qa=function(c){this.g&&(this.response=c,ks(this))},t.ga=function(){this.g&&ks(this)};function ks(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ds(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=p.next();return c.join(`\r
`)};function Ds(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pv(c){let p="";return M(c,function(w,R){p+=R,p+=":",p+=w,p+=`\r
`}),p}function Hd(c,p,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Pv(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):be(c,p,w))}function Ve(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ve,yt);var cR=/^https?$/i,uR=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jd.g(),this.v=this.o?iv(this.o):iv(jd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){bv(this,j);return}if(c=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)w.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const j of R.keys())w.set(j,R.get(j));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(j=>j.toLowerCase()=="content-type"),L=l.FormData&&c instanceof l.FormData,!(0<=Array.prototype.indexOf.call(uR,p,void 0))||R||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,$]of w)this.g.setRequestHeader(j,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dv(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){bv(this,j)}};function bv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Nv(c),Tl(c)}function Nv(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tl(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kv(this):this.bb())},t.bb=function(){kv(this)};function kv(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Qn(c)!=4||c.Z()!=2)){if(c.u&&Qn(c)==4)ev(c.Ea,0,c);else if(Pt(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var R;if(R=$===0){var L=String(c.D).match(Tv)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),R=!cR.test(L?L.toLowerCase():"")}w=R}if(w)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var j=2<Qn(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",Nv(c)}}finally{Tl(c)}}}}function Tl(c,p){if(c.g){Dv(c);const w=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Pt(c,"ready");try{w.onreadystatechange=R}catch{}}}function Dv(c){c.I&&(l.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),BI(p)}};function Ov(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dR(c){const p={};c=(c.g&&2<=Qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(y(c[R]))continue;var w=k(c[R]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const j=p[L]||[];p[L]=j,j.push(w)}I(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||p}function Mv(c){this.Aa=0,this.i=[],this.j=new Rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gv(c&&c.concurrentRequestLimit),this.Da=new aR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mv.prototype,t.la=8,t.G=1,t.connect=function(c,p,w,R){bt(0),this.W=c,this.H=p||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=Hv(this,null,this.W),Sl(this)};function Wd(c){if(Lv(c),c.G==3){var p=c.U++,w=Gn(c.I);if(be(w,"SID",c.K),be(w,"RID",p),be(w,"TYPE","terminate"),Ms(c,w),p=new Tr(c,c.j,p),p.L=2,p.v=_l(Gn(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!w&&l.Image&&(new Image().src=p.v,w=!0),w||(p.g=Wv(p.j,null),p.g.ea(p.v)),p.F=Date.now(),gl(p)}$v(c)}function xl(c){c.g&&(Kd(c),c.g.cancel(),c.g=null)}function Lv(c){xl(c),c.u&&(l.clearTimeout(c.u),c.u=null),Cl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&l.clearTimeout(c.s),c.s=null)}function Sl(c){if(!vv(c.h)&&!c.s){c.s=!0;var p=c.Ga;K||W(),V||(K(),V=!0),B.add(p,c),c.B=0}}function hR(c,p){return yv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Is(m(c.Ga,c,p),Bv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Tr(this,this.j,c);let j=this.o;if(this.S&&(j?(j=C(j),b(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=Vv(this,L,p),w=Gn(this.I),be(w,"RID",c),be(w,"CVER",22),this.D&&be(w,"X-HTTP-Session-Id",this.D),Ms(this,w),j&&(this.O?p="headers="+encodeURIComponent(String(Pv(j)))+"&"+p:this.m&&Hd(w,this.m,j)),$d(this.h,L),this.Ua&&be(w,"TYPE","init"),this.P?(be(w,"$req",p),be(w,"SID","null"),L.T=!0,Fd(L,w,null)):Fd(L,w,p),this.G=2}}else this.G==3&&(c?jv(this,c):this.i.length==0||vv(this.h)||jv(this))};function jv(c,p){var w;p?w=p.l:w=c.U++;const R=Gn(c.I);be(R,"SID",c.K),be(R,"RID",w),be(R,"AID",c.T),Ms(c,R),c.m&&c.o&&Hd(R,c.m,c.o),w=new Tr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Vv(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$d(c.h,w),Fd(w,R,p)}function Ms(c,p){c.H&&M(c.H,function(w,R){be(p,R,w)}),c.l&&Ev({},function(w,R){be(p,R,w)})}function Vv(c,p,w){w=Math.min(c.i.length,w);var R=c.l?m(c.l.Na,c.l,c):null;e:{var L=c.i;let j=-1;for(;;){const $=["count="+w];j==-1?0<w?(j=L[0].g,$.push("ofs="+j)):j=0:$.push("ofs="+j);let Re=!0;for(let ct=0;ct<w;ct++){let we=L[ct].g;const _t=L[ct].map;if(we-=j,0>we)j=Math.max(0,L[ct].g-100),Re=!1;else try{lR(_t,$,"req"+we+"_")}catch{R&&R(_t)}}if(Re){R=$.join("&");break e}}}return c=c.i.splice(0,w),p.D=c,R}function Fv(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;K||W(),V||(K(),V=!0),B.add(p,c),c.v=0}}function qd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Is(m(c.Fa,c),Bv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Is(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),xl(this),Uv(this))};function Kd(c){c.A!=null&&(l.clearTimeout(c.A),c.A=null)}function Uv(c){c.g=new Tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Gn(c.qa);be(p,"RID","rpc"),be(p,"SID",c.K),be(p,"AID",c.T),be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(p,"TO",c.ja),be(p,"TYPE","xmlhttp"),Ms(c,p),c.m&&c.o&&Hd(p,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=_l(Gn(p)),w.m=null,w.P=!0,fv(w,c)}t.Za=function(){this.C!=null&&(this.C=null,xl(this),qd(this),bt(19))};function Cl(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function zv(c,p){var w=null;if(c.g==p){Cl(c),Kd(c),c.g=null;var R=2}else if(Bd(c.h,p))w=p.D,_v(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){w=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;R=fl(),Pt(R,new cv(R,w)),Sl(c)}else Fv(c);else if(L=p.s,L==3||L==0&&0<p.X||!(R==1&&hR(c,p)||R==2&&qd(c)))switch(w&&0<w.length&&(p=c.h,p.i=p.i.concat(w)),L){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Bv(c,p){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*p}function wi(c,p){if(c.j.info("Error code "+p),p==2){var w=m(c.fb,c),R=c.Xa;const L=!R;R=new _i(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||vl(R,"https"),_l(R),L?oR(R.toString(),w):sR(R.toString(),w)}else bt(2);c.G=0,c.l&&c.l.sa(p),$v(c),Lv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function $v(c){if(c.G=0,c.ka=[],c.l){const p=wv(c.h);(p.length!=0||c.i.length!=0)&&(g(c.ka,p),g(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function Hv(c,p,w){var R=w instanceof _i?Gn(w):new _i(w);if(R.g!="")p&&(R.g=p+"."+R.g),yl(R,R.s);else{var L=l.location;R=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new _i(null);R&&vl(j,R),p&&(j.g=p),L&&yl(j,L),w&&(j.l=w),R=j}return w=c.D,p=c.ya,w&&p&&be(R,w,p),be(R,"VER",c.la),Ms(c,R),R}function Wv(c,p,w){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ve(new wl({eb:w})):new Ve(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qv(){}t=qv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(c,p){return new $t(c,p)};function $t(c,p){yt.call(this),this.g=new Mv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!y(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new oo(this)}T($t,yt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Wd(this.g)},$t.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Dd(c),c=w);p.i.push(new QI(p.Ya++,c)),p.G==3&&Sl(p)},$t.prototype.N=function(){this.g.l=null,delete this.j,Wd(this.g),delete this.g,$t.aa.N.call(this)};function Kv(c){Md.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const w in p){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(Kv,Md);function Gv(){Ld.call(this),this.status=1}T(Gv,Ld);function oo(c){this.g=c}T(oo,qv),oo.prototype.ua=function(){Pt(this.g,"a")},oo.prototype.ta=function(c){Pt(this.g,new Kv(c))},oo.prototype.sa=function(c){Pt(this.g,new Gv)},oo.prototype.ra=function(){Pt(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,KT=function(){return new Il},qT=function(){return fl()},WT=vi,Yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,vc=pl,uv.COMPLETE="complete",HT=uv,ov.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Xs=ov,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,$T=Ve}).apply(typeof Wl<"u"?Wl:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Mm("@firebase/firestore");function Hs(){return Bi.logLevel}function G(t,...e){if(Bi.logLevel<=he.DEBUG){const n=e.map(Vm);Bi.debug(`Firestore (${hs}): ${t}`,...n)}}function fr(t,...e){if(Bi.logLevel<=he.ERROR){const n=e.map(Vm);Bi.error(`Firestore (${hs}): ${t}`,...n)}}function es(t,...e){if(Bi.logLevel<=he.WARN){const n=e.map(Vm);Bi.warn(`Firestore (${hs}): ${t}`,...n)}}function Vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+t;throw fr(e),new Error(e)}function Be(t,e){t||ae()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class yN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _N{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0);let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let o=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ki,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const a=o;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ki)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new GT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new St(e)}}class wN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Be(this.o===void 0);const r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new TN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=SN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function ts(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new Bt(0,0))}static max(){return new re(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends Ma{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const IN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Ma{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return IN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Z(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new Z(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new Z(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(ze.fromString(e))}static fromName(e){return new te(ze.fromString(e).popFirst(5))}static empty(){return new te(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new ze(e.slice()))}}function RN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new ii(i,te.empty(),e)}function AN(t){return new ii(t.readTime,t.key,-1)}class ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ii(re.min(),te.empty(),-1)}static max(){return new ii(re.max(),te.empty(),-1)}}function PN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==bN)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},a=>r(a))}),s=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let a=0;a<o;a++){const u=a;n(e[u]).next(d=>{s[u]=d,++l,l===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function kN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Um.oe=-1;function Gu(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ql(this.root,e,this.comparator,!0)}}class ql{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=o??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new zr([])}unionWith(e){let n=new pt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ts(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new QT("Invalid base64 string: "+o):o}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const ON=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if(Be(!!t),typeof t=="string"){let e=0;const n=ON.exec(t);if(Be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bm(t){const e=t.mapValue.fields.__previous_value__;return zm(e)?Bm(e):e}function La(t){const e=oi(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i,o,s,l,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zm(t)?4:jN(t)?9007199254740991:LN(t)?10:11:ae()}function Vn(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return La(t).isEqual(La(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=oi(i.timestampValue),l=oi(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return $i(i.bytesValue).isEqual($i(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=He(i.doubleValue),l=He(o.doubleValue);return s===l?Xf(s)===Xf(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return ts(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(m0(s)!==m0(l))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(l[a]===void 0||!Vn(s[a],l[a])))return!1;return!0}(t,e);default:return ae()}}function Va(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function ns(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=He(o.integerValue||o.doubleValue),a=He(s.integerValue||s.doubleValue);return l<a?-1:l>a?1:l===a?0:isNaN(l)?isNaN(a)?0:-1:1}(t,e);case 3:return v0(t.timestampValue,e.timestampValue);case 4:return v0(La(t),La(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(o,s){const l=$i(o),a=$i(s);return l.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),a=s.split("/");for(let u=0;u<l.length&&u<a.length;u++){const d=Te(l[u],a[u]);if(d!==0)return d}return Te(l.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Te(He(o.latitude),He(s.latitude));return l!==0?l:Te(He(o.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return y0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,a,u,d;const h=o.fields||{},m=s.fields||{},E=(l=h.value)===null||l===void 0?void 0:l.arrayValue,T=(a=m.value)===null||a===void 0?void 0:a.arrayValue,_=Te(((u=E==null?void 0:E.values)===null||u===void 0?void 0:u.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:y0(E,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Kl.mapValue&&s===Kl.mapValue)return 0;if(o===Kl.mapValue)return 1;if(s===Kl.mapValue)return-1;const l=o.fields||{},a=Object.keys(l),u=s.fields||{},d=Object.keys(u);a.sort(),d.sort();for(let h=0;h<a.length&&h<d.length;++h){const m=Te(a[h],d[h]);if(m!==0)return m;const E=ns(l[a[h]],u[d[h]]);if(E!==0)return E}return Te(a.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function v0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=oi(t),r=oi(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function y0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ns(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}function rs(t){return Jf(t)}function Jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Jf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Jf(n.fields[s])}`;return i+"}"}(t.mapValue):ae()}function Zf(t){return!!t&&"integerValue"in t}function $m(t){return!!t&&"arrayValue"in t}function _0(t){return!!t&&"nullValue"in t}function w0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ih(t){return!!t&&"mapValue"in t}function LN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=ua(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rn(ua(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new It(e,0,re.min(),re.min(),re.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,re.min(),re.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,re.min(),re.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.position=e,this.inclusive=n}}function E0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),n.key):r=ns(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function VN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class tt extends YT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UN(e,n,r):n==="array-contains"?new $N(e,r):n==="in"?new HN(e,r):n==="not-in"?new WN(e,r):n==="array-contains-any"?new qN(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zN(e,r):new BN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ns(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends YT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fn(e,n)}matches(e){return XT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XT(t){return t.op==="and"}function JT(t){return FN(t)&&XT(t)}function FN(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function ep(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+rs(t.value);if(JT(t))return t.filters.map(e=>ep(e)).join(",");{const e=t.filters.map(n=>ep(n)).join(",");return`${t.op}(${e})`}}function ZT(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&ZT(s,i.filters[l]),!0):!1}(t,e):void ae()}function ex(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${rs(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(ex).join(" ,")+"}"}(t):"Filter"}class UN extends tt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class zN extends tt{constructor(e,n){super(e,"in",n),this.keys=tx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BN extends tt{constructor(e,n){super(e,"not-in",n),this.keys=tx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class $N extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $m(n)&&Va(n.arrayValue,this.value)}}class HN extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}}class WN extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}}class qN extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function x0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new KN(t,e,n,r,i,o,s)}function Hm(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ep(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rs(r)).join(",")),e.ue=n}return e.ue}function Wm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T0(t.startAt,e.startAt)&&T0(t.endAt,e.endAt)}function tp(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function GN(t,e,n,r,i,o,s,l){return new Yu(t,e,n,r,i,o,s,l)}function nx(t){return new Yu(t)}function S0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QN(t){return t.collectionGroup!==null}function da(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new pt(kt.comparator);return s.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new iu(o,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new iu(kt.keyField(),r))}return e.ce}function On(t){const e=pe(t);return e.le||(e.le=YN(e,da(t))),e.le}function YN(t,e){if(t.limitType==="F")return x0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new iu(i.field,o)});const n=t.endAt?new ru(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ru(t.startAt.position,t.startAt.inclusive):null;return x0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function np(t,e,n){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xu(t,e){return Wm(On(t),On(e))&&t.limitType===e.limitType}function rx(t){return`${Hm(On(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ex(i)).join(", ")}]`),Gu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rs(i)).join(",")),`Target(${r})`}(On(t))}; limitType=${t.limitType})`}function Ju(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of da(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,a){const u=E0(s,l,a);return s.inclusive?u<=0:u<0}(r.startAt,da(r),i)||r.endAt&&!function(s,l,a){const u=E0(s,l,a);return s.inclusive?u>=0:u>0}(r.endAt,da(r),i))}(t,e)}function XN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ix(t){return(e,n)=>{let r=!1;for(const i of da(t)){const o=JN(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function JN(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(o,s,l){const a=s.data.field(o),u=l.data.field(o);return a!==null&&u!==null?ns(a,u):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new qe(te.comparator);function si(){return ZN}const ox=new qe(te.comparator);function Js(...t){let e=ox;for(const n of t)e=e.insert(n.key,n);return e}function ek(t){let e=ox;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return ha()}function sx(){return ha()}function ha(){return new fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const tk=new pt(te.comparator);function ge(...t){let e=tk;for(const n of t)e=e.add(n);return e}const nk=new pt(Te);function rk(){return nk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function ok(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this._=void 0}}function sk(t,e,n){return t instanceof rp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zm(o)&&(o=Bm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ou?ax(t,e):t instanceof su?lx(t,e):function(i,o){const s=lk(i,o),l=C0(s)+C0(i.Pe);return Zf(s)&&Zf(i.Pe)?ok(l):ik(i.serializer,l)}(t,e)}function ak(t,e,n){return t instanceof ou?ax(t,e):t instanceof su?lx(t,e):n}function lk(t,e){return t instanceof ip?function(r){return Zf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class rp extends Zu{}class ou extends Zu{constructor(e){super(),this.elements=e}}function ax(t,e){const n=cx(e);for(const r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class su extends Zu{constructor(e){super(),this.elements=e}}function lx(t,e){let n=cx(e);for(const r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}class ip extends Zu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function C0(t){return He(t.integerValue||t.doubleValue)}function cx(t){return $m(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ck(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ou&&i instanceof ou||r instanceof su&&i instanceof su?ts(r.elements,i.elements,Vn):r instanceof ip&&i instanceof ip?Vn(r.Pe,i.Pe):r instanceof rp&&i instanceof rp}(t.transform,e.transform)}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qm{}function ux(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dk(t.key,Di.none()):new Km(t.key,t.data,Di.none());{const n=t.data,r=Rn.empty();let i=new pt(kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ed(t.key,r,new zr(i.toArray()),Di.none())}}function uk(t,e,n){t instanceof Km?function(i,o,s){const l=i.value.clone(),a=R0(i.fieldTransforms,o,s.transformResults);l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ed?function(i,o,s){if(!yc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=R0(i.fieldTransforms,o,s.transformResults),a=o.data;a.setAll(dx(i)),a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fa(t,e,n,r){return t instanceof Km?function(o,s,l,a){if(!yc(o.precondition,s))return l;const u=o.value.clone(),d=A0(o.fieldTransforms,a,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ed?function(o,s,l,a){if(!yc(o.precondition,s))return l;const u=A0(o.fieldTransforms,a,s),d=s.data;return d.setAll(dx(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,l){return yc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function I0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ts(r,i,(o,s)=>ck(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Km extends qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ed extends qm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function R0(t,e,n){const r=new Map;Be(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,ak(s,l,n[i]))}return r}function A0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,sk(o,s,e))}return r}class dk extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&uk(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sx();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const a=ux(s,l);a!==null&&r.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&ts(this.mutations,e.mutations,(n,r)=>I0(n,r))&&ts(this.baseMutations,e.baseMutations,(n,r)=>I0(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fk=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,fe;function hx(t){if(t===void 0)return fr("GRPC error has no .code"),H.UNKNOWN;switch(t){case Ge.OK:return H.OK;case Ge.CANCELLED:return H.CANCELLED;case Ge.UNKNOWN:return H.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return H.INTERNAL;case Ge.UNAVAILABLE:return H.UNAVAILABLE;case Ge.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Ge.NOT_FOUND:return H.NOT_FOUND;case Ge.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Ge.ABORTED:return H.ABORTED;case Ge.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Ge.DATA_LOSS:return H.DATA_LOSS;default:return ae()}}(fe=Ge||(Ge={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Ni([4294967295,4294967295],0);function P0(t){const e=mk().encode(t),n=new BT;return n.update(e),new Uint8Array(n.digest())}function b0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ni([n,r],0),new Ni([i,o],0)]}class Gm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zs(`Invalid padding: ${n}`);if(r<0)throw new Zs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ni.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ni.fromNumber(r)));return i.compare(gk)===1&&(i=new Ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=P0(e),[r,i]=b0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Gm(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=P0(e),[r,i]=b0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new td(re.min(),i,new qe(Te),si(),ge())}}class tl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tl(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class fx{constructor(e,n){this.targetId=e,this.me=n}}class px{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class N0{constructor(){this.fe=0,this.ge=D0(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new tl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=D0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vk{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=k0(),this.Qe=new qe(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(tp(o))if(r===0){const s=new te(o.path);this.Ue(n,s,It.newNoDocument(s,re.min()))}else Be(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),a=l?this.Xe(l,e,s):1;if(a!==0){this.je(n);const u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=$i(r).toUint8Array()}catch(a){if(a instanceof QT)return es("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{l=new Gm(s,i,o)}catch(a){return es(a instanceof Zs?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&tp(l.target)){const a=new te(l.target.path);this.ke.get(a)!==null||this.it(s,a)||this.Ue(s,a,It.newNoDocument(a,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(a=>{const u=this.Je(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new td(e,n,this.Qe,this.ke,r);return this.ke=si(),this.qe=k0(),this.Qe=new qe(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new N0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new N0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function k0(){return new qe(te.comparator)}function D0(){return new qe(te.comparator)}const yk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_k=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),wk=(()=>({and:"AND",or:"OR"}))();class Ek{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(t,e){return t.useProto3Json||Gu(e)?e:{value:e}}function Tk(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jo(t){return Be(!!t),re.fromTimestamp(function(n){const r=oi(n);return new Bt(r.seconds,r.nanos)}(t))}function Sk(t,e){return sp(t,e).canonicalString()}function sp(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mx(t){const e=ze.fromString(t);return Be(wx(e)),e}function Rh(t,e){const n=mx(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(vx(n))}function gx(t,e){return Sk(t.databaseId,e)}function Ck(t){const e=mx(t);return e.length===4?ze.emptyPath():vx(e)}function O0(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vx(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ik(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Be(d===void 0||typeof d=="string"),gt.fromBase64String(d||"")):(Be(d===void 0||d instanceof Buffer||d instanceof Uint8Array),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(u){const d=u.code===void 0?H.UNKNOWN:hx(u.code);return new Z(d,u.message||"")}(s);n=new px(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rh(t,r.document.name),o=jo(r.document.updateTime),s=r.document.createTime?jo(r.document.createTime):re.min(),l=new Rn({mapValue:{fields:r.document.fields}}),a=It.newFoundDocument(i,o,s,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new _c(u,d,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rh(t,r.document),o=r.readTime?jo(r.readTime):re.min(),s=It.newNoDocument(i,o),l=r.removedTargetIds||[];n=new _c([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rh(t,r.document),o=r.removedTargetIds||[];n=new _c([],o,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new pk(i,o),l=r.targetId;n=new fx(l,s)}}return n}function Rk(t,e){return{documents:[gx(t,e.path)]}}function Ak(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gx(t,i);const o=function(u){if(u.length!==0)return _x(Fn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:po(m.field),direction:Nk(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=op(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Pk(t){let e=Ck(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Be(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const m=yx(h);return m instanceof Fn&&JT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(m=>function(T){return new iu(mo(T.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,Gu(m)?null:m}(n.limit));let a=null;n.startAt&&(a=function(h){const m=!!h.before,E=h.values||[];return new ru(E,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,E=h.values||[];return new ru(E,m)}(n.endAt)),GN(e,i,s,o,l,"F",a,u)}function bk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mo(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mo(n.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mo(n.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>yx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function Nk(t){return yk[t]}function kk(t){return _k[t]}function Dk(t){return wk[t]}function po(t){return{fieldPath:t.canonicalString()}}function mo(t){return kt.fromServerFormat(t.fieldPath)}function _x(t){return t instanceof tt?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(_0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(_0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:kk(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(i=>_x(i));return r.length===1?r[0]:{compositeFilter:{op:Dk(n.op),filters:r}}}(t):ae()}function wx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,o=re.min(),s=re.min(),l=gt.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.ct=e}}function Mk(t){const e=Pk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.un=new jk}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ii.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class jk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new is(0)}static kn(){return new is(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fa(r.mutation,i,zr.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Js();return o.forEach((l,a)=>{s=s.insert(l,a.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=si();const s=ha(),l=function(){return ha()}();return n.forEach((a,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ed)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),fa(d.mutation,u,d.mutation.getFieldMask(),Bt.now())):s.set(u.key,zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(a=>(a.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new Fk(d,(h=s.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ha();let i=new qe((s,l)=>s-l),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let d=r.get(a)||zr.empty();d=l.applyToLocalView(u,d),r.set(a,d);const h=(i.get(l.batchId)||ge()).add(a);i=i.insert(l.batchId,h)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,d=a.value,h=sx();d.forEach(m=>{if(!o.has(m)){const E=ux(n.get(m),r.get(m));E!==null&&h.set(m,E),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Ai());let l=-1,a=o;return s.next(u=>F.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),o.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{a=a.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,a,u,ge())).next(d=>({batchId:l,changes:ek(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Js();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Js();return this.indexManager.getCollectionParents(e,o).next(l=>F.forEach(l,a=>{const u=function(h,m){return new Yu(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,m)=>{s=s.insert(h,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((a,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,It.newInvalidDocument(d)))});let l=Js();return s.forEach((a,u)=>{const d=o.get(a);d!==void 0&&fa(d.mutation,u,zr.empty(),Bt.now()),Ju(n,u)&&(l=l.insert(a,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jo(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Mk(i.bundledQuery),readTime:jo(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.overlays=new qe(te.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Ai(),o=n.length+1,s=new te(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&a.largestBatchId>r&&i.set(a.getKey(),a)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new qe((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Ai(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ai(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return F.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fk(n,r));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Tr=new pt(it.Er),this.dr=new pt(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new te(new ze([])),r=new it(n,e),i=new it(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new te(new ze([])),r=new it(n,e),i=new it(n,e+1);let o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new it(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pt(it.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hk(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new it(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(Te);return n.forEach(i=>{const o=new it(i,0),s=new it(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const s=new it(new te(o),0);let l=new pt(Te);return this.br.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(a.wr)),!0)},s),F.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const o=new it(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new it(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.Mr=e,this.docs=function(){return new qe(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():It.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=si();const s=n.path,l=new te(s.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:d}}=a.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||PN(AN(d),r)<=0||(i.has(d.key)||Ju(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qk(this)}getSize(e){return F.resolve(this.size)}}class qk extends Vk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.persistence=e,this.Nr=new fs(n=>Hm(n),Wm),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qm,this.targetCount=0,this.kr=is.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new is(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Um(0),this.Kr=!1,this.Kr=!0,this.$r=new $k,this.referenceDelegate=e(this),this.Ur=new Kk(this),this.indexManager=new Lk,this.remoteDocumentCache=function(i){return new Wk(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ok(n),this.Gr=new zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Hk(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new Qk(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Qk extends NN{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Jr=new Qm,this.Yr=null}static Zr(e){return new Ym(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=te.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Xm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return eb()?8:kN(At())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Yk;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Hs()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Hs()<=he.DEBUG&&G("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Hs()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(n))):F.resolve())}Yi(e,n){if(S0(n))return F.resolve(null);let r=On(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=np(n,null,"F"),r=On(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(a=>{const u=this.ts(n,l);return this.ns(n,u,s,a.readTime)?this.Yi(e,np(n,null,"F")):this.rs(e,u,n,a)}))})))}Zi(e,n,r,i){return S0(n)||i.isEqual(re.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Hs()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fo(n)),this.rs(e,s,n,RN(i,-1)).next(l=>l))})}ts(e,n){let r=new pt(ix(e));return n.forEach((i,o)=>{Ju(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Hs()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ii.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new qe(Te),this._s=new fs(o=>Hm(o),Wm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Zk(t,e,n,r){return new Jk(t,e,n,r)}async function Ex(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let a=ge();for(const u of i){s.push(u.batchId);for(const d of u.mutations)a=a.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)a=a.add(d.key)}return n.localDocuments.getDocuments(r,a).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:l}))})})}function Tx(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function e2(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,h)=>{const m=i.get(h);if(!m)return;l.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,h)));let E=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?E=E.withResumeToken(gt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(h,E),function(_,g,S){return _.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,E,d)&&l.push(n.Ur.updateTargetData(o,E))});let a=si(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(t2(o,s,e.documentUpdates).next(d=>{a=d.Ps,u=d.Is})),!r.isEqual(re.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return F.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,a,u)).next(()=>a)}).then(o=>(n.os=i,o))}function t2(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=si();return n.forEach((l,a)=>{const u=o.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(re.min())?(e.removeEntry(l,a.readTime),s=s.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(l,a)):G("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{Ps:s,Is:i}})}function n2(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Br(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ap(t,e,n){const r=pe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!el(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function M0(t,e,n){const r=pe(t);let i=re.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(a,u,d){const h=pe(a),m=h._s.get(d);return m!==void 0?F.resolve(h.os.get(m)):h.Ur.getTargetData(u,d)}(r,s,On(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(a=>{o=a})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:ge())).next(l=>(r2(r,XN(e),l),{documents:l,Ts:o})))}function r2(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class L0{constructor(){this.activeTargetIds=rk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i2{constructor(){this.so=new L0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new L0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl=null;function Ah(){return Gl===null?Gl=function(){return 268435456+Math.round(2147483648*Math.random())}():Gl++,"0x"+Gl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class l2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Ah(),a=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${l}:`,a,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,a,u,i).then(d=>(G("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw es("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",a,"request:",i),d})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=s2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Ah();return new Promise((s,l)=>{const a=new $T;a.setWithCredentials(!0),a.listenOnce(HT.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case vc.NO_ERROR:const d=a.getResponseJson();G(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case vc.TIMEOUT:G(xt,`RPC '${e}' ${o} timed out`),l(new Z(H.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const h=a.getStatus();if(G(xt,`RPC '${e}' ${o} failed with status:`,h,"response text:",a.getResponseText()),h>0){let m=a.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const T=function(g){const S=g.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(S)>=0?S:H.UNKNOWN}(E.status);l(new Z(T,E.message))}else l(new Z(H.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new Z(H.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{G(xt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);G(xt,`RPC '${e}' ${o} sending request:`,i),a.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Ah(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KT(),l=qT(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const d=o.join("");G(xt,`Creating RPC '${e}' stream ${i}: ${d}`,a);const h=s.createWebChannel(d,a);let m=!1,E=!1;const T=new a2({Io:g=>{E?G(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(m||(G(xt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),G(xt,`RPC '${e}' stream ${i} sending:`,g),h.send(g))},To:()=>h.close()}),_=(g,S,y)=>{g.listen(S,v=>{try{y(v)}catch(A){setTimeout(()=>{throw A},0)}})};return _(h,Xs.EventType.OPEN,()=>{E||(G(xt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),_(h,Xs.EventType.CLOSE,()=>{E||(E=!0,G(xt,`RPC '${e}' stream ${i} transport closed`),T.So())}),_(h,Xs.EventType.ERROR,g=>{E||(E=!0,es(xt,`RPC '${e}' stream ${i} transport errored:`,g),T.So(new Z(H.UNAVAILABLE,"The operation could not be completed")))}),_(h,Xs.EventType.MESSAGE,g=>{var S;if(!E){const y=g.data[0];Be(!!y);const v=y,A=v.error||((S=v[0])===null||S===void 0?void 0:S.error);if(A){G(xt,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let M=function(P){const b=Ge[P];if(b!==void 0)return hx(b)}(O),I=A.message;M===void 0&&(M=H.INTERNAL,I="Unknown error status: "+O+" with message "+A.message),E=!0,T.So(new Z(M,I)),h.close()}else G(xt,`RPC '${e}' stream ${i} received:`,y),T.bo(y)}}),_(l,WT.STAT_EVENT,g=>{g.stat===Yf.PROXY?G(xt,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===Yf.NOPROXY&&G(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){return new Ek(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,i,o,s,l,a){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Sx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Z(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u2 extends c2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Ik(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?jo(s.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=O0(this.serializer),n.addTarget=function(o,s){let l;const a=s.target;if(l=tp(a)?{documents:Rk(o,a)}:{query:Ak(o,a)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=xk(o,s.resumeToken);const u=op(o,s.expectedCount);u!==null&&(l.expectedCount=u)}else if(s.snapshotVersion.compareTo(re.min())>0){l.readTime=Tk(o,s.snapshotVersion.toTimestamp());const u=op(o,s.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=bk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=O0(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,sp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(H.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,sp(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(H.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class h2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fr(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{rl(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=pe(a);u.L_.add(4),await nl(u),u.q_.set("Unknown"),u.L_.delete(4),await nd(u)}(this))})}),this.q_=new h2(r,i)}}async function nd(t){if(rl(t))for(const e of t.B_)await e(!0)}async function nl(t){for(const e of t.B_)await e(!1)}function Cx(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tg(n)?eg(n):ps(n).r_()&&Zm(n,e))}function Jm(t,e){const n=pe(t),r=ps(n);n.N_.delete(e),r.r_()&&Ix(n,e),n.N_.size===0&&(r.r_()?r.o_():rl(n)&&n.q_.set("Unknown"))}function Zm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ps(t).A_(e)}function Ix(t,e){t.Q_.xe(e),ps(t).R_(e)}function eg(t){t.Q_=new vk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ps(t).start(),t.q_.v_()}function tg(t){return rl(t)&&!ps(t).n_()&&t.N_.size>0}function rl(t){return pe(t).L_.size===0}function Rx(t){t.Q_=void 0}async function p2(t){t.q_.set("Online")}async function m2(t){t.N_.forEach((e,n)=>{Zm(t,e)})}async function g2(t,e){Rx(t),tg(t)?(t.q_.M_(e),eg(t)):t.q_.set("Unknown")}async function v2(t,e,n){if(t.q_.set("Online"),e instanceof px&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await V0(t,r)}else if(e instanceof _c?t.Q_.Ke(e):e instanceof fx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{const r=await Tx(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(a.resumeToken,s))}}),l.targetMismatches.forEach((a,u)=>{const d=o.N_.get(a);if(!d)return;o.N_.set(a,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),Ix(o,a);const h=new Br(d.target,a,u,d.sequenceNumber);Zm(o,h)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await V0(t,r)}}async function V0(t,e,n){if(!el(e))throw e;t.L_.add(1),await nl(t),t.q_.set("Offline"),n||(n=()=>Tx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await nd(t)})}async function F0(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=rl(n);n.L_.add(3),await nl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nd(n)}async function y2(t,e){const n=pe(t);e?(n.L_.delete(2),await nd(n)):e||(n.L_.add(2),await nl(n),n.q_.set("Unknown"))}function ps(t){return t.K_||(t.K_=function(n,r,i){const o=pe(n);return o.w_(),new u2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:p2.bind(null,t),Ro:m2.bind(null,t),mo:g2.bind(null,t),d_:v2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tg(t)?eg(t):t.q_.set("Unknown")):(await t.K_.stop(),Rx(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new ng(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ax(t,e){if(fr("AsyncQueue",`${e}: ${t}`),el(t))return new Z(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Js(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.W_=new qe(te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class os{constructor(e,n,r,i,o,s,l,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new os(e,n,Vo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class w2{constructor(){this.queries=z0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=pe(n),o=i.queries;i.queries=z0(),o.forEach((s,l)=>{for(const a of l.j_)a.onError(r)})})(this,new Z(H.ABORTED,"Firestore shutting down"))}}function z0(){return new fs(t=>rx(t),Xu)}async function E2(t,e){const n=pe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new _2,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Ax(s,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&rg(n)}async function T2(t,e){const n=pe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x2(t,e){const n=pe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&rg(n)}function S2(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function rg(t){t.Y_.forEach(e=>{e.next()})}var lp,B0;(B0=lp||(lp={})).ea="default",B0.Cache="cache";class C2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new os(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.key=e}}class bx{constructor(e){this.key=e}}class I2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=ix(e),this.Ra=new Vo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new U0,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const m=i.get(d),E=Ju(this.query,h)?h:null,T=!!m&&this.mutatedKeys.has(m.key),_=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let g=!1;m&&E?m.data.isEqual(E.data)?T!==_&&(r.track({type:3,doc:E}),g=!0):this.ga(m,E)||(r.track({type:2,doc:E}),g=!0,(a&&this.Aa(E,a)>0||u&&this.Aa(E,u)<0)&&(l=!0)):!m&&E?(r.track({type:0,doc:E}),g=!0):m&&!E&&(r.track({type:1,doc:m}),g=!0,(a||u)&&(l=!0)),g&&(E?(s=s.add(E),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,h)=>function(E,T){const _=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return _(E)-_(T)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],a=this.da.size===0&&this.current&&!i?1:0,u=a!==this.Ea;return this.Ea=a,s.length!==0||u?{snapshot:new os(this.query,e.Ra,o,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new U0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new bx(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Px(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return os.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class R2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A2{constructor(e){this.key=e,this.va=!1}}class P2{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new fs(l=>rx(l),Xu),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(te.comparator),this.Na=new Map,this.La=new Qm,this.Ba={},this.ka=new Map,this.qa=is.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function b2(t,e,n=!0){const r=Mx(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Nx(r,e,n,!0),i}async function N2(t,e){const n=Mx(t);await Nx(n,e,!0,!1)}async function Nx(t,e,n,r){const i=await n2(t.localStore,On(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await k2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Cx(t.remoteStore,i),l}async function k2(t,e,n,r,i){t.Ka=(h,m,E)=>async function(_,g,S,y){let v=g.view.ma(S);v.ns&&(v=await M0(_.localStore,g.query,!1).then(({documents:I})=>g.view.ma(I,v)));const A=y&&y.targetChanges.get(g.targetId),O=y&&y.targetMismatches.get(g.targetId)!=null,M=g.view.applyChanges(v,_.isPrimaryClient,A,O);return H0(_,g.targetId,M.wa),M.snapshot}(t,h,m,E);const o=await M0(t.localStore,e,!0),s=new I2(e,o.Ts),l=s.ma(o.documents),a=tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(l,t.isPrimaryClient,a);H0(t,n,u.wa);const d=new R2(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function D2(t,e,n){const r=pe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Xu(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ap(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jm(r.remoteStore,i.targetId),cp(r,i.targetId)}).catch(Fm)):(cp(r,i.targetId),await ap(r.localStore,i.targetId,!0))}async function O2(t,e){const n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jm(n.remoteStore,r.targetId))}async function kx(t,e){const n=pe(t);try{const r=await e2(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Be(s.va):i.removedDocuments.size>0&&(Be(s.va),s.va=!1))}),await Ox(n,r,e)}catch(r){await Fm(r)}}function $0(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const a=pe(s);a.onlineState=l;let u=!1;a.queries.forEach((d,h)=>{for(const m of h.j_)m.Z_(l)&&(u=!0)}),u&&rg(a)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M2(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new qe(te.comparator);s=s.insert(o,It.newNoDocument(o,re.min()));const l=ge().add(o),a=new td(re.min(),new Map,new qe(Te),s,l);await kx(r,a),r.Oa=r.Oa.remove(o),r.Na.delete(e),ig(r)}else await ap(r.localStore,e,!1).then(()=>cp(r,e,n)).catch(Fm)}function cp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Dx(t,r)})}function Dx(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Jm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ig(t))}function H0(t,e,n){for(const r of n)r instanceof Px?(t.La.addReference(r.key,e),L2(t,r)):r instanceof bx?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Dx(t,r.key)):ae()}function L2(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),ig(t))}function ig(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new te(ze.fromString(e)),r=t.qa.next();t.Na.set(r,new A2(n)),t.Oa=t.Oa.insert(n,r),Cx(t.remoteStore,new Br(On(nx(n.path)),r,"TargetPurposeLimboResolution",Um.oe))}}async function Ox(t,e,n){const r=pe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,a)=>{s.push(r.Ka(a,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(a.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(a.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Xm.Wi(a.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(a,u){const d=pe(a);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(u,m=>F.forEach(m.$i,E=>d.persistence.referenceDelegate.addReference(h,m.targetId,E)).next(()=>F.forEach(m.Ui,E=>d.persistence.referenceDelegate.removeReference(h,m.targetId,E)))))}catch(h){if(!el(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const E=d.os.get(m),T=E.snapshotVersion,_=E.withLastLimboFreeSnapshotVersion(T);d.os=d.os.insert(m,_)}}}(r.localStore,o))}async function j2(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await Ex(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(a=>{a.reject(new Z(H.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ox(n,r.hs)}}function V2(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function Mx(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M2.bind(null,e),e.Ca.d_=x2.bind(null,e.eventManager),e.Ca.$a=S2.bind(null,e.eventManager),e}class au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xx(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Zk(this.persistence,new Xk,e.initialUser,this.serializer)}Ga(e){return new Gk(Ym.Zr,this.serializer)}Wa(e){return new i2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}au.provider={build:()=>new au};class up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j2.bind(null,this.syncEngine),await y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w2}()}createDatastore(e){const n=xx(e.databaseInfo.databaseId),r=function(o){return new l2(o)}(e.databaseInfo);return function(o,s,l,a){return new d2(o,s,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new f2(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>$0(this.syncEngine,n,0),function(){return j0.D()?new j0:new o2}())}createSyncEngine(e,n){return function(i,o,s,l,a,u,d){const h=new P2(i,o,s,l,a,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=pe(i);G("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await nl(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=CN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ax(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ex(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function W0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z2(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>F0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>F0(e.remoteStore,i)),t._onlineComponents=e}async function z2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await bh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;es("Error using user provided cache. Falling back to memory cache: "+n),await bh(t,new au)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await bh(t,new au);return t._offlineComponents}async function B2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await W0(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await W0(t,new up))),t._onlineComponents}async function $2(t){const e=await B2(t),n=e.eventManager;return n.onListen=b2.bind(null,e.syncEngine),n.onUnlisten=D2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O2.bind(null,e.syncEngine),n}function H2(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,a,u){const d=new F2({next:m=>{d.Za(),s.enqueueAndForget(()=>T2(o,h)),m.fromCache&&a.source==="server"?u.reject(new Z(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new C2(l,d,{includeMetadataChanges:!0,_a:!0});return E2(o,h)}(await $2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e,n){if(!n)throw new Z(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q2(t,e,n,r){if(e===!0&&r===!0)throw new Z(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K0(t){if(te.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function K2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function dp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=K2(t);throw new Z(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vN;switch(r.type){case"firstParty":return new EN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q0.get(n);r&&(G("ComponentProvider","Removing Datastore"),q0.delete(n),r.terminate())}(this),Promise.resolve()}}function G2(t,e,n,r={}){var i;const o=(t=dp(t,og))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,a;if(typeof r.mockUserToken=="string")l=r.mockUserToken,a=St.MOCK_USER;else{l=LT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new St(u)}t._authCredentials=new yN(new GT(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rd(this.firestore,e,this._query)}}class ms{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ms(this.firestore,e,this._key)}}class Fo extends rd{constructor(e,n,r){super(e,n,nx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ms(this.firestore,null,new te(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function Q2(t,e,...n){if(t=fi(t),W2("collection","path",e),t instanceof og){const r=ze.fromString(e,...n);return K0(r),new Fo(t,null,r)}{if(!(t instanceof ms||t instanceof Fo))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return K0(r),new Fo(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Sx(this,"async_queue_retry"),this.Vu=()=>{const r=Ph();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ki;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!el(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ng.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class jx extends og{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Q0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q0(e),this._firestoreClient=void 0,await e}}}function Y2(t,e){const n=typeof t=="object"?t:jm(),r=typeof t=="string"?t:e||"(default)",i=Ku(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=DT("firestore");o&&G2(i,...o)}return i}function X2(t){if(t._terminated)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J2(t),t._firestoreClient}function J2(t){var e,n,r;const i=t._freezeSettings(),o=function(l,a,u,d){return new MN(l,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Lx(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new U2(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const a=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(gt.fromBase64String(e))}catch(n){throw new Z(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lu(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const tD=new RegExp("[~\\*/\\[\\]]");function nD(t,e,n){if(e.search(tD)>=0)throw Y0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vx(...e.split("."))._internalPath}catch{throw Y0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Y0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(o||s)&&(a+=" (found",o&&(a+=` in field ${r}`),s&&(a+=` in document ${i}`),a+=")"),new Z(H.INVALID_ARGUMENT,l+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ux("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rD extends Fx{data(){return super.data()}}function Ux(t,e){return typeof e=="string"?nD(t,e):e instanceof Vx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oD{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>He(s.doubleValue));return new eD(o)}convertGeoPoint(e){return new Z2(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(La(e));default:return null}}convertTimestamp(e){const n=oi(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Be(wx(r));const i=new ja(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||fr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sD extends Fx{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ux("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wc extends sD{data(e={}){return super.data(e)}}class aD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ql(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wc(this._firestore,this._userDataWriter,r.key,r,new Ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const a=new wc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ql(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const a=new wc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ql(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:lD(l.type),doc:a,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}class cD extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ms(this.firestore,null,n)}}function uD(t){t=dp(t,rd);const e=dp(t.firestore,jx),n=X2(e),r=new cD(e);return iD(t._query),H2(n,t._query).then(i=>new aD(e,r,t,i))}(function(e,n=!0){(function(i){hs=i})(eo),zi(new ri("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new jx(new _N(r.getProvider("auth-internal")),new xN(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Dn(p0,"4.7.3",e),Dn(p0,"4.7.3","esm2017")})();var dD="firebase",hD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(dD,hD,"app");var An=function(){return An=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},An.apply(this,arguments)};function il(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function zx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pD=zx,Bx=new Ja("auth","Firebase",zx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Mm("@firebase/auth");function mD(t,...e){cu.logLevel<=he.WARN&&cu.warn(`Auth (${eo}): ${t}`,...e)}function Ec(t,...e){cu.logLevel<=he.ERROR&&cu.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,...e){throw sg(t,...e)}function Mn(t,...e){return sg(t,...e)}function $x(t,e,n){const r=Object.assign(Object.assign({},pD()),{[e]:n});return new Ja("auth","Firebase",r).create(e,{appName:t.name})}function Oi(t){return $x(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Bx.create(t,...e)}function ne(t,e,...n){if(!t)throw sg(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ec(e),new Error(e)}function mr(t,e){t||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gD(){return X0()==="http:"||X0()==="https:"}function X0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gD()||XP()||"connection"in navigator)?navigator.onLine:!0}function yD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=GP()||JP()}get(){return vD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t,e){mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new ol(3e4,6e4);function lg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gs(t,e,n,r,i={}){return Wx(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=Za(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:a},o);return YP()||(u.referrerPolicy="no-referrer"),Hx.fetch()(qx(t,t.config.apiHost,n,l),u)})}async function Wx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_D),e);try{const i=new TD(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Yl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",s);if(a==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",s);if(a==="USER_DISABLED")throw Yl(t,"user-disabled",s);const d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $x(t,d,u);pr(t,d)}}catch(i){if(i instanceof Bn)throw i;pr(t,"network-request-failed",{message:String(i)})}}async function ED(t,e,n,r,i={}){const o=await gs(t,e,n,r,i);return"mfaPendingCredential"in o&&pr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function qx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ag(t.config,i):`${t.config.apiScheme}://${i}`}class TD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),wD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function Kx(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SD(t,e=!1){const n=fi(t),r=await n.getIdToken(e),i=cg(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:pa(Nh(i.auth_time)),issuedAtTime:pa(Nh(i.iat)),expirationTime:pa(Nh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Nh(t){return Number(t)*1e3}function cg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const i=NT(n);return i?JSON.parse(i):(Ec("Failed to decode base64 JWT payload"),null)}catch(i){return Ec("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function J0(t){const e=cg(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&CD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fa(t,Kx(n,{idToken:r}));ne(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Gx(o.providerUserInfo):[],l=AD(t.providerData,s),a=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),d=a?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function RD(t){const e=fi(t);await uu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Gx(t){return t.map(e=>{var{providerId:n}=e,r=il(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){const n=await Wx(t,{},async()=>{const r=Za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=qx(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Hx.fetch()(s,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bD(t,e){return gs(t,"POST","/v2/accounts:revokeToken",lg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=J0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await PD(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Uo;return r&&(ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=il(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ID(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fa(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SD(this,e)}reload(){return RD(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await Fa(this,xD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,l,a,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,g=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:A,isAnonymous:O,providerData:M,stsTokenManager:I}=n;ne(v&&I,e,"internal-error");const C=Uo.fromJSON(this.name,I);ne(typeof v=="string",e,"internal-error"),Ir(h,e.name),Ir(m,e.name),ne(typeof A=="boolean",e,"internal-error"),ne(typeof O=="boolean",e,"internal-error"),Ir(E,e.name),Ir(T,e.name),Ir(_,e.name),Ir(g,e.name),Ir(S,e.name),Ir(y,e.name);const P=new rr({uid:v,auth:e,email:m,emailVerified:A,displayName:h,isAnonymous:O,photoURL:T,phoneNumber:E,tenantId:_,stsTokenManager:C,createdAt:S,lastLoginAt:y});return M&&Array.isArray(M)&&(P.providerData=M.map(b=>Object.assign({},b))),g&&(P._redirectEventId=g),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Uo;i.updateFromServerResponse(n);const o=new rr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uu(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Gx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new Uo;l.updateFromIdToken(r);const a=new rr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(a,u),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function ir(t){mr(t instanceof Function,"Expected a class definition");let e=Z0.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qx.type="NONE";const e_=Qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e,n){return`firebase:${t}:${e}:${n}`}class zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Tc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Tc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zo(ir(e_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ir(e_);const s=Tc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(s);if(d){const h=rr._fromJSON(e,d);u!==o&&(l=h),o=u;break}}catch{}const a=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!a.length?new zo(o,e,r):(o=a[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new zo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tS(e))return"Blackberry";if(nS(e))return"Webos";if(Xx(e))return"Safari";if((e.includes("chrome/")||Jx(e))&&!e.includes("edge/"))return"Chrome";if(eS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Yx(t=At()){return/firefox\//i.test(t)}function Xx(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jx(t=At()){return/crios\//i.test(t)}function Zx(t=At()){return/iemobile/i.test(t)}function eS(t=At()){return/android/i.test(t)}function tS(t=At()){return/blackberry/i.test(t)}function nS(t=At()){return/webos/i.test(t)}function ug(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ND(t=At()){var e;return ug(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kD(){return ZP()&&document.documentMode===10}function rS(t=At()){return ug(t)||eS(t)||nS(t)||tS(t)||/windows phone/i.test(t)||Zx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e=[]){let n;switch(t){case"Browser":n=t_(At());break;case"Worker":n=`${t_(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const a=e(o);s(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e={}){return gs(t,"GET","/v2/passwordPolicy",lg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=6;class LD{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:MD,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(o=a.containsUppercaseLetter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(s=a.containsNumericCharacter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n_(this),this.idTokenSubscription=new n_(this),this.beforeStateQueue=new DD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kx(this,{idToken:e}),r=await rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===l)&&(a!=null&&a.user)&&(i=a.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Oi(this));const n=e?fi(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OD(this),n=new LD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ja("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,i);return()=>{s=!0,a()}}else{const a=e.addObserver(n);return()=>{s=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dg(t){return fi(t)}class n_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ab(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VD(t){hg=t}function FD(t){return hg.loadJS(t)}function UD(){return hg.gapiScript}function zD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e){const n=Ku(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(tu(o,e??{}))return i;pr(i,"already-initialized")}return n.initialize({options:e})}function $D(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HD(t,e,n){const r=dg(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=oS(e),{host:s,port:l}=WD(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${s}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||qD()}function oS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WD(t){const e=oS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:r_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:r_(s)}}}function r_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return ED(t,"POST","/v1/accounts:signInWithIdp",lg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="http://localhost";class Wi extends sS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=il(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Wi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:KD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Za(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends aS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends sl{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wi._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends sl{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends sl{constructor(){super("twitter.com")}static credential(e,n){return Wi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await rr._fromIdTokenResponse(e,r,i),s=i_(r);return new ss({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=i_(r);return new ss({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function i_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Bn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,du.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new du(e,n,r,i)}}function lS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?du._fromErrorAndOperation(t,o,e,r):o})}async function GD(t,e,n=!1){const r=await Fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ss._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(Oi(r));const i="reauthenticate";try{const o=await Fa(t,lS(r,i,e,t),n);ne(o.idToken,r,"internal-error");const s=cg(o.idToken);ne(s,r,"internal-error");const{sub:l}=s;return ne(t.uid===l,r,"user-mismatch"),ss._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e,n=!1){if(Ur(t.app))return Promise.reject(Oi(t));const r="signIn",i=await lS(t,r,e),o=await ss._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function XD(t,e,n,r){return fi(t).onIdTokenChanged(e,n,r)}function JD(t,e,n){return fi(t).beforeAuthStateChanged(e,n)}const hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hu,"1"),this.storage.removeItem(hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=1e3,eO=10;class uS extends cS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,a)=>{this.notifyListeners(s,a)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);kD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uS.type="LOCAL";const tO=uS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends cS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dS.type="SESSION";const hS=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async u=>u(n.origin,o)),a=await nO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,a)=>{const u=fg("",20);i.port1.start();const d=setTimeout(()=>{a(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(m.data.response);break;default:clearTimeout(d),clearTimeout(o),a(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return window}function iO(t){Ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}async function oO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aO(){return fS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firebaseLocalStorageDb",lO=1,fu="firebaseLocalStorage",mS="fbase_key";class al{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(t,e){return t.transaction([fu],e?"readwrite":"readonly").objectStore(fu)}function cO(){const t=indexedDB.deleteDatabase(pS);return new al(t).toPromise()}function pp(){const t=indexedDB.open(pS,lO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fu,{keyPath:mS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fu)?e(r):(r.close(),await cO(),e(await pp()))})})}async function o_(t,e,n){const r=od(t,!0).put({[mS]:e,value:n});return new al(r).toPromise()}async function uO(t,e){const n=od(t,!1).get(e),r=await new al(n).toPromise();return r===void 0?null:r.value}function s_(t,e){const n=od(t,!0).delete(e);return new al(n).toPromise()}const dO=800,hO=3;class gS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(aO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await o_(e,hu,"1"),await s_(e,hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>o_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=od(i,!1).getAll();return new al(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gS.type="LOCAL";const fO=gS;new ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e){return e?ir(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends sS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mO(t){return YD(t.auth,new pg(t),t.bypassAuthState)}function gO(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),QD(n,new pg(t),t.bypassAuthState)}async function vO(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),GD(n,new pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mO;case"linkViaPopup":case"linkViaRedirect":return vO;case"reauthViaPopup":case"reauthViaRedirect":return gO;default:pr(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new ol(2e3,1e4);class Po extends vS{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yO.get())};e()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="pendingRedirect",xc=new Map;class wO extends vS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const r=await EO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EO(t,e){const n=SO(e),r=xO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function TO(t,e){xc.set(t._key(),e)}function xO(t){return ir(t._redirectPersistence)}function SO(t){return Tc(_O,t.config.apiKey,t.name)}async function CO(t,e,n=!1){if(Ur(t.app))return Promise.reject(Oi(t));const r=dg(t),i=pO(r,e),s=await new wO(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=10*60*1e3;class RO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IO&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NO=/^https?/;async function kO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PO(t);for(const n of e)try{if(DO(n))return}catch{}pr(t,"unauthorized-domain")}function DO(t){const e=hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!NO.test(n))return!1;if(bO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new ol(3e4,6e4);function l_(){const t=Ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MO(t){return new Promise((e,n)=>{var r,i,o;function s(){l_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l_(),n(Mn(t,"network-request-failed"))},timeout:OO.get()})}if(!((i=(r=Ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ln().gapi)===null||o===void 0)&&o.load)s();else{const l=zD("iframefcb");return Ln()[l]=()=>{gapi.load?s():n(Mn(t,"network-request-failed"))},FD(`${UD()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function LO(t){return Sc=Sc||MO(t),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new ol(5e3,15e3),VO="__/auth/iframe",FO="emulator/auth/iframe",UO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BO(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ag(e,FO):`https://${t.config.authDomain}/${VO}`,r={apiKey:e.apiKey,appName:t.name,v:eo},i=zO.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Za(r).slice(1)}`}async function $O(t){const e=await LO(t),n=Ln().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:BO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UO,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Mn(t,"network-request-failed"),l=Ln().setTimeout(()=>{o(s)},jO.get());function a(){Ln().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WO=500,qO=600,KO="_blank",GO="http://localhost";class c_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QO(t,e,n,r=WO,i=qO){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},HO),{width:r.toString(),height:i.toString(),top:o,left:s}),u=At().toLowerCase();n&&(l=Jx(u)?KO:n),Yx(u)&&(e=e||GO,a.scrollbars="yes");const d=Object.entries(a).reduce((m,[E,T])=>`${m}${E}=${T},`,"");if(ND(u)&&l!=="_self")return YO(e||"",l),new c_(null);const h=window.open(e||"",l,d);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new c_(h)}function YO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="__/auth/handler",JO="emulator/auth/handler",ZO=encodeURIComponent("fac");async function u_(t,e,n,r,i,o){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eo,eventId:i};if(e instanceof aS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",sb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof sl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const a=await t._getAppCheckToken(),u=a?`#${ZO}=${encodeURIComponent(a)}`:"";return`${eM(t)}?${Za(l).slice(1)}${u}`}function eM({config:t}){return t.emulator?ag(t,JO):`https://${t.authDomain}/${XO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="webStorageSupport";class tM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hS,this._completeRedirectFn=CO,this._overrideRedirectResult=TO}async _openPopup(e,n,r,i){var o;mr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await u_(e,n,r,hp(),i);return QO(e,s,fg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await u_(e,n,r,hp(),i);return iO(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(mr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $O(e),r=new RO(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kh,{type:kh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[kh];s!==void 0&&n(!!s),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rS()||Xx()||ug()}}const nM=tM;var d_="@firebase/auth",h_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oM(t){zi(new ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iS(t)},u=new jD(r,i,o,a);return $D(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new ri("auth-internal",e=>{const n=dg(e.getProvider("auth").getImmediate());return(r=>new rM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(d_,h_,iM(t)),Dn(d_,h_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=5*60,aM=MT("authIdTokenMaxAge")||sM;let f_=null;const lM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aM)return;const i=n==null?void 0:n.token;f_!==i&&(f_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cM(t=jm()){const e=Ku(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BD(t,{popupRedirectResolver:nM,persistence:[fO,tO,hS]}),r=MT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=lM(o.toString());JD(n,s,()=>s(n.currentUser)),XD(n,l=>s(l))}}const i=kT("auth");return i&&HD(n,`http://${i}`),n}function uM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Mn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",uM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oM("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firebasestorage.googleapis.com",dM="storageBucket",hM=2*60*1e3,fM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends Bn{constructor(e,n,r=0){super(Dh(e),`Firebase Storage: ${n} (${Dh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Un;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Un||(Un={}));function Dh(t){return"storage/"+t}function pM(){const t="An unknown error occurred, please check the error payload for server response.";return new $n(Un.UNKNOWN,t)}function mM(){return new $n(Un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gM(){return new $n(Un.CANCELED,"User canceled the upload/download.")}function vM(t){return new $n(Un.INVALID_URL,"Invalid URL '"+t+"'.")}function yM(t){return new $n(Un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function p_(t){return new $n(Un.INVALID_ARGUMENT,t)}function wS(){return new $n(Un.APP_DELETED,"The Firebase app was deleted.")}function _M(t){return new $n(Un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw yM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),a={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",E=new RegExp(`^https?://${h}/${d}/b/${i}/o${m}`,"i"),T={bucket:1,path:3},_=n===_S?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",S=new RegExp(`^https?://${_}/${i}/${g}`,"i"),v=[{regex:l,indices:a,postModify:o},{regex:E,indices:T,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<v.length;A++){const O=v[A],M=O.regex.exec(e);if(M){const I=M[O.indices.bucket];let C=M[O.indices.path];C||(C=""),r=new vn(I,C),O.postModify(r);break}}if(r==null)throw vM(e);return r}}class wM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e,n){let r=1,i=null,o=null,s=!1,l=0;function a(){return l===2}let u=!1;function d(...g){u||(u=!0,e.apply(null,g))}function h(g){i=setTimeout(()=>{i=null,t(E,a())},g)}function m(){o&&clearTimeout(o)}function E(g,...S){if(u){m();return}if(g){m(),d.call(null,g,...S);return}if(a()||s){m(),d.call(null,g,...S);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,h(v)}let T=!1;function _(g){T||(T=!0,m(),!u&&(i!==null?(g||(l=2),clearTimeout(i),h(0)):g||(l=1)))}return h(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function TM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){return t!==void 0}function m_(t,e,n,r){if(r<e)throw p_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw p_(`Invalid value for '${t}'. Expected ${n} or less.`)}function SM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var pu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pu||(pu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,i,o,s,l,a,u,d,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Xl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===pu.NO_ERROR,a=o.getStatus();if(!l||CM(a,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===pu.ABORT;r(!1,new Xl(!1,null,d));return}const u=this.successCodes_.indexOf(a)!==-1;r(!0,new Xl(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());xM(a)?o(a):o()}catch(a){s(a)}else if(l!==null){const a=pM();a.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,a)):s(a)}else if(i.canceled){const a=this.appDelete_?wS():gM();s(a)}else{const a=mM();s(a)}};this.canceled_?n(!1,new Xl(!1,null,!0)):this.backoffId_=EM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NM(t,e,n,r,i,o,s=!0){const l=SM(t.urlParams),a=t.url+l,u=Object.assign({},t.headers);return PM(u,e),RM(u,n),AM(u,o),bM(u,r),new IM(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function DM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mu(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DM(this._location.path)}get storage(){return this._service}get parent(){const e=kM(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new mu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _M(e)}}function g_(t,e){const n=e==null?void 0:e[dM];return n==null?null:vn.makeFromBucketSpec(n,t)}function OM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:LT(i,t.app.options.projectId))}class MM{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=_S,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hM,this._maxUploadRetryTime=fM,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=g_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=g_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new wM(wS());{const s=NM(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const v_="@firebase/storage",y_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="storage";function LM(t=jm(),e){t=fi(t);const r=Ku(t,ES).getImmediate({identifier:e}),i=DT("storage");return i&&jM(r,...i),r}function jM(t,e,n,r={}){OM(t,e,n,r)}function VM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new MM(n,r,i,e,eo)}function FM(){zi(new ri(ES,VM,"PUBLIC").setMultipleInstances(!0)),Dn(v_,y_,""),Dn(v_,y_,"esm2017")}FM();const UM={apiKey:"AIzaSyBmTr8VnLI-zbE0we-jsSI-zyMLHWuvz18",authDomain:"groove-7af04.firebaseapp.com",projectId:"groove-7af04",storageBucket:"groove-7af04.firebasestorage.app",messagingSenderId:"380260243285",appId:"1:380260243285:web:d70df95f09b8c27a2081dc",measurementId:"G-MXQ3R46JZK"},mg=FT(UM);cM(mg);const zM=Y2(mg);LM(mg);var TS={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},gg={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},BM=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],gu={CSS:{},springs:{}};function Pn(t,e,n){return Math.min(Math.max(t,e),n)}function ma(t,e){return t.indexOf(e)>-1}function Oh(t,e){return t.apply(null,e)}var J={arr:function(t){return Array.isArray(t)},obj:function(t){return ma(Object.prototype.toString.call(t),"Object")},pth:function(t){return J.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||J.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return J.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return J.hex(t)||J.rgb(t)||J.hsl(t)},key:function(t){return!TS.hasOwnProperty(t)&&!gg.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function xS(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function SS(t,e){var n=xS(t),r=Pn(J.und(n[0])?1:n[0],.1,100),i=Pn(J.und(n[1])?100:n[1],.1,100),o=Pn(J.und(n[2])?10:n[2],.1,100),s=Pn(J.und(n[3])?0:n[3],.1,100),l=Math.sqrt(i/r),a=o/(2*Math.sqrt(i*r)),u=a<1?l*Math.sqrt(1-a*a):0,d=1,h=a<1?(a*l+-s)/u:-s+l;function m(T){var _=e?e*T/1e3:T;return a<1?_=Math.exp(-_*a*l)*(d*Math.cos(u*_)+h*Math.sin(u*_)):_=(d+h*_)*Math.exp(-_*l),T===0||T===1?T:1-_}function E(){var T=gu.springs[t];if(T)return T;for(var _=1/6,g=0,S=0;;)if(g+=_,m(g)===1){if(S++,S>=16)break}else S=0;var y=g*_*1e3;return gu.springs[t]=y,y}return e?m:E}function $M(t){return t===void 0&&(t=10),function(e){return Math.ceil(Pn(e,1e-6,1)*t)*(1/t)}}var HM=function(){var t=11,e=1/(t-1);function n(d,h){return 1-3*h+3*d}function r(d,h){return 3*h-6*d}function i(d){return 3*d}function o(d,h,m){return((n(h,m)*d+r(h,m))*d+i(h))*d}function s(d,h,m){return 3*n(h,m)*d*d+2*r(h,m)*d+i(h)}function l(d,h,m,E,T){var _,g,S=0;do g=h+(m-h)/2,_=o(g,E,T)-d,_>0?m=g:h=g;while(Math.abs(_)>1e-7&&++S<10);return g}function a(d,h,m,E){for(var T=0;T<4;++T){var _=s(h,m,E);if(_===0)return h;var g=o(h,m,E)-d;h-=g/_}return h}function u(d,h,m,E){if(!(0<=d&&d<=1&&0<=m&&m<=1))return;var T=new Float32Array(t);if(d!==h||m!==E)for(var _=0;_<t;++_)T[_]=o(_*e,d,m);function g(S){for(var y=0,v=1,A=t-1;v!==A&&T[v]<=S;++v)y+=e;--v;var O=(S-T[v])/(T[v+1]-T[v]),M=y+O*e,I=s(M,d,m);return I>=.001?a(S,M,d,m):I===0?M:l(S,y,y+e,d,m)}return function(S){return d===h&&m===E||S===0||S===1?S:o(g(S),h,E)}}return u}(),CS=function(){var t={linear:function(){return function(r){return r}}},e={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Expo:function(){return function(r){return r?Math.pow(2,10*r-10):0}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,o=4;r<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var o=Pn(r,1,10),s=Pn(i,.1,2);return function(l){return l===0||l===1?l:-o*Math.pow(2,10*(l-1))*Math.sin((l-1-s/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/s)}}},n=["Quad","Cubic","Quart","Quint"];return n.forEach(function(r,i){e[r]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(e).forEach(function(r){var i=e[r];t["easeIn"+r]=i,t["easeOut"+r]=function(o,s){return function(l){return 1-i(o,s)(1-l)}},t["easeInOut"+r]=function(o,s){return function(l){return l<.5?i(o,s)(l*2)/2:1-i(o,s)(l*-2+2)/2}},t["easeOutIn"+r]=function(o,s){return function(l){return l<.5?(1-i(o,s)(1-l*2))/2:(i(o,s)(l*2-1)+1)/2}}}),t}();function vg(t,e){if(J.fnc(t))return t;var n=t.split("(")[0],r=CS[n],i=xS(t);switch(n){case"spring":return SS(t,e);case"cubicBezier":return Oh(HM,i);case"steps":return Oh($M,i);default:return Oh(r,i)}}function IS(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function sd(t,e){for(var n=t.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in t){var s=t[o];e.call(r,s,o,t)&&i.push(s)}return i}function ad(t){return t.reduce(function(e,n){return e.concat(J.arr(n)?ad(n):n)},[])}function __(t){return J.arr(t)?t:(J.str(t)&&(t=IS(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function yg(t,e){return t.some(function(n){return n===e})}function _g(t){var e={};for(var n in t)e[n]=t[n];return e}function mp(t,e){var n=_g(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function ld(t,e){var n=_g(t);for(var r in e)n[r]=J.und(t[r])?e[r]:t[r];return n}function WM(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function qM(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,function(l,a,u,d){return a+a+u+u+d+d}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),o=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba("+i+","+o+","+s+",1)"}function KM(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),n=parseInt(e[1],10)/360,r=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100,o=e[4]||1;function s(m,E,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?m+(E-m)*6*T:T<1/2?E:T<2/3?m+(E-m)*(2/3-T)*6:m}var l,a,u;if(r==0)l=a=u=i;else{var d=i<.5?i*(1+r):i+r-i*r,h=2*i-d;l=s(h,d,n+1/3),a=s(h,d,n),u=s(h,d,n-1/3)}return"rgba("+l*255+","+a*255+","+u*255+","+o+")"}function GM(t){if(J.rgb(t))return WM(t);if(J.hex(t))return qM(t);if(J.hsl(t))return KM(t)}function ar(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function QM(t){if(ma(t,"translate")||t==="perspective")return"px";if(ma(t,"rotate")||ma(t,"skew"))return"deg"}function gp(t,e){return J.fnc(t)?t(e.target,e.id,e.total):t}function bn(t,e){return t.getAttribute(e)}function wg(t,e,n){var r=ar(e);if(yg([n,"deg","rad","turn"],r))return e;var i=gu.CSS[e+n];if(!J.und(i))return i;var o=100,s=document.createElement(t.tagName),l=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;l.appendChild(s),s.style.position="absolute",s.style.width=o+n;var a=o/s.offsetWidth;l.removeChild(s);var u=a*parseFloat(e);return gu.CSS[e+n]=u,u}function RS(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?wg(t,i,n):i}}function Eg(t,e){if(J.dom(t)&&!J.inp(t)&&(!J.nil(bn(t,e))||J.svg(t)&&t[e]))return"attribute";if(J.dom(t)&&yg(BM,e))return"transform";if(J.dom(t)&&e!=="transform"&&RS(t,e))return"css";if(t[e]!=null)return"object"}function AS(t){if(J.dom(t)){for(var e=t.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(e);)r.set(i[1],i[2]);return r}}function YM(t,e,n,r){var i=ma(e,"scale")?1:0+QM(e),o=AS(t).get(e)||i;return n&&(n.transforms.list.set(e,o),n.transforms.last=e),r?wg(t,o,r):o}function Tg(t,e,n,r){switch(Eg(t,e)){case"transform":return YM(t,e,r,n);case"css":return RS(t,e,n);case"attribute":return bn(t,e);default:return t[e]||0}}function xg(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=ar(t)||0,i=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function PS(t,e){if(J.col(t))return GM(t);if(/\s/g.test(t))return t;var n=ar(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function Sg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function XM(t){return Math.PI*2*bn(t,"r")}function JM(t){return bn(t,"width")*2+bn(t,"height")*2}function ZM(t){return Sg({x:bn(t,"x1"),y:bn(t,"y1")},{x:bn(t,"x2"),y:bn(t,"y2")})}function bS(t){for(var e=t.points,n=0,r,i=0;i<e.numberOfItems;i++){var o=e.getItem(i);i>0&&(n+=Sg(r,o)),r=o}return n}function eL(t){var e=t.points;return bS(t)+Sg(e.getItem(e.numberOfItems-1),e.getItem(0))}function NS(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return XM(t);case"rect":return JM(t);case"line":return ZM(t);case"polyline":return bS(t);case"polygon":return eL(t)}}function tL(t){var e=NS(t);return t.setAttribute("stroke-dasharray",e),e}function nL(t){for(var e=t.parentNode;J.svg(e)&&J.svg(e.parentNode);)e=e.parentNode;return e}function kS(t,e){var n=e||{},r=n.el||nL(t),i=r.getBoundingClientRect(),o=bn(r,"viewBox"),s=i.width,l=i.height,a=n.viewBox||(o?o.split(" "):[0,0,s,l]);return{el:r,viewBox:a,x:a[0]/1,y:a[1]/1,w:s,h:l,vW:a[2],vH:a[3]}}function rL(t,e){var n=J.str(t)?IS(t)[0]:t,r=e||100;return function(i){return{property:i,el:n,svg:kS(n),totalLength:NS(n)*(r/100)}}}function iL(t,e,n){function r(d){d===void 0&&(d=0);var h=e+d>=1?e+d:0;return t.el.getPointAtLength(h)}var i=kS(t.el,t.svg),o=r(),s=r(-1),l=r(1),a=n?1:i.w/i.vW,u=n?1:i.h/i.vH;switch(t.property){case"x":return(o.x-i.x)*a;case"y":return(o.y-i.y)*u;case"angle":return Math.atan2(l.y-s.y,l.x-s.x)*180/Math.PI}}function w_(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=PS(J.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:J.str(t)||e?r.split(n):[]}}function Cg(t){var e=t?ad(J.arr(t)?t.map(__):__(t)):[];return sd(e,function(n,r,i){return i.indexOf(n)===r})}function DS(t){var e=Cg(t);return e.map(function(n,r){return{target:n,id:r,total:e.length,transforms:{list:AS(n)}}})}function oL(t,e){var n=_g(e);if(/^spring/.test(n.easing)&&(n.duration=SS(n.easing)),J.arr(t)){var r=t.length,i=r===2&&!J.obj(t[0]);i?t={value:t}:J.fnc(e.duration)||(n.duration=e.duration/r)}var o=J.arr(t)?t:[t];return o.map(function(s,l){var a=J.obj(s)&&!J.pth(s)?s:{value:s};return J.und(a.delay)&&(a.delay=l?0:e.delay),J.und(a.endDelay)&&(a.endDelay=l===o.length-1?e.endDelay:0),a}).map(function(s){return ld(s,n)})}function sL(t){for(var e=sd(ad(t.map(function(o){return Object.keys(o)})),function(o){return J.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},r=function(o){var s=e[o];n[s]=t.map(function(l){var a={};for(var u in l)J.key(u)?u==s&&(a.value=l[u]):a[u]=l[u];return a})},i=0;i<e.length;i++)r(i);return n}function aL(t,e){var n=[],r=e.keyframes;r&&(e=ld(sL(r),e));for(var i in e)J.key(i)&&n.push({name:i,tweens:oL(e[i],t)});return n}function lL(t,e){var n={};for(var r in t){var i=gp(t[r],e);J.arr(i)&&(i=i.map(function(o){return gp(o,e)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function cL(t,e){var n;return t.tweens.map(function(r){var i=lL(r,e),o=i.value,s=J.arr(o)?o[1]:o,l=ar(s),a=Tg(e.target,t.name,l,e),u=n?n.to.original:a,d=J.arr(o)?o[0]:u,h=ar(d)||ar(a),m=l||h;return J.und(s)&&(s=u),i.from=w_(d,m),i.to=w_(xg(s,d),m),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=vg(i.easing,i.duration),i.isPath=J.pth(o),i.isPathTargetInsideSVG=i.isPath&&J.svg(e.target),i.isColor=J.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var OS={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){if(r.list.set(e,n),e===r.last||i){var o="";r.list.forEach(function(s,l){o+=l+"("+s+") "}),t.style.transform=o}}};function MS(t,e){var n=DS(t);n.forEach(function(r){for(var i in e){var o=gp(e[i],r),s=r.target,l=ar(o),a=Tg(s,i,l,r),u=l||ar(a),d=xg(PS(o,u),a),h=Eg(s,i);OS[h](s,i,d,r.transforms,!0)}})}function uL(t,e){var n=Eg(t.target,e.name);if(n){var r=cL(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function dL(t,e){return sd(ad(t.map(function(n){return e.map(function(r){return uL(n,r)})})),function(n){return!J.und(n)})}function LS(t,e){var n=t.length,r=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,t.map(function(o){return r(o)+o.duration})):e.duration,i.delay=n?Math.min.apply(Math,t.map(function(o){return r(o)+o.delay})):e.delay,i.endDelay=n?i.duration-Math.max.apply(Math,t.map(function(o){return r(o)+o.duration-o.endDelay})):e.endDelay,i}var E_=0;function hL(t){var e=mp(TS,t),n=mp(gg,t),r=aL(n,t),i=DS(t.targets),o=dL(i,r),s=LS(o,n),l=E_;return E_++,ld(e,{id:l,children:[],animatables:i,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var gn=[],jS=function(){var t;function e(){!t&&(!T_()||!$e.suspendWhenDocumentHidden)&&gn.length>0&&(t=requestAnimationFrame(n))}function n(i){for(var o=gn.length,s=0;s<o;){var l=gn[s];l.paused?(gn.splice(s,1),o--):(l.tick(i),s++)}t=s>0?requestAnimationFrame(n):void 0}function r(){$e.suspendWhenDocumentHidden&&(T_()?t=cancelAnimationFrame(t):(gn.forEach(function(i){return i._onDocumentVisibility()}),jS()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),e}();function T_(){return!!document&&document.hidden}function $e(t){t===void 0&&(t={});var e=0,n=0,r=0,i,o=0,s=null;function l(y){var v=window.Promise&&new Promise(function(A){return s=A});return y.finished=v,v}var a=hL(t);l(a);function u(){var y=a.direction;y!=="alternate"&&(a.direction=y!=="normal"?"normal":"reverse"),a.reversed=!a.reversed,i.forEach(function(v){return v.reversed=a.reversed})}function d(y){return a.reversed?a.duration-y:y}function h(){e=0,n=d(a.currentTime)*(1/$e.speed)}function m(y,v){v&&v.seek(y-v.timelineOffset)}function E(y){if(a.reversePlayback)for(var A=o;A--;)m(y,i[A]);else for(var v=0;v<o;v++)m(y,i[v])}function T(y){for(var v=0,A=a.animations,O=A.length;v<O;){var M=A[v],I=M.animatable,C=M.tweens,P=C.length-1,b=C[P];P&&(b=sd(C,function(Je){return y<Je.end})[0]||b);for(var k=Pn(y-b.start-b.delay,0,b.duration)/b.duration,D=isNaN(k)?1:b.easing(k),N=b.to.strings,U=b.round,Q=[],Y=b.to.numbers.length,K=void 0,V=0;V<Y;V++){var B=void 0,W=b.to.numbers[V],ee=b.from.numbers[V]||0;b.isPath?B=iL(b.value,D*W,b.isPathTargetInsideSVG):B=ee+D*(W-ee),U&&(b.isColor&&V>2||(B=Math.round(B*U)/U)),Q.push(B)}var ie=N.length;if(!ie)K=Q[0];else{K=N[0];for(var le=0;le<ie;le++){N[le];var Ae=N[le+1],Ke=Q[le];isNaN(Ke)||(Ae?K+=Ke+Ae:K+=Ke+" ")}}OS[M.type](I.target,M.property,K,I.transforms),M.currentValue=K,v++}}function _(y){a[y]&&!a.passThrough&&a[y](a)}function g(){a.remaining&&a.remaining!==!0&&a.remaining--}function S(y){var v=a.duration,A=a.delay,O=v-a.endDelay,M=d(y);a.progress=Pn(M/v*100,0,100),a.reversePlayback=M<a.currentTime,i&&E(M),!a.began&&a.currentTime>0&&(a.began=!0,_("begin")),!a.loopBegan&&a.currentTime>0&&(a.loopBegan=!0,_("loopBegin")),M<=A&&a.currentTime!==0&&T(0),(M>=O&&a.currentTime!==v||!v)&&T(v),M>A&&M<O?(a.changeBegan||(a.changeBegan=!0,a.changeCompleted=!1,_("changeBegin")),_("change"),T(M)):a.changeBegan&&(a.changeCompleted=!0,a.changeBegan=!1,_("changeComplete")),a.currentTime=Pn(M,0,v),a.began&&_("update"),y>=v&&(n=0,g(),a.remaining?(e=r,_("loopComplete"),a.loopBegan=!1,a.direction==="alternate"&&u()):(a.paused=!0,a.completed||(a.completed=!0,_("loopComplete"),_("complete"),!a.passThrough&&"Promise"in window&&(s(),l(a)))))}return a.reset=function(){var y=a.direction;a.passThrough=!1,a.currentTime=0,a.progress=0,a.paused=!0,a.began=!1,a.loopBegan=!1,a.changeBegan=!1,a.completed=!1,a.changeCompleted=!1,a.reversePlayback=!1,a.reversed=y==="reverse",a.remaining=a.loop,i=a.children,o=i.length;for(var v=o;v--;)a.children[v].reset();(a.reversed&&a.loop!==!0||y==="alternate"&&a.loop===1)&&a.remaining++,T(a.reversed?a.duration:0)},a._onDocumentVisibility=h,a.set=function(y,v){return MS(y,v),a},a.tick=function(y){r=y,e||(e=r),S((r+(n-e))*$e.speed)},a.seek=function(y){S(d(y))},a.pause=function(){a.paused=!0,h()},a.play=function(){a.paused&&(a.completed&&a.reset(),a.paused=!1,gn.push(a),h(),jS())},a.reverse=function(){u(),a.completed=!a.reversed,h()},a.restart=function(){a.reset(),a.play()},a.remove=function(y){var v=Cg(y);VS(v,a)},a.reset(),a.autoplay&&a.play(),a}function x_(t,e){for(var n=e.length;n--;)yg(t,e[n].animatable.target)&&e.splice(n,1)}function VS(t,e){var n=e.animations,r=e.children;x_(t,n);for(var i=r.length;i--;){var o=r[i],s=o.animations;x_(t,s),!s.length&&!o.children.length&&r.splice(i,1)}!n.length&&!r.length&&e.pause()}function fL(t){for(var e=Cg(t),n=gn.length;n--;){var r=gn[n];VS(e,r)}}function pL(t,e){e===void 0&&(e={});var n=e.direction||"normal",r=e.easing?vg(e.easing):null,i=e.grid,o=e.axis,s=e.from||0,l=s==="first",a=s==="center",u=s==="last",d=J.arr(t),h=parseFloat(d?t[0]:t),m=d?parseFloat(t[1]):0,E=ar(d?t[1]:t)||0,T=e.start||0+(d?h:0),_=[],g=0;return function(S,y,v){if(l&&(s=0),a&&(s=(v-1)/2),u&&(s=v-1),!_.length){for(var A=0;A<v;A++){if(!i)_.push(Math.abs(s-A));else{var O=a?(i[0]-1)/2:s%i[0],M=a?(i[1]-1)/2:Math.floor(s/i[0]),I=A%i[0],C=Math.floor(A/i[0]),P=O-I,b=M-C,k=Math.sqrt(P*P+b*b);o==="x"&&(k=-P),o==="y"&&(k=-b),_.push(k)}g=Math.max.apply(Math,_)}r&&(_=_.map(function(N){return r(N/g)*g})),n==="reverse"&&(_=_.map(function(N){return o?N<0?N*-1:-N:Math.abs(g-N)}))}var D=d?(m-h)/g:h;return T+D*(Math.round(_[y]*100)/100)+E}}function mL(t){t===void 0&&(t={});var e=$e(t);return e.duration=0,e.add=function(n,r){var i=gn.indexOf(e),o=e.children;i>-1&&gn.splice(i,1);function s(m){m.passThrough=!0}for(var l=0;l<o.length;l++)s(o[l]);var a=ld(n,mp(gg,t));a.targets=a.targets||t.targets;var u=e.duration;a.autoplay=!1,a.direction=e.direction,a.timelineOffset=J.und(r)?u:xg(r,u),s(e),e.seek(a.timelineOffset);var d=$e(a);s(d),o.push(d);var h=LS(o,t);return e.delay=h.delay,e.endDelay=h.endDelay,e.duration=h.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}$e.version="3.2.1";$e.speed=1;$e.suspendWhenDocumentHidden=!0;$e.running=gn;$e.remove=fL;$e.get=Tg;$e.set=MS;$e.convertPx=wg;$e.path=rL;$e.setDashoffset=tL;$e.stagger=pL;$e.timeline=mL;$e.easing=vg;$e.penner=CS;$e.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const Mi=({children:t,direction:e="lr",bgcolor:n="#7f40f1",delay:r=0,duration:i=500,easing:o="easeInOutQuint",coverArea:s=0,isContentHidden:l=!0,onStart:a,onCover:u,onComplete:d,className:h=""})=>{const m=x.useRef(null),E=x.useRef(null),T=x.useRef(null);return x.useEffect(()=>{(()=>{E.current&&l&&(E.current.style.opacity=0);const g={lr:{value:"scale3d(0,1,1)",origin:{initial:"0 50%",halfway:"100% 50%"},axis:"X"},rl:{value:"scale3d(0,1,1)",origin:{initial:"100% 50%",halfway:"0 50%"},axis:"X"},tb:{value:"scale3d(1,0,1)",origin:{initial:"50% 0",halfway:"50% 100%"},axis:"Y"},bt:{value:"scale3d(1,0,1)",origin:{initial:"50% 100%",halfway:"50% 0"},axis:"Y"}}[e];T.current&&(T.current.style.transform=g.value,T.current.style.transformOrigin=g.origin.initial,T.current.style.backgroundColor=n,T.current.style.opacity=1);const y=e==="lr"||e==="rl"?"scaleX":"scaleY",v=1-s/100;$e.timeline({duration:i,easing:o,delay:r,begin:()=>a==null?void 0:a(E.current,T.current)}).add({targets:T.current,[y]:[0,1],complete:()=>{T.current&&(T.current.style.transformOrigin=g.origin.halfway),E.current&&(E.current.style.opacity=1),u==null||u(E.current,T.current)}}).add({targets:T.current,[y]:[1,v],complete:()=>{T.current&&v===0&&(T.current.style.opacity=0),d==null||d(E.current,T.current)}})})()},[e,n,r,i,o,s,l,a,u,d]),f.jsxs("div",{ref:m,className:`block-revealer ${h}`,children:[f.jsx("div",{ref:E,className:"block-revealer__content",children:t}),f.jsx("div",{ref:T,className:"block-revealer__element"})]})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}var $r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($r||($r={}));const S_="popstate";function gL(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return vp("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vu(i)}return yL(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vL(){return Math.random().toString(36).substr(2,8)}function C_(t,e){return{usr:t.state,key:t.key,idx:e}}function vp(t,e,n,r){return n===void 0&&(n=null),Ua({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||r||vL()})}function vu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=$r.Pop,a=null,u=d();u==null&&(u=0,s.replaceState(Ua({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function h(){l=$r.Pop;let g=d(),S=g==null?null:g-u;u=g,a&&a({action:l,location:_.location,delta:S})}function m(g,S){l=$r.Push;let y=vp(_.location,g,S);n&&n(y,g),u=d()+1;let v=C_(y,u),A=_.createHref(y);try{s.pushState(v,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(A)}o&&a&&a({action:l,location:_.location,delta:1})}function E(g,S){l=$r.Replace;let y=vp(_.location,g,S);n&&n(y,g),u=d();let v=C_(y,u),A=_.createHref(y);s.replaceState(v,"",A),o&&a&&a({action:l,location:_.location,delta:0})}function T(g){let S=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof g=="string"?g:vu(g);return y=y.replace(/ $/,"%20"),Xe(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let _={get action(){return l},get location(){return t(i,s)},listen(g){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(S_,h),a=g,()=>{i.removeEventListener(S_,h),a=null}},createHref(g){return e(i,g)},createURL:T,encodeLocation(g){let S=T(g);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:E,go(g){return s.go(g)}};return _}var I_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(I_||(I_={}));function _L(t,e,n){return n===void 0&&(n="/"),wL(t,e,n,!1)}function wL(t,e,n,r){let i=typeof e=="string"?vs(e):e,o=Ig(i.pathname||"/",n);if(o==null)return null;let s=US(t);EL(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=kL(o);l=bL(s[a],u,r)}return l}function US(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(Xe(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=ei([r,a.relativePath]),d=n.concat(a);o.children&&o.children.length>0&&(Xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),US(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:AL(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of zS(o.path))i(o,s,a)}),e}function zS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=zS(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function EL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TL=/^:[\w-]+$/,xL=3,SL=2,CL=1,IL=10,RL=-2,R_=t=>t==="*";function AL(t,e){let n=t.split("/"),r=n.length;return n.some(R_)&&(r+=RL),e&&(r+=SL),n.filter(i=>!R_(i)).reduce((i,o)=>i+(TL.test(o)?xL:o===""?CL:IL),r)}function PL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bL(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=A_({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),m=a.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=A_({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:ei([o,h.pathname]),pathnameBase:LL(ei([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=ei([o,h.pathnameBase]))}return s}function A_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:E}=d;if(m==="*"){let _=l[h]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const T=l[h];return E&&!T?u[m]=void 0:u[m]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function NL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),FS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ig(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:OL(n,e):e,search:jL(r),hash:VL(i)}}function OL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ML(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BS(t,e){let n=ML(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $S(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vs(t):(i=Ua({},t),Xe(!i.pathname||!i.pathname.includes("?"),Mh("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),Mh("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),Mh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?e[h]:"/"}let a=DL(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const ei=t=>t.join("/").replace(/\/\/+/g,"/"),LL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HS=["post","put","patch","delete"];new Set(HS);const UL=["get",...HS];new Set(UL);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},za.apply(this,arguments)}const Rg=x.createContext(null),zL=x.createContext(null),to=x.createContext(null),cd=x.createContext(null),no=x.createContext({outlet:null,matches:[],isDataRoute:!1}),WS=x.createContext(null);function BL(t,e){let{relative:n}=e===void 0?{}:e;ll()||Xe(!1);let{basename:r,navigator:i}=x.useContext(to),{hash:o,pathname:s,search:l}=KS(t,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:ei([r,s])),i.createHref({pathname:a,search:l,hash:o})}function ll(){return x.useContext(cd)!=null}function cl(){return ll()||Xe(!1),x.useContext(cd).location}function qS(t){x.useContext(to).static||x.useLayoutEffect(t)}function $L(){let{isDataRoute:t}=x.useContext(no);return t?nj():HL()}function HL(){ll()||Xe(!1);let t=x.useContext(Rg),{basename:e,future:n,navigator:r}=x.useContext(to),{matches:i}=x.useContext(no),{pathname:o}=cl(),s=JSON.stringify(BS(i,n.v7_relativeSplatPath)),l=x.useRef(!1);return qS(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=$S(u,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ei([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,s,o,t])}function KS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(to),{matches:i}=x.useContext(no),{pathname:o}=cl(),s=JSON.stringify(BS(i,r.v7_relativeSplatPath));return x.useMemo(()=>$S(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function WL(t,e){return qL(t,e)}function qL(t,e,n,r){ll()||Xe(!1);let{navigator:i}=x.useContext(to),{matches:o}=x.useContext(no),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=cl(),d;if(e){var h;let g=typeof e=="string"?vs(e):e;a==="/"||(h=g.pathname)!=null&&h.startsWith(a)||Xe(!1),d=g}else d=u;let m=d.pathname||"/",E=m;if(a!=="/"){let g=a.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let T=_L(t,{pathname:E}),_=XL(T&&T.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:ei([a,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:ei([a,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return e&&_?x.createElement(cd.Provider,{value:{location:za({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$r.Pop}},_):_}function KL(){let t=tj(),e=FL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,o)}const GL=x.createElement(KL,null);class QL extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(no.Provider,{value:this.props.routeContext},x.createElement(WS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YL(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(Rg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(no.Provider,{value:e},r)}function XL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Xe(!1),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:E}=n,T=h.route.loader&&m[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||T){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let E,T=!1,_=null,g=null;n&&(E=l&&h.route.id?l[h.route.id]:void 0,_=h.route.errorElement||GL,a&&(u<0&&m===0?(rj("route-fallback",!1),T=!0,g=null):u===m&&(T=!0,g=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,m+1)),y=()=>{let v;return E?v=_:T?v=g:h.route.Component?v=x.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,x.createElement(YL,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(QL,{location:n.location,revalidation:n.revalidation,component:_,error:E,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var GS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GS||{}),yu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yu||{});function JL(t){let e=x.useContext(Rg);return e||Xe(!1),e}function ZL(t){let e=x.useContext(zL);return e||Xe(!1),e}function ej(t){let e=x.useContext(no);return e||Xe(!1),e}function QS(t){let e=ej(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function tj(){var t;let e=x.useContext(WS),n=ZL(yu.UseRouteError),r=QS(yu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nj(){let{router:t}=JL(GS.UseNavigateStable),e=QS(yu.UseNavigateStable),n=x.useRef(!1);return qS(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,za({fromRouteId:e},o)))},[t,e])}const P_={};function rj(t,e,n){!e&&!P_[t]&&(P_[t]=!0)}const b_={};function ij(t,e){b_[e]||(b_[e]=!0,console.warn(e))}const lo=(t,e,n)=>ij(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function oj(t,e){t!=null&&t.v7_startTransition||lo("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&lo("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||lo("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||lo("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||lo("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||lo("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function go(t){Xe(!1)}function sj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$r.Pop,navigator:o,static:s=!1,future:l}=t;ll()&&Xe(!1);let a=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:a,navigator:o,static:s,future:za({v7_relativeSplatPath:!1},l)}),[a,l,o,s]);typeof r=="string"&&(r=vs(r));let{pathname:d="/",search:h="",hash:m="",state:E=null,key:T="default"}=r,_=x.useMemo(()=>{let g=Ig(d,a);return g==null?null:{location:{pathname:g,search:h,hash:m,state:E,key:T},navigationType:i}},[a,d,h,m,E,T,i]);return _==null?null:x.createElement(to.Provider,{value:u},x.createElement(cd.Provider,{children:n,value:_}))}function aj(t){let{children:e,location:n}=t;return WL(yp(e),n)}new Promise(()=>{});function yp(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){n.push.apply(n,yp(r.props.children,o));return}r.type!==go&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=yp(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function lj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uj(t,e){return t.button===0&&(!e||e==="_self")&&!cj(t)}const dj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hj="6";try{window.__reactRouterVersion=hj}catch{}const fj="startTransition",N_=Iw[fj];function pj(t){let{basename:e,children:n,future:r,window:i}=t,o=x.useRef();o.current==null&&(o.current=gL({window:i,v5Compat:!0}));let s=o.current,[l,a]=x.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=x.useCallback(h=>{u&&N_?N_(()=>a(h)):a(h)},[a,u]);return x.useLayoutEffect(()=>s.listen(d),[s,d]),x.useEffect(()=>oj(r),[r]),x.createElement(sj,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const mj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zn=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:u,preventScrollReset:d,viewTransition:h}=e,m=lj(e,dj),{basename:E}=x.useContext(to),T,_=!1;if(typeof u=="string"&&gj.test(u)&&(T=u,mj))try{let v=new URL(window.location.href),A=u.startsWith("//")?new URL(v.protocol+u):new URL(u),O=Ig(A.pathname,E);A.origin===v.origin&&O!=null?u=O+A.search+A.hash:_=!0}catch{}let g=BL(u,{relative:i}),S=vj(u,{replace:s,state:l,target:a,preventScrollReset:d,relative:i,viewTransition:h});function y(v){r&&r(v),v.defaultPrevented||S(v)}return x.createElement("a",_p({},m,{href:T||g,onClick:_||o?r:y,ref:n,target:a}))});var k_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k_||(k_={}));var D_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D_||(D_={}));function vj(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,a=$L(),u=cl(),d=KS(t,{relative:s});return x.useCallback(h=>{if(uj(h,n)){h.preventDefault();let m=r!==void 0?r:vu(u)===vu(d);a(t,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[u,a,d,r,i,n,t,o,s,l])}const yj=()=>{const[t,e]=x.useState(!1),n=cl(),r=()=>{e(!t)};return f.jsx("nav",{className:"navbar",children:f.jsxs("div",{className:"navbar-container",children:[f.jsx(Zn,{to:"/",className:"navbar-logo",children:f.jsx("img",{src:"/logo.jpg",alt:"Matatu Culture Logo"})}),f.jsx("button",{className:`hamburger-icon ${t?"open":""}`,onClick:r,children:f.jsxs("svg",{viewBox:"0 0 100 80",width:"30",height:"30",children:[f.jsx("rect",{width:"100",height:"10"}),f.jsx("rect",{y:"30",width:"100",height:"10"}),f.jsx("rect",{y:"60",width:"100",height:"10"})]})}),f.jsxs("div",{className:`navbar-links ${t?"open":""}`,children:[f.jsx(Zn,{to:"/",className:`nav-link ${n.pathname==="/"?"active":""}`,children:"Home"}),f.jsx(Zn,{to:"/shop",className:`nav-link ${n.pathname==="/shop"?"active":""}`,children:"Shop"}),f.jsx(Zn,{to:"/groove-trips",className:`nav-link ${n.pathname==="/groove-trips"?"active":""}`,children:"Groove Trips"}),f.jsx(Zn,{to:"/gallery",className:`nav-link ${n.pathname==="/gallery"?"active":""}`,children:"Gallery"}),f.jsx(Zn,{to:"/hire",className:"nav-button",children:"Hire a Matatu"})]})]})})};function O_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function YS(...t){return e=>{let n=!1;const r=t.map(i=>{const o=O_(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():O_(t[i],null)}}}}function Se(...t){return x.useCallback(YS(...t),t)}var qi=x.forwardRef((t,e)=>{const{children:n,...r}=t,i=x.Children.toArray(n),o=i.find(wj);if(o){const s=o.props.children,l=i.map(a=>a===o?x.Children.count(s)>1?x.Children.only(null):x.isValidElement(s)?s.props.children:null:a);return f.jsx(wp,{...r,ref:e,children:x.isValidElement(s)?x.cloneElement(s,void 0,l):null})}return f.jsx(wp,{...r,ref:e,children:n})});qi.displayName="Slot";var wp=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const i=Tj(n);return x.cloneElement(n,{...Ej(r,n.props),ref:e?YS(e,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});wp.displayName="SlotClone";var _j=({children:t})=>f.jsx(f.Fragment,{children:t});function wj(t){return x.isValidElement(t)&&t.type===_j}function Ej(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{o(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Tj(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function XS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JS(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XS(t))&&(r&&(r+=" "),r+=e);return r}const M_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,L_=JS,Ag=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return L_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const m=M_(d)||M_(h);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),a=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...E}=d;return Object.entries(E).every(T=>{let[_,g]=T;return Array.isArray(g)?g.includes({...o,...l}[_]):{...o,...l}[_]===g})?[...u,h,m]:u},[]);return L_(t,s,a,n==null?void 0:n.class,n==null?void 0:n.className)},Pg="-",xj=t=>{const e=Cj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const l=s.split(Pg);return l[0]===""&&l.length!==1&&l.shift(),ZS(l,e)||Sj(s)},getConflictingClassGroupIds:(s,l)=>{const a=n[s]||[];return l&&r[s]?[...a,...r[s]]:a}}},ZS=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?ZS(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Pg);return(s=e.validators.find(({validator:l})=>l(o)))==null?void 0:s.classGroupId},j_=/^\[(.+)\]$/,Sj=t=>{if(j_.test(t)){const e=j_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Cj=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Rj(Object.entries(t.classGroups),n).forEach(([o,s])=>{Ep(s,r,o,e)}),r},Ep=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:V_(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Ij(i)){Ep(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{Ep(s,V_(e,o),n,r)})})},V_=(t,e)=>{let n=t;return e.split(Pg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ij=t=>t.isThemeGetter,Rj=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,l])=>[e+s,l])):o);return[n,i]}):t,Aj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},e1="!",Pj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=l=>{const a=[];let u=0,d=0,h;for(let g=0;g<l.length;g++){let S=l[g];if(u===0){if(S===i&&(r||l.slice(g,g+o)===e)){a.push(l.slice(d,g)),d=g+o;continue}if(S==="/"){h=g;continue}}S==="["?u++:S==="]"&&u--}const m=a.length===0?l:l.substring(d),E=m.startsWith(e1),T=E?m.substring(1):m,_=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:T,maybePostfixModifierPosition:_}};return n?l=>n({className:l,parseClassName:s}):s},bj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Nj=t=>({cache:Aj(t.cacheSize),parseClassName:Pj(t),...xj(t)}),kj=/\s+/,Dj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(kj);let l="";for(let a=s.length-1;a>=0;a-=1){const u=s[a],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:E}=n(u);let T=!!E,_=r(T?m.substring(0,E):m);if(!_){if(!T){l=u+(l.length>0?" "+l:l);continue}if(_=r(m),!_){l=u+(l.length>0?" "+l:l);continue}T=!1}const g=bj(d).join(":"),S=h?g+e1:g,y=S+_;if(o.includes(y))continue;o.push(y);const v=i(_,T);for(let A=0;A<v.length;++A){const O=v[A];o.push(S+O)}l=u+(l.length>0?" "+l:l)}return l};function Oj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=t1(e))&&(r&&(r+=" "),r+=n);return r}const t1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=t1(t[r]))&&(n&&(n+=" "),n+=e);return n};function Mj(t,...e){let n,r,i,o=s;function s(a){const u=e.reduce((d,h)=>h(d),t());return n=Nj(u),r=n.cache.get,i=n.cache.set,o=l,l(a)}function l(a){const u=r(a);if(u)return u;const d=Dj(a,n);return i(a,d),d}return function(){return o(Oj.apply(null,arguments))}}const Ne=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},n1=/^\[(?:([a-z-]+):)?(.+)\]$/i,Lj=/^\d+\/\d+$/,jj=new Set(["px","full","screen"]),Vj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yn=t=>$o(t)||jj.has(t)||Lj.test(t),Rr=t=>ys(t,"length",Yj),$o=t=>!!t&&!Number.isNaN(Number(t)),Lh=t=>ys(t,"number",$o),Ws=t=>!!t&&Number.isInteger(Number(t)),$j=t=>t.endsWith("%")&&$o(t.slice(0,-1)),se=t=>n1.test(t),Ar=t=>Vj.test(t),Hj=new Set(["length","size","percentage"]),Wj=t=>ys(t,Hj,r1),qj=t=>ys(t,"position",r1),Kj=new Set(["image","url"]),Gj=t=>ys(t,Kj,Jj),Qj=t=>ys(t,"",Xj),qs=()=>!0,ys=(t,e,n)=>{const r=n1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Yj=t=>Fj.test(t)&&!Uj.test(t),r1=()=>!1,Xj=t=>zj.test(t),Jj=t=>Bj.test(t),Zj=()=>{const t=Ne("colors"),e=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),i=Ne("borderColor"),o=Ne("borderRadius"),s=Ne("borderSpacing"),l=Ne("borderWidth"),a=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),h=Ne("invert"),m=Ne("gap"),E=Ne("gradientColorStops"),T=Ne("gradientColorStopPositions"),_=Ne("inset"),g=Ne("margin"),S=Ne("opacity"),y=Ne("padding"),v=Ne("saturate"),A=Ne("scale"),O=Ne("sepia"),M=Ne("skew"),I=Ne("space"),C=Ne("translate"),P=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",se,e],D=()=>[se,e],N=()=>["",Yn,Rr],U=()=>["auto",$o,se],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",se],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[$o,se];return{cacheSize:500,separator:":",theme:{colors:[qs],spacing:[Yn,Rr],blur:["none","",Ar,se],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Ar,se],borderSpacing:D(),borderWidth:N(),contrast:ee(),grayscale:B(),hueRotate:ee(),invert:B(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[$j,Rr],inset:k(),margin:k(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:B(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[Ar]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),se]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ws,se]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ws,se]}],"grid-cols":[{"grid-cols":[qs]}],"col-start-end":[{col:["auto",{span:["full",Ws,se]},se]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[qs]}],"row-start-end":[{row:["auto",{span:[Ws,se]},se]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,e]}],"min-w":[{"min-w":[se,e,"min","max","fit"]}],"max-w":[{"max-w":[se,e,"none","full","min","max","fit","prose",{screen:[Ar]},Ar]}],h:[{h:[se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ar,Rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lh]}],"font-family":[{font:[qs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",$o,Lh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yn,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yn,Rr]}],"underline-offset":[{"underline-offset":["auto",Yn,se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),qj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Gj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Yn,se]}],"outline-w":[{outline:[Yn,Rr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Yn,Rr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ar,Qj]}],"shadow-color":[{shadow:[qs]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",Ar,se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Ws,se]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yn,Rr,Lh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eV=Mj(Zj);function ye(...t){return eV(JS(t))}const tV=Ag("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent shadow-sm hover:bg-primary hover:text-primary-foreground focus-visible:bg-primary focus-visible:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",golden:"bg-golden text-golden-foreground shadow hover:bg-golden/90"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-md px-8 text-lg",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),dt=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?qi:"button";return f.jsx(s,{className:ye(tV({variant:e,size:n,className:t})),ref:o,...i})});dt.displayName="Button";const Ba=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ye("rounded-md bg-card text-card-foreground shadow-md",t),...e}));Ba.displayName="Card";const nV=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",t),...e}));nV.displayName="CardHeader";const rV=x.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));rV.displayName="CardTitle";const iV=x.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));iV.displayName="CardDescription";const $a=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ye("p-6 pt-0",t),...e}));$a.displayName="CardContent";const oV=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",t),...e}));oV.displayName="CardFooter";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},a)=>x.createElement("svg",{ref:a,...aV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:i1("lucide",i),...l},[...s.map(([u,d])=>x.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=(t,e)=>{const n=x.forwardRef(({className:r,...i},o)=>x.createElement(lV,{ref:o,iconNode:e,className:i1(`lucide-${sV(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=Hn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=Hn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Hn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=Hn("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=Hn("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=Hn("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Hn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Hn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=Hn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Hn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mV=[{icon:"🎵",title:"Groove Trips",description:"Join our curated matatu experiences with the best music and vibes",link:"/groove-trips"},{icon:"🚌",title:"Hire a Matatu",description:"Get a customized matatu for your special events and occasions",link:"/hire"},{icon:"👕",title:"Merch Store",description:"Rep the culture with our exclusive merchandise collection",link:"/shop"}],z_=()=>{const[t,e]=x.useState(new Date),[n,r]=x.useState(!1),i=x.useRef(null),o=x.useRef(null),s=x.useRef(null);x.useEffect(()=>{const a=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(a)},[]),x.useEffect(()=>{if(!o.current)return;const a=o.current,u=a.getContext("2d");let d=[];const h=()=>{for(let T=0;T<50;T++)d.push({x:Math.random()*a.width,y:Math.random()*a.height,size:Math.random()*3+1,speedX:Math.random()*3-1.5,speedY:Math.random()*3-1.5,color:`rgba(var(--primary), ${Math.random()*.5+.3})`})},m=()=>{u.fillStyle="rgba(0, 0, 0, 0.1)",u.fillRect(0,0,a.width,a.height),d.forEach(T=>{T.x+=T.speedX,T.y+=T.speedY,(T.x<0||T.x>a.width)&&(T.speedX*=-1),(T.y<0||T.y>a.height)&&(T.speedY*=-1),u.fillStyle=T.color,u.beginPath(),u.arc(T.x,T.y,T.size,0,Math.PI*2),u.fill()}),s.current=requestAnimationFrame(m)},E=()=>{a.width=window.innerWidth,a.height=window.innerHeight,d=[],h()};return window.addEventListener("resize",E),E(),m(),()=>{window.removeEventListener("resize",E),s.current&&cancelAnimationFrame(s.current)}},[]);const l=()=>{i.current.paused?(i.current.play(),r(!0)):(i.current.pause(),r(!1))};return f.jsxs("div",{className:"relative min-h-screen bg-background",children:[f.jsx("canvas",{ref:o,className:"fixed inset-0 pointer-events-none z-0"}),f.jsxs("section",{className:"relative h-screen flex items-center justify-center text-center",children:[f.jsx("div",{className:"absolute inset-0 bg-[url('/Hero.png')] bg-cover bg-center",children:f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/50 to-background/80"})}),f.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsx(Mi,{children:f.jsxs("h1",{className:"space-y-4",children:[f.jsx("div",{className:"text-6xl font-bold text-primary",children:"Matatu Culture"}),f.jsx("div",{className:"text-3xl text-foreground/90",children:"Experience the Groove"})]})}),f.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-4",children:[f.jsx(dt,{asChild:!0,size:"lg",variant:"golden",children:f.jsx(Zn,{to:"/groove-trips",children:"Book a Trip"})}),f.jsx(dt,{asChild:!0,size:"lg",variant:"outline",children:f.jsx(Zn,{to:"/hire",children:"Hire a Matatu"})})]})]})]}),f.jsx("section",{className:"relative z-10 py-24 bg-muted/50",children:f.jsxs("div",{className:"container px-4 sm:px-6 lg:px-8",children:[f.jsx(Mi,{children:f.jsx("h2",{className:"text-4xl font-bold text-center text-primary mb-16",children:"Experience the Vibe"})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:mV.map((a,u)=>f.jsx(Zn,{to:a.link,className:"group relative",children:f.jsx(Ba,{className:"h-full transition-all duration-300 hover:shadow-lg hover:-translate-y-2",children:f.jsxs($a,{className:"p-6 text-center space-y-4",children:[f.jsx("div",{className:"text-5xl mb-4",children:a.icon}),f.jsx("h3",{className:"text-xl font-semibold text-primary",children:a.title}),f.jsx("p",{className:"text-muted-foreground",children:a.description})]})})},u))})]})}),f.jsx("section",{className:"relative z-10 py-24 bg-background",children:f.jsxs("div",{className:"container px-4 sm:px-6 lg:px-8",children:[f.jsx(Mi,{children:f.jsx("h2",{className:"text-4xl font-bold text-center text-primary mb-16",children:"Today's Playlist"})}),f.jsx(Ba,{className:"max-w-2xl mx-auto",children:f.jsx($a,{className:"p-6",children:f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx(dt,{variant:"golden",size:"icon",className:"h-12 w-12 rounded-full",onClick:l,children:n?f.jsx(hV,{className:"h-6 w-6"}):f.jsx(fV,{className:"h-6 w-6"})}),f.jsxs("div",{className:"flex-1 space-y-1.5",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"East African Hits"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Curated by Ndete"})]}),f.jsx("div",{className:"w-32 flex items-center gap-2",children:f.jsx(dV,{className:"h-4 w-4 text-muted-foreground"})})]})})}),f.jsx("audio",{ref:i,src:"/music/playlist.mp3"})]})}),f.jsx("div",{className:"fixed bottom-8 right-8 z-20",children:f.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-primary relative",children:f.jsx("div",{className:"absolute left-1/2 bottom-1/2 w-1 h-1/2 bg-primary origin-bottom transition-transform duration-1000",style:{transform:`rotate(${t.getSeconds()%30/30*180-90}deg)`}})})})]})},Si=x.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Si.displayName="Input";var gV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],de=gV.reduce((t,e)=>{const n=x.forwardRef((r,i)=>{const{asChild:o,...s}=r,l=o?qi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function o1(t,e){t&&Zi.flushSync(()=>t.dispatchEvent(e))}var vV="Label",s1=x.forwardRef((t,e)=>f.jsx(de.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));s1.displayName=vV;var a1=s1;const Ze=x.forwardRef(({className:t,...e},n)=>f.jsx(a1,{ref:n,className:ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Ze.displayName=a1.displayName;function Tp(t,[e,n]){return Math.min(n,Math.max(e,t))}function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yV(t,e){const n=x.createContext(e),r=o=>{const{children:s,...l}=o,a=x.useMemo(()=>l,Object.values(l));return f.jsx(n.Provider,{value:a,children:s})};r.displayName=t+"Provider";function i(o){const s=x.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function _s(t,e=[]){let n=[];function r(o,s){const l=x.createContext(s),a=n.length;n=[...n,s];const u=h=>{var S;const{scope:m,children:E,...T}=h,_=((S=m==null?void 0:m[t])==null?void 0:S[a])||l,g=x.useMemo(()=>T,Object.values(T));return f.jsx(_.Provider,{value:g,children:E})};u.displayName=o+"Provider";function d(h,m){var _;const E=((_=m==null?void 0:m[t])==null?void 0:_[a])||l,T=x.useContext(E);if(T)return T;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const i=()=>{const o=n.map(s=>x.createContext(s));return function(l){const a=(l==null?void 0:l[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:a}}),[l,a])}};return i.scopeName=t,[r,_V(i,...e)]}function _V(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((l,{useScope:a,scopeName:u})=>{const h=a(o)[`__scope${u}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function l1(t){const e=t+"CollectionProvider",[n,r]=_s(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=E=>{const{scope:T,children:_}=E,g=Ce.useRef(null),S=Ce.useRef(new Map).current;return f.jsx(i,{scope:T,itemMap:S,collectionRef:g,children:_})};s.displayName=e;const l=t+"CollectionSlot",a=Ce.forwardRef((E,T)=>{const{scope:_,children:g}=E,S=o(l,_),y=Se(T,S.collectionRef);return f.jsx(qi,{ref:y,children:g})});a.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Ce.forwardRef((E,T)=>{const{scope:_,children:g,...S}=E,y=Ce.useRef(null),v=Se(T,y),A=o(u,_);return Ce.useEffect(()=>(A.itemMap.set(y,{ref:y,...S}),()=>void A.itemMap.delete(y))),f.jsx(qi,{[d]:"",ref:v,children:g})});h.displayName=u;function m(E){const T=o(t+"CollectionConsumer",E);return Ce.useCallback(()=>{const g=T.collectionRef.current;if(!g)return[];const S=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(T.itemMap.values()).sort((A,O)=>S.indexOf(A.ref.current)-S.indexOf(O.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:s,Slot:a,ItemSlot:h},m,r]}var wV=x.createContext(void 0);function c1(t){const e=x.useContext(wV);return t||e||"ltr"}function Ye(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function EV(t,e=globalThis==null?void 0:globalThis.document){const n=Ye(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var TV="DismissableLayer",xp="dismissableLayer.update",xV="dismissableLayer.pointerDownOutside",SV="dismissableLayer.focusOutside",B_,u1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ud=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:l,...a}=t,u=x.useContext(u1),[d,h]=x.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=x.useState({}),T=Se(e,I=>h(I)),_=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=_.indexOf(g),y=d?_.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,A=y>=S,O=IV(I=>{const C=I.target,P=[...u.branches].some(b=>b.contains(C));!A||P||(i==null||i(I),s==null||s(I),I.defaultPrevented||l==null||l())},m),M=RV(I=>{const C=I.target;[...u.branches].some(b=>b.contains(C))||(o==null||o(I),s==null||s(I),I.defaultPrevented||l==null||l())},m);return EV(I=>{y===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(B_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),$_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=B_)}},[d,m,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),$_())},[d,u]),x.useEffect(()=>{const I=()=>E({});return document.addEventListener(xp,I),()=>document.removeEventListener(xp,I)},[]),f.jsx(de.div,{...a,ref:T,style:{pointerEvents:v?A?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,O.onPointerDownCapture)})});ud.displayName=TV;var CV="DismissableLayerBranch",d1=x.forwardRef((t,e)=>{const n=x.useContext(u1),r=x.useRef(null),i=Se(e,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),f.jsx(de.div,{...t,ref:i})});d1.displayName=CV;function IV(t,e=globalThis==null?void 0:globalThis.document){const n=Ye(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let a=function(){h1(xV,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=a,e.addEventListener("click",i.current,{once:!0})):a()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function RV(t,e=globalThis==null?void 0:globalThis.document){const n=Ye(t),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&h1(SV,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $_(){const t=new CustomEvent(xp);document.dispatchEvent(t)}function h1(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?o1(i,o):i.dispatchEvent(o)}var AV=ud,PV=d1,Vh=0;function f1(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H_()),document.body.insertAdjacentElement("beforeend",t[1]??H_()),Vh++,()=>{Vh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vh--}},[])}function H_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fh="focusScope.autoFocusOnMount",Uh="focusScope.autoFocusOnUnmount",W_={bubbles:!1,cancelable:!0},bV="FocusScope",bg=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[l,a]=x.useState(null),u=Ye(i),d=Ye(o),h=x.useRef(null),m=Se(e,_=>a(_)),E=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let _=function(v){if(E.paused||!l)return;const A=v.target;l.contains(A)?h.current=A:Pr(h.current,{select:!0})},g=function(v){if(E.paused||!l)return;const A=v.relatedTarget;A!==null&&(l.contains(A)||Pr(h.current,{select:!0}))},S=function(v){if(document.activeElement===document.body)for(const O of v)O.removedNodes.length>0&&Pr(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",g);const y=new MutationObserver(S);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",g),y.disconnect()}}},[r,l,E.paused]),x.useEffect(()=>{if(l){K_.add(E);const _=document.activeElement;if(!l.contains(_)){const S=new CustomEvent(Fh,W_);l.addEventListener(Fh,u),l.dispatchEvent(S),S.defaultPrevented||(NV(LV(p1(l)),{select:!0}),document.activeElement===_&&Pr(l))}return()=>{l.removeEventListener(Fh,u),setTimeout(()=>{const S=new CustomEvent(Uh,W_);l.addEventListener(Uh,d),l.dispatchEvent(S),S.defaultPrevented||Pr(_??document.body,{select:!0}),l.removeEventListener(Uh,d),K_.remove(E)},0)}}},[l,u,d,E]);const T=x.useCallback(_=>{if(!n&&!r||E.paused)return;const g=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,S=document.activeElement;if(g&&S){const y=_.currentTarget,[v,A]=kV(y);v&&A?!_.shiftKey&&S===A?(_.preventDefault(),n&&Pr(v,{select:!0})):_.shiftKey&&S===v&&(_.preventDefault(),n&&Pr(A,{select:!0})):S===y&&_.preventDefault()}},[n,r,E.paused]);return f.jsx(de.div,{tabIndex:-1,...s,ref:m,onKeyDown:T})});bg.displayName=bV;function NV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pr(r,{select:e}),document.activeElement!==n)return}function kV(t){const e=p1(t),n=q_(e,t),r=q_(e.reverse(),t);return[n,r]}function p1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function q_(t,e){for(const n of t)if(!DV(n,{upTo:e}))return n}function DV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function OV(t){return t instanceof HTMLInputElement&&"select"in t}function Pr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&OV(t)&&e&&t.select()}}var K_=MV();function MV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=G_(t,e),t.unshift(e)},remove(e){var n;t=G_(t,e),(n=t[0])==null||n.resume()}}}function G_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LV(t){return t.filter(e=>e.tagName!=="A")}var vt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},jV=Iw["useId".toString()]||(()=>{}),VV=0;function Ho(t){const[e,n]=x.useState(jV());return vt(()=>{t||n(r=>r??String(VV++))},[t]),t||(e?`radix-${e}`:"")}const FV=["top","right","bottom","left"],ai=Math.min,Kt=Math.max,_u=Math.round,Jl=Math.floor,jn=t=>({x:t,y:t}),UV={left:"right",right:"left",bottom:"top",top:"bottom"},zV={start:"end",end:"start"};function Sp(t,e,n){return Kt(t,ai(e,n))}function gr(t,e){return typeof t=="function"?t(e):t}function vr(t){return t.split("-")[0]}function ws(t){return t.split("-")[1]}function Ng(t){return t==="x"?"y":"x"}function kg(t){return t==="y"?"height":"width"}function li(t){return["top","bottom"].includes(vr(t))?"y":"x"}function Dg(t){return Ng(li(t))}function BV(t,e,n){n===void 0&&(n=!1);const r=ws(t),i=Dg(t),o=kg(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=wu(s)),[s,wu(s)]}function $V(t){const e=wu(t);return[Cp(t),e,Cp(e)]}function Cp(t){return t.replace(/start|end/g,e=>zV[e])}function HV(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function WV(t,e,n,r){const i=ws(t);let o=HV(vr(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Cp)))),o}function wu(t){return t.replace(/left|right|bottom|top/g,e=>UV[e])}function qV(t){return{top:0,right:0,bottom:0,left:0,...t}}function m1(t){return typeof t!="number"?qV(t):{top:t,right:t,bottom:t,left:t}}function Eu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Q_(t,e,n){let{reference:r,floating:i}=t;const o=li(e),s=Dg(e),l=kg(s),a=vr(e),u=o==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let E;switch(a){case"top":E={x:d,y:r.y-i.height};break;case"bottom":E={x:d,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:h};break;case"left":E={x:r.x-i.width,y:h};break;default:E={x:r.x,y:r.y}}switch(ws(e)){case"start":E[s]-=m*(n&&u?-1:1);break;case"end":E[s]+=m*(n&&u?-1:1);break}return E}const KV=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,l=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=Q_(u,r,a),m=r,E={},T=0;for(let _=0;_<l.length;_++){const{name:g,fn:S}=l[_],{x:y,y:v,data:A,reset:O}=await S({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:E,rects:u,platform:s,elements:{reference:t,floating:e}});d=y??d,h=v??h,E={...E,[g]:{...E[g],...A}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(u=O.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=Q_(u,m,a)),_=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:E}};async function Wa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:l,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:E=0}=gr(e,t),T=m1(E),g=l[m?h==="floating"?"reference":"floating":h],S=Eu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:a})),y=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),A=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},O=Eu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:a}):y);return{top:(S.top-O.top+T.top)/A.y,bottom:(O.bottom-S.bottom+T.bottom)/A.y,left:(S.left-O.left+T.left)/A.x,right:(O.right-S.right+T.right)/A.x}}const GV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:l,middlewareData:a}=e,{element:u,padding:d=0}=gr(t,e)||{};if(u==null)return{};const h=m1(d),m={x:n,y:r},E=Dg(i),T=kg(E),_=await s.getDimensions(u),g=E==="y",S=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",A=o.reference[T]+o.reference[E]-m[E]-o.floating[T],O=m[E]-o.reference[E],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let I=M?M[v]:0;(!I||!await(s.isElement==null?void 0:s.isElement(M)))&&(I=l.floating[v]||o.floating[T]);const C=A/2-O/2,P=I/2-_[T]/2-1,b=ai(h[S],P),k=ai(h[y],P),D=b,N=I-_[T]-k,U=I/2-_[T]/2+C,Q=Sp(D,U,N),Y=!a.arrow&&ws(i)!=null&&U!==Q&&o.reference[T]/2-(U<D?b:k)-_[T]/2<0,K=Y?U<D?U-D:U-N:0;return{[E]:m[E]+K,data:{[E]:Q,centerOffset:U-Q-K,...Y&&{alignmentOffset:K}},reset:Y}}}),QV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l,platform:a,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...g}=gr(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const S=vr(i),y=li(l),v=vr(l)===l,A=await(a.isRTL==null?void 0:a.isRTL(u.floating)),O=m||(v||!_?[wu(l)]:$V(l)),M=T!=="none";!m&&M&&O.push(...WV(l,_,T,A));const I=[l,...O],C=await Wa(e,g),P=[];let b=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&P.push(C[S]),h){const U=BV(i,s,A);P.push(C[U[0]],C[U[1]])}if(b=[...b,{placement:i,overflows:P}],!P.every(U=>U<=0)){var k,D;const U=(((k=o.flip)==null?void 0:k.index)||0)+1,Q=I[U];if(Q)return{data:{index:U,overflows:b},reset:{placement:Q}};let Y=(D=b.filter(K=>K.overflows[0]<=0).sort((K,V)=>K.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!Y)switch(E){case"bestFit":{var N;const K=(N=b.filter(V=>{if(M){const B=li(V.placement);return B===y||B==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(B=>B>0).reduce((B,W)=>B+W,0)]).sort((V,B)=>V[1]-B[1])[0])==null?void 0:N[0];K&&(Y=K);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function Y_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function X_(t){return FV.some(e=>t[e]>=0)}const YV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=gr(t,e);switch(r){case"referenceHidden":{const o=await Wa(e,{...i,elementContext:"reference"}),s=Y_(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:X_(s)}}}case"escaped":{const o=await Wa(e,{...i,altBoundary:!0}),s=Y_(o,n.floating);return{data:{escapedOffsets:s,escaped:X_(s)}}}default:return{}}}}};async function XV(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=vr(n),l=ws(n),a=li(n)==="y",u=["left","top"].includes(s)?-1:1,d=o&&a?-1:1,h=gr(e,t);let{mainAxis:m,crossAxis:E,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof T=="number"&&(E=l==="end"?T*-1:T),a?{x:E*d,y:m*u}:{x:m*u,y:E*d}}const JV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:l}=e,a=await XV(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:s}}}}},ZV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:g=>{let{x:S,y}=g;return{x:S,y}}},...a}=gr(t,e),u={x:n,y:r},d=await Wa(e,a),h=li(vr(i)),m=Ng(h);let E=u[m],T=u[h];if(o){const g=m==="y"?"top":"left",S=m==="y"?"bottom":"right",y=E+d[g],v=E-d[S];E=Sp(y,E,v)}if(s){const g=h==="y"?"top":"left",S=h==="y"?"bottom":"right",y=T+d[g],v=T-d[S];T=Sp(y,T,v)}const _=l.fn({...e,[m]:E,[h]:T});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:o,[h]:s}}}}}},e4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:l=0,mainAxis:a=!0,crossAxis:u=!0}=gr(t,e),d={x:n,y:r},h=li(i),m=Ng(h);let E=d[m],T=d[h];const _=gr(l,e),g=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(a){const v=m==="y"?"height":"width",A=o.reference[m]-o.floating[v]+g.mainAxis,O=o.reference[m]+o.reference[v]-g.mainAxis;E<A?E=A:E>O&&(E=O)}if(u){var S,y;const v=m==="y"?"width":"height",A=["top","left"].includes(vr(i)),O=o.reference[h]-o.floating[v]+(A&&((S=s.offset)==null?void 0:S[h])||0)+(A?0:g.crossAxis),M=o.reference[h]+o.reference[v]+(A?0:((y=s.offset)==null?void 0:y[h])||0)-(A?g.crossAxis:0);T<O?T=O:T>M&&(T=M)}return{[m]:E,[h]:T}}}},t4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:l}=e,{apply:a=()=>{},...u}=gr(t,e),d=await Wa(e,u),h=vr(i),m=ws(i),E=li(i)==="y",{width:T,height:_}=o.floating;let g,S;h==="top"||h==="bottom"?(g=h,S=m===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(S=h,g=m==="end"?"top":"bottom");const y=_-d.top-d.bottom,v=T-d.left-d.right,A=ai(_-d[g],y),O=ai(T-d[S],v),M=!e.middlewareData.shift;let I=A,C=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=y),M&&!m){const b=Kt(d.left,0),k=Kt(d.right,0),D=Kt(d.top,0),N=Kt(d.bottom,0);E?C=T-2*(b!==0||k!==0?b+k:Kt(d.left,d.right)):I=_-2*(D!==0||N!==0?D+N:Kt(d.top,d.bottom))}await a({...e,availableWidth:C,availableHeight:I});const P=await s.getDimensions(l.floating);return T!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function dd(){return typeof window<"u"}function Es(t){return g1(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wn(t){var e;return(e=(g1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function g1(t){return dd()?t instanceof Node||t instanceof Yt(t).Node:!1}function En(t){return dd()?t instanceof Element||t instanceof Yt(t).Element:!1}function zn(t){return dd()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function J_(t){return!dd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}function ul(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Tn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function n4(t){return["table","td","th"].includes(Es(t))}function hd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Og(t){const e=Mg(),n=En(t)?Tn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function r4(t){let e=ci(t);for(;zn(e)&&!as(e);){if(Og(e))return e;if(hd(e))return null;e=ci(e)}return null}function Mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function as(t){return["html","body","#document"].includes(Es(t))}function Tn(t){return Yt(t).getComputedStyle(t)}function fd(t){return En(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ci(t){if(Es(t)==="html")return t;const e=t.assignedSlot||t.parentNode||J_(t)&&t.host||Wn(t);return J_(e)?e.host:e}function v1(t){const e=ci(t);return as(e)?t.ownerDocument?t.ownerDocument.body:t.body:zn(e)&&ul(e)?e:v1(e)}function qa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=v1(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Yt(i);if(o){const l=Ip(s);return e.concat(s,s.visualViewport||[],ul(i)?i:[],l&&n?qa(l):[])}return e.concat(i,qa(i,[],n))}function Ip(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function y1(t){const e=Tn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=zn(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,l=_u(n)!==o||_u(r)!==s;return l&&(n=o,r=s),{width:n,height:r,$:l}}function Lg(t){return En(t)?t:t.contextElement}function Wo(t){const e=Lg(t);if(!zn(e))return jn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=y1(e);let s=(o?_u(n.width):n.width)/r,l=(o?_u(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const i4=jn(0);function _1(t){const e=Yt(t);return!Mg()||!e.visualViewport?i4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function o4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function Ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Lg(t);let s=jn(1);e&&(r?En(r)&&(s=Wo(r)):s=Wo(t));const l=o4(o,n,r)?_1(o):jn(0);let a=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(o){const m=Yt(o),E=r&&En(r)?Yt(r):r;let T=m,_=Ip(T);for(;_&&r&&E!==T;){const g=Wo(_),S=_.getBoundingClientRect(),y=Tn(_),v=S.left+(_.clientLeft+parseFloat(y.paddingLeft))*g.x,A=S.top+(_.clientTop+parseFloat(y.paddingTop))*g.y;a*=g.x,u*=g.y,d*=g.x,h*=g.y,a+=v,u+=A,T=Yt(_),_=Ip(T)}}return Eu({width:d,height:h,x:a,y:u})}function jg(t,e){const n=fd(t).scrollLeft;return e?e.left+n:Ki(Wn(t)).left+n}function w1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:jg(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function s4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Wn(r),l=e?hd(e.floating):!1;if(r===s||l&&o)return n;let a={scrollLeft:0,scrollTop:0},u=jn(1);const d=jn(0),h=zn(r);if((h||!h&&!o)&&((Es(r)!=="body"||ul(s))&&(a=fd(r)),zn(r))){const E=Ki(r);u=Wo(r),d.x=E.x+r.clientLeft,d.y=E.y+r.clientTop}const m=s&&!h&&!o?w1(s,a,!0):jn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-a.scrollTop*u.y+d.y+m.y}}function a4(t){return Array.from(t.getClientRects())}function l4(t){const e=Wn(t),n=fd(t),r=t.ownerDocument.body,i=Kt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Kt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+jg(t);const l=-n.scrollTop;return Tn(r).direction==="rtl"&&(s+=Kt(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}function c4(t,e){const n=Yt(t),r=Wn(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;const u=Mg();(!u||u&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:l,y:a}}function u4(t,e){const n=Ki(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=zn(t)?Wo(t):jn(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,a=i*o.x,u=r*o.y;return{width:s,height:l,x:a,y:u}}function Z_(t,e,n){let r;if(e==="viewport")r=c4(t,n);else if(e==="document")r=l4(Wn(t));else if(En(e))r=u4(e,n);else{const i=_1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Eu(r)}function E1(t,e){const n=ci(t);return n===e||!En(n)||as(n)?!1:Tn(n).position==="fixed"||E1(n,e)}function d4(t,e){const n=e.get(t);if(n)return n;let r=qa(t,[],!1).filter(l=>En(l)&&Es(l)!=="body"),i=null;const o=Tn(t).position==="fixed";let s=o?ci(t):t;for(;En(s)&&!as(s);){const l=Tn(s),a=Og(s);!a&&l.position==="fixed"&&(i=null),(o?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ul(s)&&!a&&E1(t,s))?r=r.filter(d=>d!==s):i=l,s=ci(s)}return e.set(t,r),r}function h4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?hd(e)?[]:d4(e,this._c):[].concat(n),r],l=s[0],a=s.reduce((u,d)=>{const h=Z_(e,d,i);return u.top=Kt(h.top,u.top),u.right=ai(h.right,u.right),u.bottom=ai(h.bottom,u.bottom),u.left=Kt(h.left,u.left),u},Z_(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function f4(t){const{width:e,height:n}=y1(t);return{width:e,height:n}}function p4(t,e,n){const r=zn(e),i=Wn(e),o=n==="fixed",s=Ki(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const a=jn(0);if(r||!r&&!o)if((Es(e)!=="body"||ul(i))&&(l=fd(e)),r){const m=Ki(e,!0,o,e);a.x=m.x+e.clientLeft,a.y=m.y+e.clientTop}else i&&(a.x=jg(i));const u=i&&!r&&!o?w1(i,l):jn(0),d=s.left+l.scrollLeft-a.x-u.x,h=s.top+l.scrollTop-a.y-u.y;return{x:d,y:h,width:s.width,height:s.height}}function zh(t){return Tn(t).position==="static"}function ew(t,e){if(!zn(t)||Tn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wn(t)===n&&(n=n.ownerDocument.body),n}function T1(t,e){const n=Yt(t);if(hd(t))return n;if(!zn(t)){let i=ci(t);for(;i&&!as(i);){if(En(i)&&!zh(i))return i;i=ci(i)}return n}let r=ew(t,e);for(;r&&n4(r)&&zh(r);)r=ew(r,e);return r&&as(r)&&zh(r)&&!Og(r)?n:r||r4(t)||n}const m4=async function(t){const e=this.getOffsetParent||T1,n=this.getDimensions,r=await n(t.floating);return{reference:p4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g4(t){return Tn(t).direction==="rtl"}const v4={convertOffsetParentRelativeRectToViewportRelativeRect:s4,getDocumentElement:Wn,getClippingRect:h4,getOffsetParent:T1,getElementRects:m4,getClientRects:a4,getDimensions:f4,getScale:Wo,isElement:En,isRTL:g4};function y4(t,e){let n=null,r;const i=Wn(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const{left:u,top:d,width:h,height:m}=t.getBoundingClientRect();if(l||e(),!h||!m)return;const E=Jl(d),T=Jl(i.clientWidth-(u+h)),_=Jl(i.clientHeight-(d+m)),g=Jl(u),y={rootMargin:-E+"px "+-T+"px "+-_+"px "+-g+"px",threshold:Kt(0,ai(1,a))||1};let v=!0;function A(O){const M=O[0].intersectionRatio;if(M!==a){if(!v)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}v=!1}try{n=new IntersectionObserver(A,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return s(!0),o}function _4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=Lg(t),d=i||o?[...u?qa(u):[],...qa(e)]:[];d.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const h=u&&l?y4(u,n):null;let m=-1,E=null;s&&(E=new ResizeObserver(S=>{let[y]=S;y&&y.target===u&&E&&(E.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=E)==null||v.observe(e)})),n()}),u&&!a&&E.observe(u),E.observe(e));let T,_=a?Ki(t):null;a&&g();function g(){const S=Ki(t);_&&(S.x!==_.x||S.y!==_.y||S.width!==_.width||S.height!==_.height)&&n(),_=S,T=requestAnimationFrame(g)}return n(),()=>{var S;d.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),h==null||h(),(S=E)==null||S.disconnect(),E=null,a&&cancelAnimationFrame(T)}}const w4=JV,E4=ZV,T4=QV,x4=t4,S4=YV,tw=GV,C4=e4,I4=(t,e,n)=>{const r=new Map,i={platform:v4,...n},o={...i.platform,_c:r};return KV(t,e,{...i,platform:o})};var Cc=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Tu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Tu(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function x1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nw(t,e){const n=x1(t);return Math.round(e*n)/n}function Bh(t){const e=x.useRef(t);return Cc(()=>{e.current=t}),e}function R4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:l=!0,whileElementsMounted:a,open:u}=t,[d,h]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,E]=x.useState(r);Tu(m,r)||E(r);const[T,_]=x.useState(null),[g,S]=x.useState(null),y=x.useCallback(V=>{V!==M.current&&(M.current=V,_(V))},[]),v=x.useCallback(V=>{V!==I.current&&(I.current=V,S(V))},[]),A=o||T,O=s||g,M=x.useRef(null),I=x.useRef(null),C=x.useRef(d),P=a!=null,b=Bh(a),k=Bh(i),D=Bh(u),N=x.useCallback(()=>{if(!M.current||!I.current)return;const V={placement:e,strategy:n,middleware:m};k.current&&(V.platform=k.current),I4(M.current,I.current,V).then(B=>{const W={...B,isPositioned:D.current!==!1};U.current&&!Tu(C.current,W)&&(C.current=W,Zi.flushSync(()=>{h(W)}))})},[m,e,n,k,D]);Cc(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const U=x.useRef(!1);Cc(()=>(U.current=!0,()=>{U.current=!1}),[]),Cc(()=>{if(A&&(M.current=A),O&&(I.current=O),A&&O){if(b.current)return b.current(A,O,N);N()}},[A,O,N,b,P]);const Q=x.useMemo(()=>({reference:M,floating:I,setReference:y,setFloating:v}),[y,v]),Y=x.useMemo(()=>({reference:A,floating:O}),[A,O]),K=x.useMemo(()=>{const V={position:n,left:0,top:0};if(!Y.floating)return V;const B=nw(Y.floating,d.x),W=nw(Y.floating,d.y);return l?{...V,transform:"translate("+B+"px, "+W+"px)",...x1(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:W}},[n,l,Y.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:N,refs:Q,elements:Y,floatingStyles:K}),[d,N,Q,Y,K])}const A4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?tw({element:r.current,padding:i}).fn(n):{}:r?tw({element:r,padding:i}).fn(n):{}}}},P4=(t,e)=>({...w4(t),options:[t,e]}),b4=(t,e)=>({...E4(t),options:[t,e]}),N4=(t,e)=>({...C4(t),options:[t,e]}),k4=(t,e)=>({...T4(t),options:[t,e]}),D4=(t,e)=>({...x4(t),options:[t,e]}),O4=(t,e)=>({...S4(t),options:[t,e]}),M4=(t,e)=>({...A4(t),options:[t,e]});var L4="Arrow",S1=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return f.jsx(de.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});S1.displayName=L4;var j4=S1;function V4(t){const[e,n]=x.useState(void 0);return vt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,l;if("borderBoxSize"in o){const a=o.borderBoxSize,u=Array.isArray(a)?a[0]:a;s=u.inlineSize,l=u.blockSize}else s=t.offsetWidth,l=t.offsetHeight;n({width:s,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vg="Popper",[C1,I1]=_s(Vg),[F4,R1]=C1(Vg),A1=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return f.jsx(F4,{scope:e,anchor:r,onAnchorChange:i,children:n})};A1.displayName=Vg;var P1="PopperAnchor",b1=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=R1(P1,n),s=x.useRef(null),l=Se(e,s);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:f.jsx(de.div,{...i,ref:l})});b1.displayName=P1;var Fg="PopperContent",[U4,z4]=C1(Fg),N1=x.forwardRef((t,e)=>{var X,Ie,rt,Ee,me,_e;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:a=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:E="optimized",onPlaced:T,..._}=t,g=R1(Fg,n),[S,y]=x.useState(null),v=Se(e,lt=>y(lt)),[A,O]=x.useState(null),M=V4(A),I=(M==null?void 0:M.width)??0,C=(M==null?void 0:M.height)??0,P=r+(o!=="center"?"-"+o:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],D=k.length>0,N={padding:b,boundary:k.filter($4),altBoundary:D},{refs:U,floatingStyles:Q,placement:Y,isPositioned:K,middlewareData:V}=R4({strategy:"fixed",placement:P,whileElementsMounted:(...lt)=>_4(...lt,{animationFrame:E==="always"}),elements:{reference:g.anchor},middleware:[P4({mainAxis:i+C,alignmentAxis:s}),a&&b4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?N4():void 0,...N}),a&&k4({...N}),D4({...N,apply:({elements:lt,rects:Lt,availableWidth:Kn,availableHeight:wr})=>{const{width:Er,height:Ad}=Lt.reference,gi=lt.floating.style;gi.setProperty("--radix-popper-available-width",`${Kn}px`),gi.setProperty("--radix-popper-available-height",`${wr}px`),gi.setProperty("--radix-popper-anchor-width",`${Er}px`),gi.setProperty("--radix-popper-anchor-height",`${Ad}px`)}}),A&&M4({element:A,padding:l}),H4({arrowWidth:I,arrowHeight:C}),m&&O4({strategy:"referenceHidden",...N})]}),[B,W]=O1(Y),ee=Ye(T);vt(()=>{K&&(ee==null||ee())},[K,ee]);const ie=(X=V.arrow)==null?void 0:X.x,le=(Ie=V.arrow)==null?void 0:Ie.y,Ae=((rt=V.arrow)==null?void 0:rt.centerOffset)!==0,[Ke,Je]=x.useState();return vt(()=>{S&&Je(window.getComputedStyle(S).zIndex)},[S]),f.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:K?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(Ee=V.transformOrigin)==null?void 0:Ee.x,(me=V.transformOrigin)==null?void 0:me.y].join(" "),...((_e=V.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(U4,{scope:n,placedSide:B,onArrowChange:O,arrowX:ie,arrowY:le,shouldHideArrow:Ae,children:f.jsx(de.div,{"data-side":B,"data-align":W,..._,ref:v,style:{..._.style,animation:K?void 0:"none"}})})})});N1.displayName=Fg;var k1="PopperArrow",B4={top:"bottom",right:"left",bottom:"top",left:"right"},D1=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=z4(k1,r),s=B4[o.placedSide];return f.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:f.jsx(j4,{...i,ref:n,style:{...i.style,display:"block"}})})});D1.displayName=k1;function $4(t){return t!==null}var H4=t=>({name:"transformOrigin",options:t,fn(e){var g,S,y;const{placement:n,rects:r,middlewareData:i}=e,s=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=s?0:t.arrowWidth,a=s?0:t.arrowHeight,[u,d]=O1(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((S=i.arrow)==null?void 0:S.x)??0)+l/2,E=(((y=i.arrow)==null?void 0:y.y)??0)+a/2;let T="",_="";return u==="bottom"?(T=s?h:`${m}px`,_=`${-a}px`):u==="top"?(T=s?h:`${m}px`,_=`${r.floating.height+a}px`):u==="right"?(T=`${-a}px`,_=s?h:`${E}px`):u==="left"&&(T=`${r.floating.width+a}px`,_=s?h:`${E}px`),{data:{x:T,y:_}}}});function O1(t){const[e,n="center"]=t.split("-");return[e,n]}var W4=A1,q4=b1,K4=N1,G4=D1,Q4="Portal",pd=x.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,o]=x.useState(!1);vt(()=>o(!0),[]);const s=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?FP.createPortal(f.jsx(de.div,{...r,ref:e}),s):null});pd.displayName=Q4;function xu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Y4({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,l=Ye(n),a=x.useCallback(u=>{if(o){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else i(u)},[o,t,i,l]);return[s,a]}function Y4({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,i=x.useRef(r),o=Ye(e);return x.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function X4(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var J4="VisuallyHidden",md=x.forwardRef((t,e)=>f.jsx(de.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));md.displayName=J4;var Z4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},co=new WeakMap,Zl=new WeakMap,ec={},$h=0,M1=function(t){return t&&(t.host||M1(t.parentNode))},eF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=M1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tF=function(t,e,n,r){var i=eF(e,Array.isArray(t)?t:[t]);ec[n]||(ec[n]=new WeakMap);var o=ec[n],s=[],l=new Set,a=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||a.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var E=m.getAttribute(r),T=E!==null&&E!=="false",_=(co.get(m)||0)+1,g=(o.get(m)||0)+1;co.set(m,_),o.set(m,g),s.push(m),_===1&&T&&Zl.set(m,!0),g===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return d(e),l.clear(),$h++,function(){s.forEach(function(h){var m=co.get(h)-1,E=o.get(h)-1;co.set(h,m),o.set(h,E),m||(Zl.has(h)||h.removeAttribute(r),Zl.delete(h)),E||h.removeAttribute(n)}),$h--,$h||(co=new WeakMap,co=new WeakMap,Zl=new WeakMap,ec={})}},L1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||Z4(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),tF(r,i,n,"aria-hidden")):function(){return null}},Ic="right-scroll-bar-position",Rc="width-before-scroll-bar",nF="with-scroll-bars-hidden",rF="--removed-body-scroll-bar-size";function Hh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iF(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var oF=typeof window<"u"?x.useLayoutEffect:x.useEffect,rw=new WeakMap;function sF(t,e){var n=iF(e||null,function(r){return t.forEach(function(i){return Hh(i,r)})});return oF(function(){var r=rw.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(l){o.has(l)||Hh(l,null)}),o.forEach(function(l){i.has(l)||Hh(l,s)})}rw.set(n,t)},[t]),n}function aF(t){return t}function lF(t,e){e===void 0&&(e=aF);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(o),s=n}var a=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(a)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function cF(t){t===void 0&&(t={});var e=lF(null);return e.options=An({async:!0,ssr:!1},t),e}var j1=function(t){var e=t.sideCar,n=il(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,An({},n))};j1.isSideCarExport=!0;function uF(t,e){return t.useMedium(e),j1}var V1=cF(),Wh=function(){},gd=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:Wh,onWheelCapture:Wh,onTouchMoveCapture:Wh}),i=r[0],o=r[1],s=t.forwardProps,l=t.children,a=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,E=t.noIsolation,T=t.inert,_=t.allowPinchZoom,g=t.as,S=g===void 0?"div":g,y=t.gapMode,v=il(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,O=sF([n,e]),M=An(An({},v),i);return x.createElement(x.Fragment,null,d&&x.createElement(A,{sideCar:V1,removeScrollBar:u,shards:h,noIsolation:E,inert:T,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:y}),s?x.cloneElement(x.Children.only(l),An(An({},M),{ref:O})):x.createElement(S,An({},M,{className:a,ref:O}),l))});gd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gd.classNames={fullWidth:Rc,zeroRight:Ic};var iw,dF=function(){if(iw)return iw;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=dF();return e&&t.setAttribute("nonce",e),t}function fF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hF())&&(fF(e,n),pF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gF=function(){var t=mF();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},F1=function(){var t=gF(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},vF={left:0,top:0,right:0,gap:0},qh=function(t){return parseInt(t||"",10)||0},yF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[qh(n),qh(r),qh(i)]},_F=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vF;var e=yF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wF=F1(),qo="data-scroll-locked",EF=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(nF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(qo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ic,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Rc,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rc," .").concat(Rc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qo,`] {
    `).concat(rF,": ").concat(l,`px;
  }
`)},ow=function(){var t=parseInt(document.body.getAttribute(qo)||"0",10);return isFinite(t)?t:0},TF=function(){x.useEffect(function(){return document.body.setAttribute(qo,(ow()+1).toString()),function(){var t=ow()-1;t<=0?document.body.removeAttribute(qo):document.body.setAttribute(qo,t.toString())}},[])},xF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;TF();var o=x.useMemo(function(){return _F(i)},[i]);return x.createElement(wF,{styles:EF(o,!e,i,n?"":"!important")})},Rp=!1;if(typeof window<"u")try{var tc=Object.defineProperty({},"passive",{get:function(){return Rp=!0,!0}});window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{Rp=!1}var uo=Rp?{passive:!1}:!1,SF=function(t){return t.tagName==="TEXTAREA"},U1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SF(t)&&n[e]==="visible")},CF=function(t){return U1(t,"overflowY")},IF=function(t){return U1(t,"overflowX")},sw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=z1(t,r);if(i){var o=B1(t,r),s=o[1],l=o[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},AF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},z1=function(t,e){return t==="v"?CF(e):IF(e)},B1=function(t,e){return t==="v"?RF(e):AF(e)},PF=function(t,e){return t==="h"&&e==="rtl"?-1:1},bF=function(t,e,n,r,i){var o=PF(t,window.getComputedStyle(e).direction),s=o*r,l=n.target,a=e.contains(l),u=!1,d=s>0,h=0,m=0;do{var E=B1(t,l),T=E[0],_=E[1],g=E[2],S=_-g-o*T;(T||S)&&z1(t,l)&&(h+=S,m+=T),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!a&&l!==document.body||a&&(e.contains(l)||e===l));return(d&&(i&&Math.abs(h)<1||!i&&s>h)||!d&&(i&&Math.abs(m)<1||!i&&-s>m))&&(u=!0),u},nc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},aw=function(t){return[t.deltaX,t.deltaY]},lw=function(t){return t&&"current"in t?t.current:t},NF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},DF=0,ho=[];function OF(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(DF++)[0],o=x.useState(F1)[0],s=x.useRef(t);x.useEffect(function(){s.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=fD([t.lockRef.current],(t.shards||[]).map(lw),!0).filter(Boolean);return _.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(_,g){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!s.current.allowPinchZoom;var S=nc(_),y=n.current,v="deltaX"in _?_.deltaX:y[0]-S[0],A="deltaY"in _?_.deltaY:y[1]-S[1],O,M=_.target,I=Math.abs(v)>Math.abs(A)?"h":"v";if("touches"in _&&I==="h"&&M.type==="range")return!1;var C=sw(I,M);if(!C)return!0;if(C?O=I:(O=I==="v"?"h":"v",C=sw(I,M)),!C)return!1;if(!r.current&&"changedTouches"in _&&(v||A)&&(r.current=O),!O)return!0;var P=r.current||O;return bF(P,g,_,P==="h"?v:A,!0)},[]),a=x.useCallback(function(_){var g=_;if(!(!ho.length||ho[ho.length-1]!==o)){var S="deltaY"in g?aw(g):nc(g),y=e.current.filter(function(O){return O.name===g.type&&(O.target===g.target||g.target===O.shadowParent)&&NF(O.delta,S)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var v=(s.current.shards||[]).map(lw).filter(Boolean).filter(function(O){return O.contains(g.target)}),A=v.length>0?l(g,v[0]):!s.current.noIsolation;A&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(_,g,S,y){var v={name:_,delta:g,target:S,should:y,shadowParent:MF(S)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(A){return A!==v})},1)},[]),d=x.useCallback(function(_){n.current=nc(_),r.current=void 0},[]),h=x.useCallback(function(_){u(_.type,aw(_),_.target,l(_,t.lockRef.current))},[]),m=x.useCallback(function(_){u(_.type,nc(_),_.target,l(_,t.lockRef.current))},[]);x.useEffect(function(){return ho.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",a,uo),document.addEventListener("touchmove",a,uo),document.addEventListener("touchstart",d,uo),function(){ho=ho.filter(function(_){return _!==o}),document.removeEventListener("wheel",a,uo),document.removeEventListener("touchmove",a,uo),document.removeEventListener("touchstart",d,uo)}},[]);var E=t.removeScrollBar,T=t.inert;return x.createElement(x.Fragment,null,T?x.createElement(o,{styles:kF(i)}):null,E?x.createElement(xF,{gapMode:t.gapMode}):null)}function MF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const LF=uF(V1,OF);var $1=x.forwardRef(function(t,e){return x.createElement(gd,An({},t,{ref:e,sideCar:LF}))});$1.classNames=gd.classNames;const H1=$1;var jF=[" ","Enter","ArrowUp","ArrowDown"],VF=[" ","Enter"],dl="Select",[vd,yd,FF]=l1(dl),[Ts,q3]=_s(dl,[FF,I1]),_d=I1(),[UF,pi]=Ts(dl),[zF,BF]=Ts(dl),W1=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:l,onValueChange:a,dir:u,name:d,autoComplete:h,disabled:m,required:E,form:T}=t,_=_d(e),[g,S]=x.useState(null),[y,v]=x.useState(null),[A,O]=x.useState(!1),M=c1(u),[I=!1,C]=xu({prop:r,defaultProp:i,onChange:o}),[P,b]=xu({prop:s,defaultProp:l,onChange:a}),k=x.useRef(null),D=g?T||!!g.closest("form"):!0,[N,U]=x.useState(new Set),Q=Array.from(N).map(Y=>Y.props.value).join(";");return f.jsx(W4,{..._,children:f.jsxs(UF,{required:E,scope:e,trigger:g,onTriggerChange:S,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:Ho(),value:P,onValueChange:b,open:I,onOpenChange:C,dir:M,triggerPointerDownPosRef:k,disabled:m,children:[f.jsx(vd.Provider,{scope:e,children:f.jsx(zF,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(Y=>{U(K=>new Set(K).add(Y))},[]),onNativeOptionRemove:x.useCallback(Y=>{U(K=>{const V=new Set(K);return V.delete(Y),V})},[]),children:n})}),D?f.jsxs(hC,{"aria-hidden":!0,required:E,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:Y=>b(Y.target.value),disabled:m,form:T,children:[P===void 0?f.jsx("option",{value:""}):null,Array.from(N)]},Q):null]})})};W1.displayName=dl;var q1="SelectTrigger",K1=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=_d(n),s=pi(q1,n),l=s.disabled||r,a=Se(e,s.onTriggerChange),u=yd(n),d=x.useRef("touch"),[h,m,E]=fC(_=>{const g=u().filter(v=>!v.disabled),S=g.find(v=>v.value===s.value),y=pC(g,_,S);y!==void 0&&s.onValueChange(y.value)}),T=_=>{l||(s.onOpenChange(!0),E()),_&&(s.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return f.jsx(q4,{asChild:!0,...o,children:f.jsx(de.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dC(s.value)?"":void 0,...i,ref:a,onClick:oe(i.onClick,_=>{_.currentTarget.focus(),d.current!=="mouse"&&T(_)}),onPointerDown:oe(i.onPointerDown,_=>{d.current=_.pointerType;const g=_.target;g.hasPointerCapture(_.pointerId)&&g.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(T(_),_.preventDefault())}),onKeyDown:oe(i.onKeyDown,_=>{const g=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&m(_.key),!(g&&_.key===" ")&&jF.includes(_.key)&&(T(),_.preventDefault())})})})});K1.displayName=q1;var G1="SelectValue",Q1=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...l}=t,a=pi(G1,n),{onValueNodeHasChildrenChange:u}=a,d=o!==void 0,h=Se(e,a.onValueNodeChange);return vt(()=>{u(d)},[u,d]),f.jsx(de.span,{...l,ref:h,style:{pointerEvents:"none"},children:dC(a.value)?f.jsx(f.Fragment,{children:s}):o})});Q1.displayName=G1;var $F="SelectIcon",Y1=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(de.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});Y1.displayName=$F;var HF="SelectPortal",X1=t=>f.jsx(pd,{asChild:!0,...t});X1.displayName=HF;var Gi="SelectContent",J1=x.forwardRef((t,e)=>{const n=pi(Gi,t.__scopeSelect),[r,i]=x.useState();if(vt(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Zi.createPortal(f.jsx(Z1,{scope:t.__scopeSelect,children:f.jsx(vd.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),o):null}return f.jsx(eC,{...t,ref:e})});J1.displayName=Gi;var hn=10,[Z1,mi]=Ts(Gi),WF="SelectContentImpl",eC=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:l,sideOffset:a,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:E,sticky:T,hideWhenDetached:_,avoidCollisions:g,...S}=t,y=pi(Gi,n),[v,A]=x.useState(null),[O,M]=x.useState(null),I=Se(e,X=>A(X)),[C,P]=x.useState(null),[b,k]=x.useState(null),D=yd(n),[N,U]=x.useState(!1),Q=x.useRef(!1);x.useEffect(()=>{if(v)return L1(v)},[v]),f1();const Y=x.useCallback(X=>{const[Ie,...rt]=D().map(_e=>_e.ref.current),[Ee]=rt.slice(-1),me=document.activeElement;for(const _e of X)if(_e===me||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===Ie&&O&&(O.scrollTop=0),_e===Ee&&O&&(O.scrollTop=O.scrollHeight),_e==null||_e.focus(),document.activeElement!==me))return},[D,O]),K=x.useCallback(()=>Y([C,v]),[Y,C,v]);x.useEffect(()=>{N&&K()},[N,K]);const{onOpenChange:V,triggerPointerDownPosRef:B}=y;x.useEffect(()=>{if(v){let X={x:0,y:0};const Ie=Ee=>{var me,_e;X={x:Math.abs(Math.round(Ee.pageX)-(((me=B.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((_e=B.current)==null?void 0:_e.y)??0))}},rt=Ee=>{X.x<=10&&X.y<=10?Ee.preventDefault():v.contains(Ee.target)||V(!1),document.removeEventListener("pointermove",Ie),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",rt,{capture:!0})}}},[v,V,B]),x.useEffect(()=>{const X=()=>V(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[V]);const[W,ee]=fC(X=>{const Ie=D().filter(me=>!me.disabled),rt=Ie.find(me=>me.ref.current===document.activeElement),Ee=pC(Ie,X,rt);Ee&&setTimeout(()=>Ee.ref.current.focus())}),ie=x.useCallback((X,Ie,rt)=>{const Ee=!Q.current&&!rt;(y.value!==void 0&&y.value===Ie||Ee)&&(P(X),Ee&&(Q.current=!0))},[y.value]),le=x.useCallback(()=>v==null?void 0:v.focus(),[v]),Ae=x.useCallback((X,Ie,rt)=>{const Ee=!Q.current&&!rt;(y.value!==void 0&&y.value===Ie||Ee)&&k(X)},[y.value]),Ke=r==="popper"?Ap:tC,Je=Ke===Ap?{side:l,sideOffset:a,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:E,sticky:T,hideWhenDetached:_,avoidCollisions:g}:{};return f.jsx(Z1,{scope:n,content:v,viewport:O,onViewportChange:M,itemRefCallback:ie,selectedItem:C,onItemLeave:le,itemTextRefCallback:Ae,focusSelectedItem:K,selectedItemText:b,position:r,isPositioned:N,searchRef:W,children:f.jsx(H1,{as:qi,allowPinchZoom:!0,children:f.jsx(bg,{asChild:!0,trapped:y.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:oe(i,X=>{var Ie;(Ie=y.trigger)==null||Ie.focus({preventScroll:!0}),X.preventDefault()}),children:f.jsx(ud,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:f.jsx(Ke,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:X=>X.preventDefault(),...S,...Je,onPlaced:()=>U(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:oe(S.onKeyDown,X=>{const Ie=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Ie&&X.key.length===1&&ee(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Ee=D().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const me=X.target,_e=Ee.indexOf(me);Ee=Ee.slice(_e+1)}setTimeout(()=>Y(Ee)),X.preventDefault()}})})})})})})});eC.displayName=WF;var qF="SelectItemAlignedPosition",tC=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=pi(Gi,n),s=mi(Gi,n),[l,a]=x.useState(null),[u,d]=x.useState(null),h=Se(e,I=>d(I)),m=yd(n),E=x.useRef(!1),T=x.useRef(!0),{viewport:_,selectedItem:g,selectedItemText:S,focusSelectedItem:y}=s,v=x.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&_&&g&&S){const I=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),b=S.getBoundingClientRect();if(o.dir!=="rtl"){const me=b.left-C.left,_e=P.left-me,lt=I.left-_e,Lt=I.width+lt,Kn=Math.max(Lt,C.width),wr=window.innerWidth-hn,Er=Tp(_e,[hn,Math.max(hn,wr-Kn)]);l.style.minWidth=Lt+"px",l.style.left=Er+"px"}else{const me=C.right-b.right,_e=window.innerWidth-P.right-me,lt=window.innerWidth-I.right-_e,Lt=I.width+lt,Kn=Math.max(Lt,C.width),wr=window.innerWidth-hn,Er=Tp(_e,[hn,Math.max(hn,wr-Kn)]);l.style.minWidth=Lt+"px",l.style.right=Er+"px"}const k=m(),D=window.innerHeight-hn*2,N=_.scrollHeight,U=window.getComputedStyle(u),Q=parseInt(U.borderTopWidth,10),Y=parseInt(U.paddingTop,10),K=parseInt(U.borderBottomWidth,10),V=parseInt(U.paddingBottom,10),B=Q+Y+N+V+K,W=Math.min(g.offsetHeight*5,B),ee=window.getComputedStyle(_),ie=parseInt(ee.paddingTop,10),le=parseInt(ee.paddingBottom,10),Ae=I.top+I.height/2-hn,Ke=D-Ae,Je=g.offsetHeight/2,X=g.offsetTop+Je,Ie=Q+Y+X,rt=B-Ie;if(Ie<=Ae){const me=k.length>0&&g===k[k.length-1].ref.current;l.style.bottom="0px";const _e=u.clientHeight-_.offsetTop-_.offsetHeight,lt=Math.max(Ke,Je+(me?le:0)+_e+K),Lt=Ie+lt;l.style.height=Lt+"px"}else{const me=k.length>0&&g===k[0].ref.current;l.style.top="0px";const lt=Math.max(Ae,Q+_.offsetTop+(me?ie:0)+Je)+rt;l.style.height=lt+"px",_.scrollTop=Ie-Ae+_.offsetTop}l.style.margin=`${hn}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[m,o.trigger,o.valueNode,l,u,_,g,S,o.dir,r]);vt(()=>v(),[v]);const[A,O]=x.useState();vt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const M=x.useCallback(I=>{I&&T.current===!0&&(v(),y==null||y(),T.current=!1)},[v,y]);return f.jsx(GF,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:E,onScrollButtonChange:M,children:f.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:f.jsx(de.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});tC.displayName=qF;var KF="SelectPopperPosition",Ap=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=hn,...o}=t,s=_d(n);return f.jsx(K4,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ap.displayName=KF;var[GF,Ug]=Ts(Gi,{}),Pp="SelectViewport",nC=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=mi(Pp,n),s=Ug(Pp,n),l=Se(e,o.onViewportChange),a=x.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(vd.Slot,{scope:n,children:f.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:oe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&h){const E=Math.abs(a.current-d.scrollTop);if(E>0){const T=window.innerHeight-hn*2,_=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),S=Math.max(_,g);if(S<T){const y=S+E,v=Math.min(T,y),A=y-v;h.style.height=v+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}a.current=d.scrollTop})})})]})});nC.displayName=Pp;var rC="SelectGroup",[QF,YF]=Ts(rC),XF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ho();return f.jsx(QF,{scope:n,id:i,children:f.jsx(de.div,{role:"group","aria-labelledby":i,...r,ref:e})})});XF.displayName=rC;var iC="SelectLabel",JF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=YF(iC,n);return f.jsx(de.div,{id:i.id,...r,ref:e})});JF.displayName=iC;var Su="SelectItem",[ZF,oC]=Ts(Su),sC=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,l=pi(Su,n),a=mi(Su,n),u=l.value===r,[d,h]=x.useState(o??""),[m,E]=x.useState(!1),T=Se(e,y=>{var v;return(v=a.itemRefCallback)==null?void 0:v.call(a,y,r,i)}),_=Ho(),g=x.useRef("touch"),S=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(ZF,{scope:n,value:r,disabled:i,textId:_,isSelected:u,onItemTextChange:x.useCallback(y=>{h(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:f.jsx(vd.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:f.jsx(de.div,{role:"option","aria-labelledby":_,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:T,onFocus:oe(s.onFocus,()=>E(!0)),onBlur:oe(s.onBlur,()=>E(!1)),onClick:oe(s.onClick,()=>{g.current!=="mouse"&&S()}),onPointerUp:oe(s.onPointerUp,()=>{g.current==="mouse"&&S()}),onPointerDown:oe(s.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:oe(s.onPointerMove,y=>{var v;g.current=y.pointerType,i?(v=a.onItemLeave)==null||v.call(a):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(s.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=a.onItemLeave)==null||v.call(a))}),onKeyDown:oe(s.onKeyDown,y=>{var A;((A=a.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(VF.includes(y.key)&&S(),y.key===" "&&y.preventDefault())})})})})});sC.displayName=Su;var ea="SelectItemText",aC=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=pi(ea,n),l=mi(ea,n),a=oC(ea,n),u=BF(ea,n),[d,h]=x.useState(null),m=Se(e,S=>h(S),a.onItemTextChange,S=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,S,a.value,a.disabled)}),E=d==null?void 0:d.textContent,T=x.useMemo(()=>f.jsx("option",{value:a.value,disabled:a.disabled,children:E},a.value),[a.disabled,a.value,E]),{onNativeOptionAdd:_,onNativeOptionRemove:g}=u;return vt(()=>(_(T),()=>g(T)),[_,g,T]),f.jsxs(f.Fragment,{children:[f.jsx(de.span,{id:a.textId,...o,ref:m}),a.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Zi.createPortal(o.children,s.valueNode):null]})});aC.displayName=ea;var lC="SelectItemIndicator",cC=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return oC(lC,n).isSelected?f.jsx(de.span,{"aria-hidden":!0,...r,ref:e}):null});cC.displayName=lC;var bp="SelectScrollUpButton",eU=x.forwardRef((t,e)=>{const n=mi(bp,t.__scopeSelect),r=Ug(bp,t.__scopeSelect),[i,o]=x.useState(!1),s=Se(e,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=a.scrollTop>0;o(u)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?f.jsx(uC,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}}):null});eU.displayName=bp;var Np="SelectScrollDownButton",tU=x.forwardRef((t,e)=>{const n=mi(Np,t.__scopeSelect),r=Ug(Np,t.__scopeSelect),[i,o]=x.useState(!1),s=Se(e,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=a.scrollHeight-a.clientHeight,d=Math.ceil(a.scrollTop)<u;o(d)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?f.jsx(uC,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}}):null});tU.displayName=Np;var uC=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=mi("SelectScrollButton",n),s=x.useRef(null),l=yd(n),a=x.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return x.useEffect(()=>()=>a(),[a]),vt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),f.jsx(de.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:oe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:oe(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:oe(i.onPointerLeave,()=>{a()})})}),nU="SelectSeparator",rU=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(de.div,{"aria-hidden":!0,...r,ref:e})});rU.displayName=nU;var kp="SelectArrow",iU=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_d(n),o=pi(kp,n),s=mi(kp,n);return o.open&&s.position==="popper"?f.jsx(G4,{...i,...r,ref:e}):null});iU.displayName=kp;function dC(t){return t===""||t===void 0}var hC=x.forwardRef((t,e)=>{const{value:n,...r}=t,i=x.useRef(null),o=Se(e,i),s=X4(n);return x.useEffect(()=>{const l=i.current,a=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[s,n]),f.jsx(md,{asChild:!0,children:f.jsx("select",{...r,ref:o,defaultValue:n})})});hC.displayName="BubbleSelect";function fC(t){const e=Ye(t),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(s=>{const l=n.current+s;e(l),function a(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>a(""),1e3))}(l)},[e]),o=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function pC(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=oU(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const a=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==n?a:void 0}function oU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sU=W1,mC=K1,aU=Q1,lU=Y1,cU=X1,gC=J1,uU=nC,vC=sC,dU=aC,hU=cC;const en=sU,tn=aU,Wt=x.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(mC,{ref:r,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,f.jsx(lU,{asChild:!0,children:f.jsx(uV,{className:"h-4 w-4 opacity-50"})})]}));Wt.displayName=mC.displayName;const qt=x.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>f.jsx(cU,{children:f.jsx(gC,{ref:i,className:ye("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:f.jsx(uU,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));qt.displayName=gC.displayName;const ot=x.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(vC,{ref:r,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(hU,{children:f.jsx(cV,{className:"h-4 w-4"})})}),f.jsx(dU,{children:e})]}));ot.displayName=vC.displayName;function fU(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var _r=t=>{const{present:e,children:n}=t,r=pU(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=Se(r.ref,mU(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};_r.displayName="Presence";function pU(t){const[e,n]=x.useState(),r=x.useRef({}),i=x.useRef(t),o=x.useRef("none"),s=t?"mounted":"unmounted",[l,a]=fU(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=rc(r.current);o.current=l==="mounted"?u:"none"},[l]),vt(()=>{const u=r.current,d=i.current;if(d!==t){const m=o.current,E=rc(u);t?a("MOUNT"):E==="none"||(u==null?void 0:u.display)==="none"?a("UNMOUNT"):a(d&&m!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,a]),vt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=E=>{const _=rc(r.current).includes(E.animationName);if(E.target===e&&_&&(a("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},m=E=>{E.target===e&&(o.current=rc(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function rc(t){return(t==null?void 0:t.animationName)||"none"}function mU(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zg="Dialog",[yC,K3]=_s(zg),[gU,xn]=yC(zg),_C=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,l=x.useRef(null),a=x.useRef(null),[u=!1,d]=xu({prop:r,defaultProp:i,onChange:o});return f.jsx(gU,{scope:e,triggerRef:l,contentRef:a,contentId:Ho(),titleId:Ho(),descriptionId:Ho(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:s,children:n})};_C.displayName=zg;var wC="DialogTrigger",EC=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(wC,n),o=Se(e,i.triggerRef);return f.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Hg(i.open),...r,ref:o,onClick:oe(t.onClick,i.onOpenToggle)})});EC.displayName=wC;var Bg="DialogPortal",[vU,TC]=yC(Bg,{forceMount:void 0}),xC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=xn(Bg,e);return f.jsx(vU,{scope:e,forceMount:n,children:x.Children.map(r,s=>f.jsx(_r,{present:n||o.open,children:f.jsx(pd,{asChild:!0,container:i,children:s})}))})};xC.displayName=Bg;var Cu="DialogOverlay",SC=x.forwardRef((t,e)=>{const n=TC(Cu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=xn(Cu,t.__scopeDialog);return o.modal?f.jsx(_r,{present:r||o.open,children:f.jsx(yU,{...i,ref:e})}):null});SC.displayName=Cu;var yU=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(Cu,n);return f.jsx(H1,{as:qi,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(de.div,{"data-state":Hg(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qi="DialogContent",CC=x.forwardRef((t,e)=>{const n=TC(Qi,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=xn(Qi,t.__scopeDialog);return f.jsx(_r,{present:r||o.open,children:o.modal?f.jsx(_U,{...i,ref:e}):f.jsx(wU,{...i,ref:e})})});CC.displayName=Qi;var _U=x.forwardRef((t,e)=>{const n=xn(Qi,t.__scopeDialog),r=x.useRef(null),i=Se(e,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return L1(o)},[]),f.jsx(IC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:oe(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&o.preventDefault()}),onFocusOutside:oe(t.onFocusOutside,o=>o.preventDefault())})}),wU=x.forwardRef((t,e)=>{const n=xn(Qi,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return f.jsx(IC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var a,u;(a=t.onInteractOutside)==null||a.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),IC=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,l=xn(Qi,n),a=x.useRef(null),u=Se(e,a);return f1(),f.jsxs(f.Fragment,{children:[f.jsx(bg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:f.jsx(ud,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Hg(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(EU,{titleId:l.titleId}),f.jsx(xU,{contentRef:a,descriptionId:l.descriptionId})]})]})}),$g="DialogTitle",RC=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn($g,n);return f.jsx(de.h2,{id:i.titleId,...r,ref:e})});RC.displayName=$g;var AC="DialogDescription",PC=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(AC,n);return f.jsx(de.p,{id:i.descriptionId,...r,ref:e})});PC.displayName=AC;var bC="DialogClose",NC=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(bC,n);return f.jsx(de.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,()=>i.onOpenChange(!1))})});NC.displayName=bC;function Hg(t){return t?"open":"closed"}var kC="DialogTitleWarning",[G3,DC]=yV(kC,{contentName:Qi,titleName:$g,docsSlug:"dialog"}),EU=({titleId:t})=>{const e=DC(kC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},TU="DialogDescriptionWarning",xU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DC(TU).contentName}}.`;return x.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},OC=_C,MC=EC,LC=xC,wd=SC,Ed=CC,Td=RC,xd=PC,jC=NC;const cw=OC,uw=MC,SU=LC,VC=x.forwardRef(({className:t,...e},n)=>f.jsx(wd,{className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));VC.displayName=wd.displayName;const CU=Ag("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Dp=x.forwardRef(({side:t="right",className:e,children:n,...r},i)=>f.jsxs(SU,{children:[f.jsx(VC,{}),f.jsxs(Ed,{ref:i,className:ye(CU({side:t}),e),...r,children:[n,f.jsxs(jC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[f.jsx(Ha,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dp.displayName=Ed.displayName;const Op=({className:t,...e})=>f.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",t),...e});Op.displayName="SheetHeader";const Mp=x.forwardRef(({className:t,...e},n)=>f.jsx(Td,{ref:n,className:ye("text-lg font-semibold text-foreground",t),...e}));Mp.displayName=Td.displayName;const IU=x.forwardRef(({className:t,...e},n)=>f.jsx(xd,{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));IU.displayName=xd.displayName;function RU(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var Wg="ScrollArea",[FC,Q3]=_s(Wg),[AU,cn]=FC(Wg),UC=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[l,a]=x.useState(null),[u,d]=x.useState(null),[h,m]=x.useState(null),[E,T]=x.useState(null),[_,g]=x.useState(null),[S,y]=x.useState(0),[v,A]=x.useState(0),[O,M]=x.useState(!1),[I,C]=x.useState(!1),P=Se(e,k=>a(k)),b=c1(i);return f.jsx(AU,{scope:n,type:r,dir:b,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:E,onScrollbarXChange:T,scrollbarXEnabled:O,onScrollbarXEnabledChange:M,scrollbarY:_,onScrollbarYChange:g,scrollbarYEnabled:I,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:A,children:f.jsx(de.div,{dir:b,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":v+"px",...t.style}})})});UC.displayName=Wg;var zC="ScrollAreaViewport",BC=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=cn(zC,n),l=x.useRef(null),a=Se(e,l,s.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(de.div,{"data-radix-scroll-area-viewport":"",...o,ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});BC.displayName=zC;var qn="ScrollAreaScrollbar",qg=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=cn(qn,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,l=t.orientation==="horizontal";return x.useEffect(()=>(l?o(!0):s(!0),()=>{l?o(!1):s(!1)}),[l,o,s]),i.type==="hover"?f.jsx(PU,{...r,ref:e,forceMount:n}):i.type==="scroll"?f.jsx(bU,{...r,ref:e,forceMount:n}):i.type==="auto"?f.jsx($C,{...r,ref:e,forceMount:n}):i.type==="always"?f.jsx(Kg,{...r,ref:e}):null});qg.displayName=qn;var PU=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=cn(qn,t.__scopeScrollArea),[o,s]=x.useState(!1);return x.useEffect(()=>{const l=i.scrollArea;let a=0;if(l){const u=()=>{window.clearTimeout(a),s(!0)},d=()=>{a=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(a),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(_r,{present:n||o,children:f.jsx($C,{"data-state":o?"visible":"hidden",...r,ref:e})})}),bU=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=cn(qn,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Cd(()=>a("SCROLL_END"),100),[l,a]=RU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>a("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,a]),x.useEffect(()=>{const u=i.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const E=u[d];h!==E&&(a("SCROLL"),s()),h=E};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,o,a,s]),f.jsx(_r,{present:n||l!=="hidden",children:f.jsx(Kg,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:oe(t.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:oe(t.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),$C=x.forwardRef((t,e)=>{const n=cn(qn,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=x.useState(!1),l=t.orientation==="horizontal",a=Cd(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?u:d)}},10);return ls(n.viewport,a),ls(n.content,a),f.jsx(_r,{present:r||o,children:f.jsx(Kg,{"data-state":o?"visible":"hidden",...i,ref:e})})}),Kg=x.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=cn(qn,t.__scopeScrollArea),o=x.useRef(null),s=x.useRef(0),[l,a]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=GC(l.viewport,l.content),d={...r,sizes:l,onSizesChange:a,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:m=>s.current=m};function h(m,E){return LU(m,s.current,l,E)}return n==="horizontal"?f.jsx(NU,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollLeft,E=dw(m,l,i.dir);o.current.style.transform=`translate3d(${E}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):n==="vertical"?f.jsx(kU,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollTop,E=dw(m,l);o.current.style.transform=`translate3d(0, ${E}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),NU=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=cn(qn,t.__scopeScrollArea),[s,l]=x.useState(),a=x.useRef(null),u=Se(e,a,o.onScrollbarXChange);return x.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),f.jsx(WC,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Sd(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),YC(m,h)&&d.preventDefault()}},onResize:()=>{a.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:Ru(s.paddingLeft),paddingEnd:Ru(s.paddingRight)}})}})}),kU=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=cn(qn,t.__scopeScrollArea),[s,l]=x.useState(),a=x.useRef(null),u=Se(e,a,o.onScrollbarYChange);return x.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),f.jsx(WC,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Sd(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),YC(m,h)&&d.preventDefault()}},onResize:()=>{a.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:Ru(s.paddingTop),paddingEnd:Ru(s.paddingBottom)}})}})}),[DU,HC]=FC(qn),WC=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:a,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=t,E=cn(qn,n),[T,_]=x.useState(null),g=Se(e,P=>_(P)),S=x.useRef(null),y=x.useRef(""),v=E.viewport,A=r.content-r.viewport,O=Ye(d),M=Ye(a),I=Cd(h,10);function C(P){if(S.current){const b=P.clientX-S.current.left,k=P.clientY-S.current.top;u({x:b,y:k})}}return x.useEffect(()=>{const P=b=>{const k=b.target;(T==null?void 0:T.contains(k))&&O(b,A)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[v,T,A,O]),x.useEffect(M,[r,M]),ls(T,I),ls(E.content,I),f.jsx(DU,{scope:n,scrollbar:T,hasThumb:i,onThumbChange:Ye(o),onThumbPointerUp:Ye(s),onThumbPositionChange:M,onThumbPointerDown:Ye(l),children:f.jsx(de.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:oe(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),S.current=T.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:oe(t.onPointerMove,C),onPointerUp:oe(t.onPointerUp,P=>{const b=P.target;b.hasPointerCapture(P.pointerId)&&b.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,E.viewport&&(E.viewport.style.scrollBehavior=""),S.current=null})})})}),Iu="ScrollAreaThumb",qC=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=HC(Iu,t.__scopeScrollArea);return f.jsx(_r,{present:n||i.hasThumb,children:f.jsx(OU,{ref:e,...r})})}),OU=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=cn(Iu,n),s=HC(Iu,n),{onThumbPositionChange:l}=s,a=Se(e,h=>s.onThumbChange(h)),u=x.useRef(void 0),d=Cd(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(d(),!u.current){const E=jU(h,l);u.current=E,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,d,l]),f.jsx(de.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(t.onPointerDownCapture,h=>{const E=h.target.getBoundingClientRect(),T=h.clientX-E.left,_=h.clientY-E.top;s.onThumbPointerDown({x:T,y:_})}),onPointerUp:oe(t.onPointerUp,s.onThumbPointerUp)})});qC.displayName=Iu;var Gg="ScrollAreaCorner",KC=x.forwardRef((t,e)=>{const n=cn(Gg,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(MU,{...t,ref:e}):null});KC.displayName=Gg;var MU=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=cn(Gg,n),[o,s]=x.useState(0),[l,a]=x.useState(0),u=!!(o&&l);return ls(i.scrollbarX,()=>{var h;const d=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(d),a(d)}),ls(i.scrollbarY,()=>{var h;const d=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?f.jsx(de.div,{...r,ref:e,style:{width:o,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ru(t){return t?parseInt(t,10):0}function GC(t,e){const n=t/e;return isNaN(n)?0:n}function Sd(t){const e=GC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function LU(t,e,n,r="ltr"){const i=Sd(n),o=i/2,s=e||o,l=i-s,a=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return QC([a,u],h)(t)}function dw(t,e,n="ltr"){const r=Sd(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,l=o-r,a=n==="ltr"?[0,s]:[s*-1,0],u=Tp(t,a);return QC([0,s],[0,l])(u)}function QC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function YC(t,e){return t>0&&t<e}var jU=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,l=n.top!==o.top;(s||l)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Cd(t,e){const n=Ye(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ls(t,e){const n=Ye(e);vt(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var XC=UC,VU=BC,FU=KC;const Au=x.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(XC,{ref:r,className:ye("relative overflow-hidden",t),...n,children:[f.jsx(VU,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(JC,{}),f.jsx(FU,{})]}));Au.displayName=XC.displayName;const JC=x.forwardRef(({className:t,orientation:e="vertical",...n},r)=>f.jsx(qg,{ref:r,orientation:e,className:ye("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:f.jsx(qC,{className:"relative flex-1 rounded-full bg-border"})}));JC.displayName=qg.displayName;const UU=1,zU=1e6,or={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Kh=0;function BU(){return Kh=(Kh+1)%Number.MAX_VALUE,Kh.toString()}const Gh=new Map,hw=t=>{if(Gh.has(t))return;const e=setTimeout(()=>{Gh.delete(t),ga({type:or.REMOVE_TOAST,toastId:t})},zU);Gh.set(t,e)},$U=(t,e)=>{switch(e.type){case or.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,UU)};case or.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case or.DISMISS_TOAST:{const{toastId:n}=e;return n?hw(n):t.toasts.forEach(r=>{hw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case or.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ac=[];let Pc={toasts:[]};function ga(t){Pc=$U(Pc,t),Ac.forEach(e=>{e(Pc)})}function HU({...t}){const e=BU(),n=i=>ga({type:or.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>ga({type:or.DISMISS_TOAST,toastId:e});return ga({type:or.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function ZC(){const[t,e]=x.useState(Pc);return x.useEffect(()=>(Ac.push(e),()=>{const n=Ac.indexOf(e);n>-1&&Ac.splice(n,1)}),[t]),{...t,toast:HU,dismiss:n=>ga({type:or.DISMISS_TOAST,toastId:n})}}const WU=[{id:1,name:"Matatu Culture T-Shirt",price:1500,description:"Premium cotton t-shirt featuring iconic matatu art",category:"Clothing",sizes:["S","M","L","XL"],colors:["Black","White","Grey"],image:"/shop/tshirt.jpg"},{id:2,name:"Matatu Art Print",price:2500,description:"High-quality print of original matatu artwork",category:"Art",sizes:["A4","A3","A2"],colors:["Full Color"],image:"/shop/print.jpg"},{id:3,name:"Matatu Culture Cap",price:1200,description:"Stylish cap with embroidered matatu designs",category:"Accessories",sizes:["One Size"],colors:["Black","Navy","Red"],image:"/shop/cap.jpg"},{id:4,name:"Matatu Photography Book",price:3500,description:"Coffee table book featuring stunning matatu photography",category:"Books",sizes:["Standard"],colors:["Hardcover"],image:"/shop/book.jpg"},{id:5,name:"Matatu Culture Hoodie",price:2800,description:"Comfortable hoodie with unique matatu designs",category:"Clothing",sizes:["S","M","L","XL"],colors:["Black","Grey","Navy"],image:"/shop/hoodie.jpg"},{id:6,name:"Matatu Art Canvas",price:4500,description:"Gallery-quality canvas print of matatu artwork",category:"Art",sizes:["30x40cm","50x70cm","70x100cm"],colors:["Full Color"],image:"/shop/canvas.jpg"}],qU=["All","Clothing","Art","Accessories","Books"],KU=["All","0-2000","2001-3500","3501+"],GU=["All","S","M","L","XL","A4","A3","A2","One Size","Standard","30x40cm","50x70cm","70x100cm"],QU=["All","Black","White","Grey","Navy","Red","Full Color","Hardcover"],YU=()=>{const[t,e]=x.useState({search:"",category:"All",size:"All",color:"All",priceRange:"All",sort:"name"}),[n,r]=x.useState([]),[i,o]=x.useState({}),[s,l]=x.useState({}),{toast:a}=ZC(),u=(g,S)=>{e(y=>({...y,[g]:S}))},d=x.useMemo(()=>WU.filter(g=>{const S=g.name.toLowerCase().includes(t.search.toLowerCase())||g.description.toLowerCase().includes(t.search.toLowerCase()),y=t.category==="All"||g.category===t.category,v=t.size==="All"||g.sizes.includes(t.size),A=t.color==="All"||g.colors.includes(t.color);let O=!0;if(t.priceRange!=="All"){const[M,I]=t.priceRange.split("-").map(Number);I?O=g.price>=M&&g.price<=I:O=g.price>=M}return S&&y&&v&&A&&O}).sort((g,S)=>{switch(t.sort){case"price-low":return g.price-S.price;case"price-high":return S.price-g.price;case"name":default:return g.name.localeCompare(S.name)}}),[t.search,t.category,t.size,t.color,t.priceRange,t.sort]),h=g=>{const S=i[g.id],y=s[g.id];if(!S||!y){a({title:"Please select options",description:"You must select both size and color before adding to cart",variant:"destructive"});return}const v=n.find(A=>A.id===g.id&&A.size===S&&A.color===y);r(v?n.map(A=>A.id===g.id&&A.size===S&&A.color===y?{...A,quantity:A.quantity+1}:A):[...n,{...g,size:S,color:y,quantity:1}]),a({title:"Added to cart",description:`${g.name} (${S}, ${y}) has been added to your cart`})},m=(g,S,y,v)=>{if(v<1){E(g,S,y);return}r(n.map(A=>A.id===g&&A.size===S&&A.color===y?{...A,quantity:v}:A))},E=(g,S,y)=>{r(n.filter(v=>!(v.id===g&&v.size===S&&v.color===y)))},T=n.reduce((g,S)=>g+S.price*S.quantity,0),_=n.reduce((g,S)=>g+S.quantity,0);return f.jsx("div",{className:"min-h-screen bg-background py-12",children:f.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:"Matatu Culture Shop"}),f.jsx("p",{className:"text-muted-foreground",children:"Authentic matatu culture merchandise and collectibles"})]}),f.jsxs(cw,{children:[f.jsx(uw,{asChild:!0,children:f.jsxs(dt,{variant:"outline",size:"icon",className:"relative md:hidden",children:[f.jsx(jh,{className:"h-5 w-5"}),_>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-primary text-primary-foreground rounded-full w-5 h-5 text-xs flex items-center justify-center",children:_})]})}),f.jsxs(Dp,{className:"w-full sm:max-w-lg",children:[f.jsx(Op,{children:f.jsx(Mp,{children:"Shopping Cart"})}),f.jsx(Au,{className:"h-[calc(100vh-10rem)] mt-4",children:n.length===0?f.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Your cart is empty"}):f.jsx("div",{className:"space-y-4",children:n.map((g,S)=>f.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[f.jsx("div",{className:"w-20 h-20 overflow-hidden rounded-md",children:f.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-medium",children:g.name}),f.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[f.jsxs("p",{children:["Size: ",g.size]}),f.jsxs("p",{children:["Color: ",g.color]}),f.jsxs("p",{children:["KSH ",g.price.toLocaleString()]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx(dt,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>m(g.id,g.size,g.color,g.quantity-1),children:f.jsx(F_,{className:"h-4 w-4"})}),f.jsx("span",{className:"w-8 text-center",children:g.quantity}),f.jsx(dt,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>m(g.id,g.size,g.color,g.quantity+1),children:f.jsx(U_,{className:"h-4 w-4"})})]})]}),f.jsx(dt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>E(g.id,g.size,g.color),children:f.jsx(Ha,{className:"h-4 w-4"})})]},`${g.id}-${g.size}-${g.color}-${S}`))})}),n.length>0&&f.jsxs("div",{className:"border-t mt-4 pt-4 space-y-4",children:[f.jsxs("div",{className:"flex justify-between text-lg font-medium",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["KSH ",T.toLocaleString()]})]}),f.jsx(dt,{variant:"golden",className:"w-full",children:"Proceed to Checkout"})]})]})]})]}),f.jsxs("div",{className:"flex gap-8",children:[f.jsxs("div",{className:"w-64 space-y-6 hidden md:block",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Search Products"}),f.jsx(Si,{placeholder:"Search by name or description...",value:t.search,onChange:g=>u("search",g.target.value),className:"bg-muted/50 border-primary/20 focus:border-primary"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Category"}),f.jsxs(en,{value:t.category,onValueChange:g=>u("category",g),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Select category"})}),f.jsx(qt,{className:"bg-background",children:qU.map(g=>f.jsx(ot,{value:g,children:g},g))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Size"}),f.jsxs(en,{value:t.size,onValueChange:g=>u("size",g),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Select size"})}),f.jsx(qt,{children:GU.map(g=>f.jsx(ot,{value:g,children:g},g))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Color"}),f.jsxs(en,{value:t.color,onValueChange:g=>u("color",g),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Select color"})}),f.jsx(qt,{children:QU.map(g=>f.jsx(ot,{value:g,children:g},g))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Price Range"}),f.jsxs(en,{value:t.priceRange,onValueChange:g=>u("priceRange",g),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Select price range"})}),f.jsx(qt,{children:KU.map(g=>f.jsx(ot,{value:g,children:g==="All"?"All Prices":`KSH ${g}`},g))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Sort By"}),f.jsxs(en,{value:t.sort,onValueChange:g=>u("sort",g),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Sort by"})}),f.jsxs(qt,{children:[f.jsx(ot,{value:"name",children:"Name"}),f.jsx(ot,{value:"price-low",children:"Price: Low to High"}),f.jsx(ot,{value:"price-high",children:"Price: High to Low"})]})]})]})]}),f.jsx("div",{className:"flex-1",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(g=>f.jsx(Ba,{className:"group overflow-hidden",children:f.jsxs($a,{className:"p-0",children:[f.jsx("div",{className:"aspect-square overflow-hidden",children:f.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:g.name}),f.jsx("span",{className:"text-sm text-primary",children:g.price})]}),f.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:g.category})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ze,{children:"Size"}),f.jsxs(en,{value:i[g.id]||"",onValueChange:S=>o({...i,[g.id]:S}),children:[f.jsx(Wt,{children:f.jsx(tn,{placeholder:"Select size"})}),f.jsx(qt,{children:g.sizes.map(S=>f.jsx(ot,{value:S,children:S},S))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ze,{children:"Color"}),f.jsxs(en,{value:s[g.id]||"",onValueChange:S=>l({...s,[g.id]:S}),children:[f.jsx(Wt,{children:f.jsx(tn,{placeholder:"Select color"})}),f.jsx(qt,{children:g.colors.map(S=>f.jsx(ot,{value:S,children:S},S))})]})]}),f.jsxs(dt,{variant:"golden",className:"w-full",onClick:()=>h(g),children:[f.jsx(jh,{className:"mr-2 h-4 w-4"}),"Add to Cart"]})]})]})]})},g.id))})})]}),f.jsxs(cw,{children:[f.jsx(uw,{asChild:!0,children:f.jsxs(dt,{variant:"outline",size:"icon",className:"relative md:hidden",children:[f.jsx(jh,{className:"h-5 w-5"}),_>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-primary text-primary-foreground rounded-full w-5 h-5 text-xs flex items-center justify-center",children:_})]})}),f.jsxs(Dp,{className:"w-full sm:max-w-lg",children:[f.jsx(Op,{children:f.jsx(Mp,{children:"Shopping Cart"})}),f.jsx(Au,{className:"h-[calc(100vh-10rem)] mt-4",children:n.length===0?f.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Your cart is empty"}):f.jsx("div",{className:"space-y-4",children:n.map((g,S)=>f.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[f.jsx("div",{className:"w-20 h-20 overflow-hidden rounded-md",children:f.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-medium",children:g.name}),f.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[f.jsxs("p",{children:["Size: ",g.size]}),f.jsxs("p",{children:["Color: ",g.color]}),f.jsxs("p",{children:["KSH ",g.price.toLocaleString()]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx(dt,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>m(g.id,g.size,g.color,g.quantity-1),children:f.jsx(F_,{className:"h-4 w-4"})}),f.jsx("span",{className:"w-8 text-center",children:g.quantity}),f.jsx(dt,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>m(g.id,g.size,g.color,g.quantity+1),children:f.jsx(U_,{className:"h-4 w-4"})})]})]}),f.jsx(dt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>E(g.id,g.size,g.color),children:f.jsx(Ha,{className:"h-4 w-4"})})]},`${g.id}-${g.size}-${g.color}-${S}`))})}),n.length>0&&f.jsxs("div",{className:"border-t mt-4 pt-4 space-y-4",children:[f.jsxs("div",{className:"flex justify-between text-lg font-medium",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["KSH ",T.toLocaleString()]})]}),f.jsx(dt,{variant:"golden",className:"w-full",children:"Proceed to Checkout"})]})]})]})]})})},XU=x.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));XU.displayName="Textarea";const JU=OC,ZU=MC,e3=LC,eI=x.forwardRef(({className:t,...e},n)=>f.jsx(wd,{ref:n,className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eI.displayName=wd.displayName;const tI=x.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(e3,{children:[f.jsx(eI,{}),f.jsxs(Ed,{ref:r,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(jC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Ha,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tI.displayName=Ed.displayName;const nI=({className:t,...e})=>f.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});nI.displayName="DialogHeader";const rI=x.forwardRef(({className:t,...e},n)=>f.jsx(Td,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",t),...e}));rI.displayName=Td.displayName;const t3=x.forwardRef(({className:t,...e},n)=>f.jsx(xd,{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));t3.displayName=xd.displayName;var n3=Object.defineProperty,Pu=Object.getOwnPropertySymbols,iI=Object.prototype.hasOwnProperty,oI=Object.prototype.propertyIsEnumerable,fw=(t,e,n)=>e in t?n3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lp=(t,e)=>{for(var n in e||(e={}))iI.call(e,n)&&fw(t,n,e[n]);if(Pu)for(var n of Pu(e))oI.call(e,n)&&fw(t,n,e[n]);return t},jp=(t,e)=>{var n={};for(var r in t)iI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Pu)for(var r of Pu(t))e.indexOf(r)<0&&oI.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Yi;(t=>{const e=class ce{constructor(a,u,d,h){if(this.version=a,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],a<ce.MIN_VERSION||a>ce.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=a*4+17;let m=[];for(let T=0;T<this.size;T++)m.push(!1);for(let T=0;T<this.size;T++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(d);if(this.drawCodewords(E),h==-1){let T=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const g=this.getPenaltyScore();g<T&&(h=_,T=g),this.applyMask(_)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(a,u){const d=t.QrSegment.makeSegments(a);return ce.encodeSegments(d,u)}static encodeBinary(a,u){const d=t.QrSegment.makeBytes(a);return ce.encodeSegments([d],u)}static encodeSegments(a,u,d=1,h=40,m=-1,E=!0){if(!(ce.MIN_VERSION<=d&&d<=h&&h<=ce.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let T,_;for(T=d;;T++){const v=ce.getNumDataCodewords(T,u)*8,A=s.getTotalBits(a,T);if(A<=v){_=A;break}if(T>=h)throw new RangeError("Data too long")}for(const v of[ce.Ecc.MEDIUM,ce.Ecc.QUARTILE,ce.Ecc.HIGH])E&&_<=ce.getNumDataCodewords(T,v)*8&&(u=v);let g=[];for(const v of a){n(v.mode.modeBits,4,g),n(v.numChars,v.mode.numCharCountBits(T),g);for(const A of v.getData())g.push(A)}i(g.length==_);const S=ce.getNumDataCodewords(T,u)*8;i(g.length<=S),n(0,Math.min(4,S-g.length),g),n(0,(8-g.length%8)%8,g),i(g.length%8==0);for(let v=236;g.length<S;v^=253)n(v,8,g);let y=[];for(;y.length*8<g.length;)y.push(0);return g.forEach((v,A)=>y[A>>>3]|=v<<7-(A&7)),new ce(T,u,y,m)}getModule(a,u){return 0<=a&&a<this.size&&0<=u&&u<this.size&&this.modules[u][a]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const a=this.getAlignmentPatternPositions(),u=a.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(a[d],a[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(a){const u=this.errorCorrectionLevel.formatBits<<3|a;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;i(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,r(h,m));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,r(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,r(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,r(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let a=this.version;for(let d=0;d<12;d++)a=a<<1^(a>>>11)*7973;const u=this.version<<12|a;i(u>>>18==0);for(let d=0;d<18;d++){const h=r(u,d),m=this.size-11+d%3,E=Math.floor(d/3);this.setFunctionModule(m,E,h),this.setFunctionModule(E,m,h)}}drawFinderPattern(a,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(d)),E=a+h,T=u+d;0<=E&&E<this.size&&0<=T&&T<this.size&&this.setFunctionModule(E,T,m!=2&&m!=4)}}drawAlignmentPattern(a,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(a+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(a,u,d){this.modules[u][a]=d,this.isFunction[u][a]=!0}addEccAndInterleave(a){const u=this.version,d=this.errorCorrectionLevel;if(a.length!=ce.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=ce.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=ce.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],E=Math.floor(ce.getNumRawDataModules(u)/8),T=h-E%h,_=Math.floor(E/h);let g=[];const S=ce.reedSolomonComputeDivisor(m);for(let v=0,A=0;v<h;v++){let O=a.slice(A,A+_-m+(v<T?0:1));A+=O.length;const M=ce.reedSolomonComputeRemainder(O,S);v<T&&O.push(0),g.push(O.concat(M))}let y=[];for(let v=0;v<g[0].length;v++)g.forEach((A,O)=>{(v!=_-m||O>=T)&&y.push(A[v])});return i(y.length==E),y}drawCodewords(a){if(a.length!=Math.floor(ce.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const E=d-m,_=(d+1&2)==0?this.size-1-h:h;!this.isFunction[_][E]&&u<a.length*8&&(this.modules[_][E]=r(a[u>>>3],7-(u&7)),u++)}}i(u==a.length*8)}applyMask(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(a){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let a=0;for(let m=0;m<this.size;m++){let E=!1,T=0,_=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[m][g]==E?(T++,T==5?a+=ce.PENALTY_N1:T>5&&a++):(this.finderPenaltyAddHistory(T,_),E||(a+=this.finderPenaltyCountPatterns(_)*ce.PENALTY_N3),E=this.modules[m][g],T=1);a+=this.finderPenaltyTerminateAndCount(E,T,_)*ce.PENALTY_N3}for(let m=0;m<this.size;m++){let E=!1,T=0,_=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][m]==E?(T++,T==5?a+=ce.PENALTY_N1:T>5&&a++):(this.finderPenaltyAddHistory(T,_),E||(a+=this.finderPenaltyCountPatterns(_)*ce.PENALTY_N3),E=this.modules[g][m],T=1);a+=this.finderPenaltyTerminateAndCount(E,T,_)*ce.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let E=0;E<this.size-1;E++){const T=this.modules[m][E];T==this.modules[m][E+1]&&T==this.modules[m+1][E]&&T==this.modules[m+1][E+1]&&(a+=ce.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((E,T)=>E+(T?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=h&&h<=9),a+=h*ce.PENALTY_N4,i(0<=a&&a<=2568888),a}getAlignmentPatternPositions(){if(this.version==1)return[];{const a=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2;let d=[6];for(let h=this.size-7;d.length<a;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(a){if(a<ce.MIN_VERSION||a>ce.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*a+128)*a+64;if(a>=2){const d=Math.floor(a/7)+2;u-=(25*d-10)*d-55,a>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(a,u){return Math.floor(ce.getNumRawDataModules(a)/8)-ce.ECC_CODEWORDS_PER_BLOCK[u.ordinal][a]*ce.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][a]}static reedSolomonComputeDivisor(a){if(a<1||a>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<a-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<a;h++){for(let m=0;m<u.length;m++)u[m]=ce.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=ce.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(a,u){let d=u.map(h=>0);for(const h of a){const m=h^d.shift();d.push(0),u.forEach((E,T)=>d[T]^=ce.reedSolomonMultiply(E,m))}return d}static reedSolomonMultiply(a,u){if(a>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*a;return i(d>>>8==0),d}finderPenaltyCountPatterns(a){const u=a[1];i(u<=this.size*3);const d=u>0&&a[2]==u&&a[3]==u*3&&a[4]==u&&a[5]==u;return(d&&a[0]>=u*4&&a[6]>=u?1:0)+(d&&a[6]>=u*4&&a[0]>=u?1:0)}finderPenaltyTerminateAndCount(a,u,d){return a&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(a,u){u[0]==0&&(a+=this.size),u.pop(),u.unshift(a)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,a,u){if(a<0||a>31||l>>>a)throw new RangeError("Value out of range");for(let d=a-1;d>=0;d--)u.push(l>>>d&1)}function r(l,a){return(l>>>a&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const o=class Fe{constructor(a,u,d){if(this.mode=a,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(a){let u=[];for(const d of a)n(d,8,u);return new Fe(Fe.Mode.BYTE,a.length,u)}static makeNumeric(a){if(!Fe.isNumeric(a))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<a.length;){const h=Math.min(a.length-d,3);n(parseInt(a.substring(d,d+h),10),h*3+1,u),d+=h}return new Fe(Fe.Mode.NUMERIC,a.length,u)}static makeAlphanumeric(a){if(!Fe.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=a.length;d+=2){let h=Fe.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d))*45;h+=Fe.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d+1)),n(h,11,u)}return d<a.length&&n(Fe.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d)),6,u),new Fe(Fe.Mode.ALPHANUMERIC,a.length,u)}static makeSegments(a){return a==""?[]:Fe.isNumeric(a)?[Fe.makeNumeric(a)]:Fe.isAlphanumeric(a)?[Fe.makeAlphanumeric(a)]:[Fe.makeBytes(Fe.toUtf8ByteArray(a))]}static makeEci(a){let u=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,u);else if(a<16384)n(2,2,u),n(a,14,u);else if(a<1e6)n(6,3,u),n(a,21,u);else throw new RangeError("ECI assignment value out of range");return new Fe(Fe.Mode.ECI,0,u)}static isNumeric(a){return Fe.NUMERIC_REGEX.test(a)}static isAlphanumeric(a){return Fe.ALPHANUMERIC_REGEX.test(a)}getData(){return this.bitData.slice()}static getTotalBits(a,u){let d=0;for(const h of a){const m=h.mode.numCharCountBits(u);if(h.numChars>=1<<m)return 1/0;d+=4+m+h.bitData.length}return d}static toUtf8ByteArray(a){a=encodeURI(a);let u=[];for(let d=0;d<a.length;d++)a.charAt(d)!="%"?u.push(a.charCodeAt(d)):(u.push(parseInt(a.substring(d+1,d+3),16)),d+=2);return u}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=o;t.QrSegment=o})(Yi||(Yi={}));(t=>{(e=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Yi||(Yi={}));(t=>{(e=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Yi||(Yi={}));var bo=Yi;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var r3={L:bo.QrCode.Ecc.LOW,M:bo.QrCode.Ecc.MEDIUM,Q:bo.QrCode.Ecc.QUARTILE,H:bo.QrCode.Ecc.HIGH},sI=128,aI="L",lI="#FFFFFF",cI="#000000",uI=!1,dI=1,i3=4,o3=0,s3=.1;function hI(t,e=0){const n=[];return t.forEach(function(r,i){let o=null;r.forEach(function(s,l){if(!s&&o!==null){n.push(`M${o+e} ${i+e}h${l-o}v1H${o+e}z`),o=null;return}if(l===r.length-1){if(!s)return;o===null?n.push(`M${l+e},${i+e} h1v1H${l+e}z`):n.push(`M${o+e},${i+e} h${l+1-o}v1H${o+e}z`);return}s&&o===null&&(o=l)})}),n.join("")}function fI(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,o)=>o<e.x||o>=e.x+e.w?i:!1))}function a3(t,e,n,r){if(r==null)return null;const i=t.length+n*2,o=Math.floor(e*s3),s=i/e,l=(r.width||o)*s,a=(r.height||o)*s,u=r.x==null?t.length/2-l/2:r.x*s,d=r.y==null?t.length/2-a/2:r.y*s,h=r.opacity==null?1:r.opacity;let m=null;if(r.excavate){let T=Math.floor(u),_=Math.floor(d),g=Math.ceil(l+u-T),S=Math.ceil(a+d-_);m={x:T,y:_,w:g,h:S}}const E=r.crossOrigin;return{x:u,y:d,h:a,w:l,excavation:m,opacity:h,crossOrigin:E}}function l3(t,e){return e!=null?Math.max(Math.floor(e),0):t?i3:o3}function pI({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:s,boostLevel:l}){let a=Ce.useMemo(()=>{const T=(Array.isArray(t)?t:[t]).reduce((_,g)=>(_.push(...bo.QrSegment.makeSegments(g)),_),[]);return bo.QrCode.encodeSegments(T,r3[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:m}=Ce.useMemo(()=>{let E=a.getModules();const T=l3(r,i),_=E.length+T*2,g=a3(E,s,T,o);return{cells:E,margin:T,numCells:_,calculatedImageSettings:g}},[a,s,o,r,i]);return{qrcode:a,margin:d,cells:u,numCells:h,calculatedImageSettings:m}}var c3=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),u3=Ce.forwardRef(function(e,n){const r=e,{value:i,size:o=sI,level:s=aI,bgColor:l=lI,fgColor:a=cI,includeMargin:u=uI,minVersion:d=dI,boostLevel:h,marginSize:m,imageSettings:E}=r,_=jp(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=_,S=jp(_,["style"]),y=E==null?void 0:E.src,v=Ce.useRef(null),A=Ce.useRef(null),O=Ce.useCallback(U=>{v.current=U,typeof n=="function"?n(U):n&&(n.current=U)},[n]),[M,I]=Ce.useState(!1),{margin:C,cells:P,numCells:b,calculatedImageSettings:k}=pI({value:i,level:s,minVersion:d,boostLevel:h,includeMargin:u,marginSize:m,imageSettings:E,size:o});Ce.useEffect(()=>{if(v.current!=null){const U=v.current,Q=U.getContext("2d");if(!Q)return;let Y=P;const K=A.current,V=k!=null&&K!==null&&K.complete&&K.naturalHeight!==0&&K.naturalWidth!==0;V&&k.excavation!=null&&(Y=fI(P,k.excavation));const B=window.devicePixelRatio||1;U.height=U.width=o*B;const W=o/b*B;Q.scale(W,W),Q.fillStyle=l,Q.fillRect(0,0,b,b),Q.fillStyle=a,c3?Q.fill(new Path2D(hI(Y,C))):P.forEach(function(ee,ie){ee.forEach(function(le,Ae){le&&Q.fillRect(Ae+C,ie+C,1,1)})}),k&&(Q.globalAlpha=k.opacity),V&&Q.drawImage(K,k.x+C,k.y+C,k.w,k.h)}}),Ce.useEffect(()=>{I(!1)},[y]);const D=Lp({height:o,width:o},g);let N=null;return y!=null&&(N=Ce.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{I(!0)},ref:A,crossOrigin:k==null?void 0:k.crossOrigin})),Ce.createElement(Ce.Fragment,null,Ce.createElement("canvas",Lp({style:D,height:o,width:o,ref:O,role:"img"},S)),N)});u3.displayName="QRCodeCanvas";var mI=Ce.forwardRef(function(e,n){const r=e,{value:i,size:o=sI,level:s=aI,bgColor:l=lI,fgColor:a=cI,includeMargin:u=uI,minVersion:d=dI,boostLevel:h,title:m,marginSize:E,imageSettings:T}=r,_=jp(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:S,numCells:y,calculatedImageSettings:v}=pI({value:i,level:s,minVersion:d,boostLevel:h,includeMargin:u,marginSize:E,imageSettings:T,size:o});let A=S,O=null;T!=null&&v!=null&&(v.excavation!=null&&(A=fI(S,v.excavation)),O=Ce.createElement("image",{href:T.src,height:v.h,width:v.w,x:v.x+g,y:v.y+g,preserveAspectRatio:"none",opacity:v.opacity,crossOrigin:v.crossOrigin}));const M=hI(A,g);return Ce.createElement("svg",Lp({height:o,width:o,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},_),!!m&&Ce.createElement("title",null,m),Ce.createElement("path",{fill:l,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),Ce.createElement("path",{fill:a,d:M,shapeRendering:"crispEdges"}),O)});mI.displayName="QRCodeSVG";const d3=[{id:1,name:"Eastlands Matatu Experience",date:"2024-01-15",time:"10:00 AM",price:2500,description:"Experience the vibrant matatu culture of Eastlands. Visit popular stops and learn about the art and music that defines the scene.",route:"CBD - Buruburu - Umoja - Kayole",availableSeats:15,image:"/Rt 33/20240605_095219_lmc_8.4.jpg",category:"Cultural",duration:"4 hours",includes:["Guide","Snacks","Photos","Matatu Rides"],meetingPoint:"CBD Bus Station"},{id:2,name:"Ngong Road Art Tour",date:"2024-01-20",time:"2:00 PM",price:3e3,description:"Discover the artistic matatus of Ngong Road. Meet artists and learn about the inspiration behind their designs.",route:"CBD - Yaya - Junction - Karen",availableSeats:12,image:"/Rt 33/20240615_135711_lmc_8.4.jpg",category:"Art",duration:"5 hours",includes:["Artist Meet","Art Materials","Photos","Matatu Rides"],meetingPoint:"Yaya Centre"},{id:3,name:"Thika Road Night Experience",date:"2024-01-25",time:"7:00 PM",price:3500,description:"Experience the nightlife of Thika Road matatus. See the LED lights and experience the sound systems.",route:"CBD - Allsops - Roysambu - Kahawa",availableSeats:10,image:"/Rt 33/20240615_155923_lmc_8.4.jpg",category:"Night Life",duration:"6 hours",includes:["Dinner","Club Entry","Photos","Matatu Rides"],meetingPoint:"Thika Road Mall"},{id:4,name:"Mombasa Road Culture Tour",date:"2024-02-01",time:"11:00 AM",price:2800,description:"Explore the unique matatu culture of Mombasa Road. Visit major stops and experience different matatu designs.",route:"CBD - South B - Imara - Mlolongo",availableSeats:8,image:"/Rt 33/20240615_160357_lmc_8.4.jpg",category:"Cultural",duration:"5 hours",includes:["Lunch","Photos","Matatu Rides"],meetingPoint:"South B Shopping Centre"},{id:5,name:"Photography Workshop Tour",date:"2024-02-05",time:"9:00 AM",price:4e3,description:"Learn to capture the essence of matatu culture through photography. Professional photographer included.",route:"CBD - Various Locations",availableSeats:6,image:"/Rt 33/20240615_155923_lmc_8.4.jpg",category:"Workshop",duration:"8 hours",includes:["Camera Rental","Lunch","Photo Editing Session","Matatu Rides"],meetingPoint:"KICC"},{id:6,name:"Matatu Music Experience",date:"2024-02-10",time:"3:00 PM",price:3200,description:"Immerse yourself in the music culture of matatus. Meet DJs and experience live mixing.",route:"CBD - Eastlands - Westlands",availableSeats:10,image:"/Rt 33/20240615_160357_lmc_8.4.jpg",category:"Music",duration:"6 hours",includes:["DJ Session","Dinner","Club Entry","Matatu Rides"],meetingPoint:"Westlands"}],h3=d3.map(t=>({...t,reviews:[{id:1,author:"John Doe",rating:5,comment:"Amazing experience! The guide was very knowledgeable and friendly.",date:"2024-01-01"},{id:2,author:"Jane Smith",rating:4,comment:"Great tour, loved learning about the matatu culture.",date:"2024-01-02"}],averageRating:4.5,totalReviews:2})),f3=["All","Cultural","Art","Night Life","Workshop","Music"],p3=["All","4 hours","5 hours","6 hours","8 hours"],m3=["All","0-3000","3001-4000","4001+"],g3=()=>{const[t,e]=x.useState(null),[n,r]=x.useState({name:"",email:"",phone:"",numberOfTickets:1,preferredContact:"email"}),[i,o]=x.useState(null),[s,l]=x.useState(""),[a,u]=x.useState("All"),[d,h]=x.useState("All"),[m,E]=x.useState("All"),[T,_]=x.useState("date");x.useState(null),x.useState({rating:0,author:"",comment:""});const g=x.useMemo(()=>h3.filter(v=>{const A=v.name.toLowerCase().includes(s.toLowerCase())||v.description.toLowerCase().includes(s.toLowerCase()),O=a==="All"||v.category===a,M=d==="All"||v.duration===d;let I=!0;if(m!=="All"){const[C,P]=m.split("-").map(Number);P?I=v.price>=C&&v.price<=P:I=v.price>=C}return A&&O&&M&&I}).sort((v,A)=>{switch(T){case"price-low":return v.price-A.price;case"price-high":return A.price-v.price;case"date":default:return new Date(v.date)-new Date(A.date)}}),[s,a,d,m,T]),S=v=>{v.preventDefault();const O={ticketId:`TKT-${Math.random().toString(36).substr(2,9).toUpperCase()}`,tripId:t.id,tripName:t.name,tripDate:t.date,tripTime:t.time,...n,purchaseDate:new Date().toISOString()};o(O)},y=v=>[...Array(5)].map((A,O)=>f.jsx(pV,{className:ye("h-4 w-4",O<Math.floor(v)?"text-primary fill-primary":O<v?"text-primary fill-primary/50":"text-muted-foreground")},O));return f.jsx("div",{className:"min-h-screen bg-background py-12",children:f.jsxs("div",{className:"container mx-auto px-4 pt-8",children:[f.jsx("div",{className:"flex justify-between items-center mb-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:"Groove Trips"}),f.jsx("p",{className:"text-muted-foreground",children:"Experience the vibrant matatu culture through our curated trips"})]})}),f.jsxs("div",{className:"flex gap-8",children:[f.jsxs("div",{className:"w-64 space-y-6 hidden md:block",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Search Trips"}),f.jsx(Si,{placeholder:"Search by name or description...",value:s,onChange:v=>l(v.target.value),className:"bg-muted/50 border-primary/20 focus:border-primary"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Category"}),f.jsxs(en,{value:a,onValueChange:v=>u(v),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Select category"})}),f.jsx(qt,{className:"bg-background",children:f3.map(v=>f.jsx(ot,{value:v,children:v},v))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Duration"}),f.jsxs(en,{value:d,onValueChange:v=>h(v),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Select duration"})}),f.jsx(qt,{children:p3.map(v=>f.jsx(ot,{value:v,children:v},v))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Price Range"}),f.jsxs(en,{value:m,onValueChange:v=>E(v),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Select price range"})}),f.jsx(qt,{children:m3.map(v=>f.jsx(ot,{value:v,children:v==="All"?"All Prices":`KSH ${v}`},v))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ze,{children:"Sort By"}),f.jsxs(en,{value:T,onValueChange:v=>_(v),children:[f.jsx(Wt,{className:"bg-muted/50 border-primary/20",children:f.jsx(tn,{placeholder:"Sort by"})}),f.jsxs(qt,{children:[f.jsx(ot,{value:"date",children:"Date"}),f.jsx(ot,{value:"price-low",children:"Price: Low to High"}),f.jsx(ot,{value:"price-high",children:"Price: High to Low"})]})]})]})]}),f.jsx("div",{className:"flex-1",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(v=>f.jsx(Ba,{className:"group overflow-hidden",children:f.jsxs($a,{className:"p-0",children:[f.jsx("div",{className:"aspect-video overflow-hidden",children:f.jsx("img",{src:v.image,alt:v.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:v.name}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(v.date).toLocaleDateString()," at ",v.time]})]}),f.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:v.category})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:v.description}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex",children:y(v.averageRating)}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",v.totalReviews," reviews)"]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-lg font-semibold text-primary",children:["KSH ",v.price.toLocaleString()]}),f.jsxs(JU,{children:[f.jsx(ZU,{asChild:!0,children:f.jsx(dt,{variant:"golden",children:"Book Now"})}),f.jsxs(tI,{className:"sm:max-w-md",children:[f.jsx(nI,{children:f.jsx(rI,{children:v.name})}),f.jsx(Au,{className:"h-[calc(100vh-10rem)] mt-4",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-muted-foreground",children:v.description}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex",children:y(v.averageRating)}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",v.totalReviews," reviews)"]})]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(v.date).toLocaleDateString()," at ",v.time]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Meeting Point: ",v.meetingPoint]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Duration: ",v.duration]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Includes: ",v.includes.join(", ")]}),f.jsxs("form",{onSubmit:S,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ze,{htmlFor:"name",children:"Name"}),f.jsx(Si,{id:"name",value:n.name,onChange:A=>r({...n,name:A.target.value}),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ze,{htmlFor:"email",children:"Email"}),f.jsx(Si,{id:"email",type:"email",value:n.email,onChange:A=>r({...n,email:A.target.value}),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ze,{htmlFor:"phone",children:"Phone"}),f.jsx(Si,{id:"phone",type:"tel",value:n.phone,onChange:A=>r({...n,phone:A.target.value}),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ze,{htmlFor:"numberOfTickets",children:"Number of Tickets"}),f.jsx(Si,{id:"numberOfTickets",type:"number",min:"1",value:n.numberOfTickets,onChange:A=>r({...n,numberOfTickets:parseInt(A.target.value,10)}),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ze,{htmlFor:"preferredContact",children:"Preferred Contact"}),f.jsxs(en,{value:n.preferredContact,onValueChange:A=>r({...n,preferredContact:A}),children:[f.jsx(Wt,{children:f.jsx(tn,{placeholder:"Select contact method"})}),f.jsxs(qt,{children:[f.jsx(ot,{value:"email",children:"Email"}),f.jsx(ot,{value:"phone",children:"Phone"})]})]})]}),f.jsx(dt,{type:"submit",variant:"golden",className:"w-full",children:"Confirm Booking"})]}),i&&f.jsxs("div",{className:"mt-4 p-4 border rounded-lg",children:[f.jsx("h4",{className:"font-semibold",children:"Booking Confirmation"}),f.jsxs("p",{children:["Ticket ID: ",i.ticketId]}),f.jsxs("p",{children:["Trip: ",i.tripName]}),f.jsxs("p",{children:["Date: ",new Date(i.tripDate).toLocaleDateString()," at ",i.tripTime]}),f.jsxs("p",{children:["Name: ",i.name]}),f.jsxs("p",{children:["Email: ",i.email]}),f.jsxs("p",{children:["Phone: ",i.phone]}),f.jsxs("p",{children:["Tickets: ",i.numberOfTickets]}),f.jsxs("p",{children:["Contact: ",i.preferredContact]}),f.jsxs("p",{children:["Purchase Date: ",new Date(i.purchaseDate).toLocaleString()]}),f.jsx("div",{className:"mt-4",children:f.jsx(mI,{value:JSON.stringify(i),size:128})})]})]})})]})]})]})]})]})},v.id))})})]})]})})};const Qh=({children:t,className:e="",options:n={}})=>{const r=x.useRef(null),i=x.useRef(null),o=x.useRef({x:0,y:0}),l={...{perspective:1e3,scale:1.05,rotation:{x:20,y:20,z:0},transition:{duration:400,easing:"cubic-bezier(.03,.98,.52,.99)"},shine:!0},...n};return x.useEffect(()=>{const a=r.current;if(!a)return;const u=m=>{const E=a.getBoundingClientRect();if(i.current={top:E.top,left:E.left,width:E.width,height:E.height},a.style.transition="none",l.shine){const T=a.querySelector(".shine");T&&(T.style.transition="none")}},d=m=>{if(!i.current)return;const E=i.current;E.left+E.width/2,E.top+E.height/2;const T=m.clientX-E.left,_=m.clientY-E.top,g=(_-E.height/2)/E.height*l.rotation.x*-1,S=(T-E.width/2)/E.width*l.rotation.y;if(o.current={x:T,y:_},a.style.transform=`
        perspective(${l.perspective}px)
        rotateX(${g}deg)
        rotateY(${S}deg)
        scale3d(${l.scale}, ${l.scale}, ${l.scale})
      `,l.shine){const y=a.querySelector(".shine");if(y){const v=.5+_/E.height*.5;y.style.background=`linear-gradient(
            ${Math.atan2(_-E.height/2,T-E.width/2)*(180/Math.PI)}deg,
            rgba(255,255,255,${v}) 0%,
            rgba(255,255,255,0) 80%
          )`}}},h=()=>{if(i.current=null,a.style.transition=`transform ${l.transition.duration}ms ${l.transition.easing}`,a.style.transform=`
        perspective(${l.perspective}px)
        rotateX(0deg)
        rotateY(0deg)
        scale3d(1, 1, 1)
      `,l.shine){const m=a.querySelector(".shine");m&&(m.style.transition=`opacity ${l.transition.duration}ms ${l.transition.easing}`,m.style.opacity="0")}};return a.addEventListener("mouseenter",u),a.addEventListener("mousemove",d),a.addEventListener("mouseleave",h),()=>{a.removeEventListener("mouseenter",u),a.removeEventListener("mousemove",d),a.removeEventListener("mouseleave",h)}},[l]),f.jsxs("div",{ref:r,className:`tilt-card ${e}`,children:[l.shine&&f.jsx("div",{className:"shine"}),f.jsx("div",{className:"tilt-card-content",children:t})]})};const v3=()=>{const[t,e]=x.useState({name:"",email:"",phone:"",date:"",time:"",duration:"",passengers:"",occasion:"",requirements:""}),n=i=>{const{name:o,value:s}=i.target;e(l=>({...l,[o]:s}))},r=i=>{i.preventDefault(),console.log("Booking submitted:",t),alert("Thank you for your booking request! We will contact you shortly.")};return f.jsxs("div",{className:"hire",children:[f.jsx("section",{className:"hire__hero",children:f.jsxs(Mi,{children:[f.jsx("h1",{className:"hire__title",children:"Hire a Matatu"}),f.jsx("p",{className:"hire__subtitle",children:"Custom rides for your special occasions"})]})}),f.jsx("section",{className:"hire__features",children:f.jsxs("div",{className:"hire__features-grid",children:[f.jsxs(Qh,{className:"hire__feature",children:[f.jsx("div",{className:"hire__feature-icon",children:"🎉"}),f.jsx("h3",{children:"Events & Parties"}),f.jsx("p",{children:"Perfect for birthdays, weddings, and corporate events"})]}),f.jsxs(Qh,{className:"hire__feature",children:[f.jsx("div",{className:"hire__feature-icon",children:"🎵"}),f.jsx("h3",{children:"Custom Sound System"}),f.jsx("p",{children:"State-of-the-art audio equipment for your entertainment"})]}),f.jsxs(Qh,{className:"hire__feature",children:[f.jsx("div",{className:"hire__feature-icon",children:"🎨"}),f.jsx("h3",{children:"Unique Designs"}),f.jsx("p",{children:"Choose from our collection of artistically designed matatus"})]})]})}),f.jsxs("section",{className:"hire__form-section",children:[f.jsx(Mi,{children:f.jsx("h2",{className:"hire__form-title",children:"Book Your Ride"})}),f.jsxs("form",{className:"hire__form",onSubmit:r,children:[f.jsxs("div",{className:"hire__form-group",children:[f.jsx("input",{type:"text",name:"name",value:t.name,onChange:n,placeholder:"Your Name",required:!0}),f.jsx("input",{type:"email",name:"email",value:t.email,onChange:n,placeholder:"Email Address",required:!0})]}),f.jsxs("div",{className:"hire__form-group",children:[f.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:n,placeholder:"Phone Number",required:!0}),f.jsx("input",{type:"date",name:"date",value:t.date,onChange:n,required:!0})]}),f.jsxs("div",{className:"hire__form-group",children:[f.jsx("input",{type:"time",name:"time",value:t.time,onChange:n,required:!0}),f.jsxs("select",{name:"duration",value:t.duration,onChange:n,required:!0,children:[f.jsx("option",{value:"",children:"Select Duration"}),f.jsx("option",{value:"2",children:"2 Hours"}),f.jsx("option",{value:"4",children:"4 Hours"}),f.jsx("option",{value:"6",children:"6 Hours"}),f.jsx("option",{value:"8",children:"8 Hours"}),f.jsx("option",{value:"custom",children:"Custom Duration"})]})]}),f.jsxs("div",{className:"hire__form-group",children:[f.jsx("input",{type:"number",name:"passengers",value:t.passengers,onChange:n,placeholder:"Number of Passengers",min:"1",required:!0}),f.jsxs("select",{name:"occasion",value:t.occasion,onChange:n,required:!0,children:[f.jsx("option",{value:"",children:"Select Occasion"}),f.jsx("option",{value:"wedding",children:"Wedding"}),f.jsx("option",{value:"birthday",children:"Birthday"}),f.jsx("option",{value:"corporate",children:"Corporate Event"}),f.jsx("option",{value:"tour",children:"City Tour"}),f.jsx("option",{value:"other",children:"Other"})]})]}),f.jsx("textarea",{name:"requirements",value:t.requirements,onChange:n,placeholder:"Special Requirements or Notes",rows:"4"}),f.jsx("button",{type:"submit",className:"hire__submit-btn",children:"Submit Booking Request"})]})]}),f.jsxs("section",{className:"hire__verification",children:[f.jsx(Mi,{children:f.jsx("h2",{children:"Verification Process"})}),f.jsxs("div",{className:"hire__verification-steps",children:[f.jsxs("div",{className:"hire__step",children:[f.jsx("div",{className:"hire__step-number",children:"1"}),f.jsx("h3",{children:"Submit Request"}),f.jsx("p",{children:"Fill out the booking form with your requirements"})]}),f.jsxs("div",{className:"hire__step",children:[f.jsx("div",{className:"hire__step-number",children:"2"}),f.jsx("h3",{children:"Confirmation"}),f.jsx("p",{children:"Receive confirmation and price quote within 2 hours"})]}),f.jsxs("div",{className:"hire__step",children:[f.jsx("div",{className:"hire__step-number",children:"3"}),f.jsx("h3",{children:"Payment"}),f.jsx("p",{children:"Secure your booking with a deposit payment"})]}),f.jsxs("div",{className:"hire__step",children:[f.jsx("div",{className:"hire__step-number",children:"4"}),f.jsx("h3",{children:"Enjoy Your Ride"}),f.jsx("p",{children:"Experience the unique Matatu culture"})]})]})]})]})};var Qg="ToastProvider",[Yg,y3,_3]=l1("Toast"),[gI,J3]=_s("Toast",[_3]),[w3,Id]=gI(Qg),vI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[l,a]=x.useState(null),[u,d]=x.useState(0),h=x.useRef(!1),m=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qg}\`. Expected non-empty \`string\`.`),f.jsx(Yg.Provider,{scope:e,children:f.jsx(w3,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:a,onToastAdd:x.useCallback(()=>d(E=>E+1),[]),onToastRemove:x.useCallback(()=>d(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:s})})};vI.displayName=Qg;var yI="ToastViewport",E3=["F8"],Vp="toast.viewportPause",Fp="toast.viewportResume",_I=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=E3,label:i="Notifications ({hotkey})",...o}=t,s=Id(yI,n),l=y3(n),a=x.useRef(null),u=x.useRef(null),d=x.useRef(null),h=x.useRef(null),m=Se(e,h,s.onViewportChange),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=s.toastCount>0;x.useEffect(()=>{const g=S=>{var v;r.length!==0&&r.every(A=>S[A]||S.code===A)&&((v=h.current)==null||v.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),x.useEffect(()=>{const g=a.current,S=h.current;if(T&&g&&S){const y=()=>{if(!s.isClosePausedRef.current){const M=new CustomEvent(Vp);S.dispatchEvent(M),s.isClosePausedRef.current=!0}},v=()=>{if(s.isClosePausedRef.current){const M=new CustomEvent(Fp);S.dispatchEvent(M),s.isClosePausedRef.current=!1}},A=M=>{!g.contains(M.relatedTarget)&&v()},O=()=>{g.contains(document.activeElement)||v()};return g.addEventListener("focusin",y),g.addEventListener("focusout",A),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",A),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[T,s.isClosePausedRef]);const _=x.useCallback(({tabbingDirection:g})=>{const y=l().map(v=>{const A=v.ref.current,O=[A,...O3(A)];return g==="forwards"?O:O.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const g=h.current;if(g){const S=y=>{var O,M,I;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const C=document.activeElement,P=y.shiftKey;if(y.target===g&&P){(O=u.current)==null||O.focus();return}const D=_({tabbingDirection:P?"backwards":"forwards"}),N=D.findIndex(U=>U===C);Yh(D.slice(N+1))?y.preventDefault():P?(M=u.current)==null||M.focus():(I=d.current)==null||I.focus()}};return g.addEventListener("keydown",S),()=>g.removeEventListener("keydown",S)}},[l,_]),f.jsxs(PV,{ref:a,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&f.jsx(Up,{ref:u,onFocusFromOutsideViewport:()=>{const g=_({tabbingDirection:"forwards"});Yh(g)}}),f.jsx(Yg.Slot,{scope:n,children:f.jsx(de.ol,{tabIndex:-1,...o,ref:m})}),T&&f.jsx(Up,{ref:d,onFocusFromOutsideViewport:()=>{const g=_({tabbingDirection:"backwards"});Yh(g)}})]})});_I.displayName=yI;var wI="ToastFocusProxy",Up=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Id(wI,n);return f.jsx(md,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Up.displayName=wI;var Rd="Toast",T3="toast.swipeStart",x3="toast.swipeMove",S3="toast.swipeCancel",C3="toast.swipeEnd",EI=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[l=!0,a]=xu({prop:r,defaultProp:i,onChange:o});return f.jsx(_r,{present:n||l,children:f.jsx(A3,{open:l,...s,ref:e,onClose:()=>a(!1),onPause:Ye(t.onPause),onResume:Ye(t.onResume),onSwipeStart:oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),a(!1)})})})});EI.displayName=Rd;var[I3,R3]=gI(Rd,{onClose(){}}),A3=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:l,onPause:a,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:E,...T}=t,_=Id(Rd,n),[g,S]=x.useState(null),y=Se(e,U=>S(U)),v=x.useRef(null),A=x.useRef(null),O=i||_.duration,M=x.useRef(0),I=x.useRef(O),C=x.useRef(0),{onToastAdd:P,onToastRemove:b}=_,k=Ye(()=>{var Q;(g==null?void 0:g.contains(document.activeElement))&&((Q=_.viewport)==null||Q.focus()),s()}),D=x.useCallback(U=>{!U||U===1/0||(window.clearTimeout(C.current),M.current=new Date().getTime(),C.current=window.setTimeout(k,U))},[k]);x.useEffect(()=>{const U=_.viewport;if(U){const Q=()=>{D(I.current),u==null||u()},Y=()=>{const K=new Date().getTime()-M.current;I.current=I.current-K,window.clearTimeout(C.current),a==null||a()};return U.addEventListener(Vp,Y),U.addEventListener(Fp,Q),()=>{U.removeEventListener(Vp,Y),U.removeEventListener(Fp,Q)}}},[_.viewport,O,a,u,D]),x.useEffect(()=>{o&&!_.isClosePausedRef.current&&D(O)},[o,O,_.isClosePausedRef,D]),x.useEffect(()=>(P(),()=>b()),[P,b]);const N=x.useMemo(()=>g?AI(g):null,[g]);return _.viewport?f.jsxs(f.Fragment,{children:[N&&f.jsx(P3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),f.jsx(I3,{scope:n,onClose:k,children:Zi.createPortal(f.jsx(Yg.ItemSlot,{scope:n,children:f.jsx(AV,{asChild:!0,onEscapeKeyDown:oe(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||k(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":_.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:oe(t.onPointerDown,U=>{U.button===0&&(v.current={x:U.clientX,y:U.clientY})}),onPointerMove:oe(t.onPointerMove,U=>{if(!v.current)return;const Q=U.clientX-v.current.x,Y=U.clientY-v.current.y,K=!!A.current,V=["left","right"].includes(_.swipeDirection),B=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,W=V?B(0,Q):0,ee=V?0:B(0,Y),ie=U.pointerType==="touch"?10:2,le={x:W,y:ee},Ae={originalEvent:U,delta:le};K?(A.current=le,ic(x3,h,Ae,{discrete:!1})):pw(le,_.swipeDirection,ie)?(A.current=le,ic(T3,d,Ae,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(Q)>ie||Math.abs(Y)>ie)&&(v.current=null)}),onPointerUp:oe(t.onPointerUp,U=>{const Q=A.current,Y=U.target;if(Y.hasPointerCapture(U.pointerId)&&Y.releasePointerCapture(U.pointerId),A.current=null,v.current=null,Q){const K=U.currentTarget,V={originalEvent:U,delta:Q};pw(Q,_.swipeDirection,_.swipeThreshold)?ic(C3,E,V,{discrete:!0}):ic(S3,m,V,{discrete:!0}),K.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),P3=t=>{const{__scopeToast:e,children:n,...r}=t,i=Id(Rd,e),[o,s]=x.useState(!1),[l,a]=x.useState(!1);return k3(()=>s(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>a(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:f.jsx(pd,{asChild:!0,children:f.jsx(md,{...r,children:o&&f.jsxs(f.Fragment,{children:[i.label," ",n]})})})},b3="ToastTitle",TI=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(de.div,{...r,ref:e})});TI.displayName=b3;var N3="ToastDescription",xI=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(de.div,{...r,ref:e})});xI.displayName=N3;var SI="ToastAction",CI=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(RI,{altText:n,asChild:!0,children:f.jsx(Xg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${SI}\`. Expected non-empty \`string\`.`),null)});CI.displayName=SI;var II="ToastClose",Xg=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=R3(II,n);return f.jsx(RI,{asChild:!0,children:f.jsx(de.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,i.onClose)})})});Xg.displayName=II;var RI=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return f.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function AI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),D3(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...AI(r))}}),e}function ic(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?o1(i,o):i.dispatchEvent(o)}var pw=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function k3(t=()=>{}){const e=Ye(t);vt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function D3(t){return t.nodeType===t.ELEMENT_NODE}function O3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var M3=vI,PI=_I,bI=EI,NI=TI,kI=xI,DI=CI,OI=Xg;const L3=M3,MI=x.forwardRef(({className:t,...e},n)=>f.jsx(PI,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));MI.displayName=PI.displayName;const j3=Ag("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LI=x.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(bI,{ref:r,className:ye(j3({variant:e}),t),...n}));LI.displayName=bI.displayName;const V3=x.forwardRef(({className:t,...e},n)=>f.jsx(DI,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));V3.displayName=DI.displayName;const jI=x.forwardRef(({className:t,...e},n)=>f.jsx(OI,{ref:n,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(Ha,{className:"h-4 w-4"})}));jI.displayName=OI.displayName;const VI=x.forwardRef(({className:t,...e},n)=>f.jsx(NI,{ref:n,className:ye("text-sm font-semibold",t),...e}));VI.displayName=NI.displayName;const FI=x.forwardRef(({className:t,...e},n)=>f.jsx(kI,{ref:n,className:ye("text-sm opacity-90",t),...e}));FI.displayName=kI.displayName;function F3(){const{toasts:t}=ZC();return f.jsxs(L3,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return f.jsxs(LI,{...o,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(VI,{children:n}),r&&f.jsx(FI,{children:r})]}),i,f.jsx(jI,{})]},e)}),f.jsx(MI,{})]})}function U3(){const[t,e]=x.useState([]),[n,r]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const s=(await uD(Q2(zM,"matatus"))).docs.map(l=>({id:l.id,...l.data()}));e(s)}catch(o){console.error("Error fetching matatus:",o)}finally{r(!1)}})()},[]),n?f.jsx("div",{className:"app app--loading",children:f.jsx(Mi,{direction:"lr",bgcolor:"#7f40f1",delay:300,children:f.jsx("h1",{children:"Loading Matatus..."})})}):f.jsx(pj,{children:f.jsxs("div",{className:"min-h-screen mx-auto bg-background text-foreground",children:[f.jsx(yj,{}),f.jsx("main",{children:f.jsxs(aj,{children:[f.jsx(go,{path:"/",element:f.jsx(z_,{})}),f.jsx(go,{path:"/shop",element:f.jsx(YU,{})}),f.jsx(go,{path:"/groove-trips",element:f.jsx(g3,{})}),f.jsx(go,{path:"/hire",element:f.jsx(v3,{})}),f.jsx(go,{path:"*",element:f.jsx(z_,{})})]})}),f.jsx(F3,{})]})})}Xh.createRoot(document.getElementById("root")).render(f.jsx(Ce.StrictMode,{children:f.jsx(U3,{})}));
